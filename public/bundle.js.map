{"version":3,"file":"bundle.js","sources":["../node_modules/smoothscroll-for-websites/SmoothScroll.js","../node_modules/pace-js/pace.js","../node_modules/ssr-window/ssr-window.esm.js","../node_modules/dom7/dom7.esm.js","../node_modules/swiper/esm/utils/dom.js","../node_modules/swiper/esm/utils/get-support.js","../node_modules/swiper/esm/utils/get-device.js","../node_modules/swiper/esm/utils/get-browser.js","../node_modules/swiper/esm/utils/utils.js","../node_modules/swiper/esm/modules/resize/resize.js","../node_modules/swiper/esm/modules/observer/observer.js","../node_modules/swiper/esm/components/core/modular.js","../node_modules/swiper/esm/components/core/events-emitter.js","../node_modules/swiper/esm/components/core/update/updateSize.js","../node_modules/swiper/esm/components/core/update/updateSlides.js","../node_modules/swiper/esm/components/core/update/updateAutoHeight.js","../node_modules/swiper/esm/components/core/update/updateSlidesOffset.js","../node_modules/swiper/esm/components/core/update/updateSlidesProgress.js","../node_modules/swiper/esm/components/core/update/updateProgress.js","../node_modules/swiper/esm/components/core/update/updateSlidesClasses.js","../node_modules/swiper/esm/components/core/update/updateActiveIndex.js","../node_modules/swiper/esm/components/core/update/updateClickedSlide.js","../node_modules/swiper/esm/components/core/update/index.js","../node_modules/swiper/esm/components/core/translate/getTranslate.js","../node_modules/swiper/esm/components/core/translate/setTranslate.js","../node_modules/swiper/esm/components/core/translate/minTranslate.js","../node_modules/swiper/esm/components/core/translate/maxTranslate.js","../node_modules/swiper/esm/components/core/translate/translateTo.js","../node_modules/swiper/esm/components/core/translate/index.js","../node_modules/swiper/esm/components/core/transition/setTransition.js","../node_modules/swiper/esm/components/core/transition/transitionStart.js","../node_modules/swiper/esm/components/core/transition/transitionEnd.js","../node_modules/swiper/esm/components/core/transition/index.js","../node_modules/swiper/esm/components/core/slide/slideTo.js","../node_modules/swiper/esm/components/core/slide/slideToLoop.js","../node_modules/swiper/esm/components/core/slide/slideNext.js","../node_modules/swiper/esm/components/core/slide/slidePrev.js","../node_modules/swiper/esm/components/core/slide/slideReset.js","../node_modules/swiper/esm/components/core/slide/slideToClosest.js","../node_modules/swiper/esm/components/core/slide/slideToClickedSlide.js","../node_modules/swiper/esm/components/core/slide/index.js","../node_modules/swiper/esm/components/core/loop/loopCreate.js","../node_modules/swiper/esm/components/core/loop/loopFix.js","../node_modules/swiper/esm/components/core/loop/loopDestroy.js","../node_modules/swiper/esm/components/core/loop/index.js","../node_modules/swiper/esm/components/core/grab-cursor/setGrabCursor.js","../node_modules/swiper/esm/components/core/grab-cursor/unsetGrabCursor.js","../node_modules/swiper/esm/components/core/grab-cursor/index.js","../node_modules/swiper/esm/components/core/manipulation/appendSlide.js","../node_modules/swiper/esm/components/core/manipulation/prependSlide.js","../node_modules/swiper/esm/components/core/manipulation/addSlide.js","../node_modules/swiper/esm/components/core/manipulation/removeSlide.js","../node_modules/swiper/esm/components/core/manipulation/removeAllSlides.js","../node_modules/swiper/esm/components/core/manipulation/index.js","../node_modules/swiper/esm/components/core/events/onTouchStart.js","../node_modules/swiper/esm/components/core/events/onTouchMove.js","../node_modules/swiper/esm/components/core/events/onTouchEnd.js","../node_modules/swiper/esm/components/core/events/onResize.js","../node_modules/swiper/esm/components/core/events/onClick.js","../node_modules/swiper/esm/components/core/events/onScroll.js","../node_modules/swiper/esm/components/core/events/index.js","../node_modules/swiper/esm/components/core/breakpoints/setBreakpoint.js","../node_modules/swiper/esm/components/core/breakpoints/getBreakpoint.js","../node_modules/swiper/esm/components/core/breakpoints/index.js","../node_modules/swiper/esm/components/core/classes/addClasses.js","../node_modules/swiper/esm/components/core/classes/removeClasses.js","../node_modules/swiper/esm/components/core/classes/index.js","../node_modules/swiper/esm/components/core/images/loadImage.js","../node_modules/swiper/esm/components/core/images/preloadImages.js","../node_modules/swiper/esm/components/core/images/index.js","../node_modules/swiper/esm/components/core/check-overflow/index.js","../node_modules/swiper/esm/components/core/defaults.js","../node_modules/swiper/esm/components/core/core-class.js","../src/assets/js/resources/utilities/factories/$.factory.js","../src/assets/js/resources/utilities/$.utility.js","../src/assets/js/resources/utilities/for.utility.js","../src/assets/js/resources/utilities/window.utility.js","../src/assets/js/resources/utilities/bezier.utility.js","../node_modules/lottie-web/build/player/lottie_canvas.js","../src/assets/js/resources/animators/factories/animation.factory.js","../src/assets/js/resources/animators/factories/lottie.factory.js","../src/assets/js/resources/animators/factories/solid.factory.js","../src/assets/js/resources/animators/core.animator.js","../src/assets/js/resources/animators/frame.animator.js","../src/assets/js/resources/animators/scroll.animator.js","../src/assets/js/core/tv.js","../src/assets/js/core/hamburger.js","../src/assets/js/core/placeholderer.js","../src/assets/js/core/sign.js","../src/assets/js/core/lottieButton.js","../node_modules/firebase-firestore-lite/dist/GeoPoint.js","../node_modules/firebase-firestore-lite/dist/Transform.js","../node_modules/firebase-firestore-lite/dist/utils.js","../node_modules/firebase-firestore-lite/dist/Document.js","../node_modules/firebase-firestore-lite/dist/Query.js","../node_modules/firebase-firestore-lite/dist/List.js","../node_modules/firebase-firestore-lite/dist/Reference.js","../node_modules/firebase-firestore-lite/dist/Transaction.js","../node_modules/firebase-firestore-lite/dist/Database.js","../src/assets/js/core/lighter.js","../src/assets/js/main.js"],"sourcesContent":["//\n// SmoothScroll for websites v1.4.10 (Balazs Galambosi)\n// http://www.smoothscroll.net/\n//\n// Licensed under the terms of the MIT license.\n//\n// You may use it in your theme if you credit me. \n// It is also free to use on any individual website.\n//\n// Exception:\n// The only restriction is to not publish any  \n// extension for browsers or native application\n// without getting a written permission first.\n//\n\n(function () {\n  \n// Scroll Variables (tweakable)\nvar defaultOptions = {\n\n    // Scrolling Core\n    frameRate        : 150, // [Hz]\n    animationTime    : 400, // [ms]\n    stepSize         : 100, // [px]\n\n    // Pulse (less tweakable)\n    // ratio of \"tail\" to \"acceleration\"\n    pulseAlgorithm   : true,\n    pulseScale       : 4,\n    pulseNormalize   : 1,\n\n    // Acceleration\n    accelerationDelta : 50,  // 50\n    accelerationMax   : 3,   // 3\n\n    // Keyboard Settings\n    keyboardSupport   : true,  // option\n    arrowScroll       : 50,    // [px]\n\n    // Other\n    fixedBackground   : true, \n    excluded          : ''    \n};\n\nvar options = defaultOptions;\n\n\n// Other Variables\nvar isExcluded = false;\nvar isFrame = false;\nvar direction = { x: 0, y: 0 };\nvar initDone  = false;\nvar root = document.documentElement;\nvar activeElement;\nvar observer;\nvar refreshSize;\nvar deltaBuffer = [];\nvar deltaBufferTimer;\nvar isMac = /^Mac/.test(navigator.platform);\n\nvar key = { left: 37, up: 38, right: 39, down: 40, spacebar: 32, \n            pageup: 33, pagedown: 34, end: 35, home: 36 };\nvar arrowKeys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n\n/***********************************************\n * INITIALIZE\n ***********************************************/\n\n/**\n * Tests if smooth scrolling is allowed. Shuts down everything if not.\n */\nfunction initTest() {\n    if (options.keyboardSupport) {\n        addEvent('keydown', keydown);\n    }\n}\n\n/**\n * Sets up scrolls array, determines if frames are involved.\n */\nfunction init() {\n  \n    if (initDone || !document.body) return;\n\n    initDone = true;\n\n    var body = document.body;\n    var html = document.documentElement;\n    var windowHeight = window.innerHeight; \n    var scrollHeight = body.scrollHeight;\n    \n    // check compat mode for root element\n    root = (document.compatMode.indexOf('CSS') >= 0) ? html : body;\n    activeElement = body;\n    \n    initTest();\n\n    // Checks if this script is running in a frame\n    if (top != self) {\n        isFrame = true;\n    }\n\n    /**\n     * Safari 10 fixed it, Chrome fixed it in v45:\n     * This fixes a bug where the areas left and right to \n     * the content does not trigger the onmousewheel event\n     * on some pages. e.g.: html, body { height: 100% }\n     */\n    else if (isOldSafari &&\n             scrollHeight > windowHeight &&\n            (body.offsetHeight <= windowHeight || \n             html.offsetHeight <= windowHeight)) {\n\n        var fullPageElem = document.createElement('div');\n        fullPageElem.style.cssText = 'position:absolute; z-index:-10000; ' +\n                                     'top:0; left:0; right:0; height:' + \n                                      root.scrollHeight + 'px';\n        document.body.appendChild(fullPageElem);\n        \n        // DOM changed (throttled) to fix height\n        var pendingRefresh;\n        refreshSize = function () {\n            if (pendingRefresh) return; // could also be: clearTimeout(pendingRefresh);\n            pendingRefresh = setTimeout(function () {\n                if (isExcluded) return; // could be running after cleanup\n                fullPageElem.style.height = '0';\n                fullPageElem.style.height = root.scrollHeight + 'px';\n                pendingRefresh = null;\n            }, 500); // act rarely to stay fast\n        };\n  \n        setTimeout(refreshSize, 10);\n\n        addEvent('resize', refreshSize);\n\n        // TODO: attributeFilter?\n        var config = {\n            attributes: true, \n            childList: true, \n            characterData: false \n            // subtree: true\n        };\n\n        observer = new MutationObserver(refreshSize);\n        observer.observe(body, config);\n\n        if (root.offsetHeight <= windowHeight) {\n            var clearfix = document.createElement('div');   \n            clearfix.style.clear = 'both';\n            body.appendChild(clearfix);\n        }\n    }\n\n    // disable fixed background\n    if (!options.fixedBackground && !isExcluded) {\n        body.style.backgroundAttachment = 'scroll';\n        html.style.backgroundAttachment = 'scroll';\n    }\n}\n\n/**\n * Removes event listeners and other traces left on the page.\n */\nfunction cleanup() {\n    observer && observer.disconnect();\n    removeEvent(wheelEvent, wheel);\n    removeEvent('mousedown', mousedown);\n    removeEvent('keydown', keydown);\n    removeEvent('resize', refreshSize);\n    removeEvent('load', init);\n}\n\n\n/************************************************\n * SCROLLING \n ************************************************/\n \nvar que = [];\nvar pending = false;\nvar lastScroll = Date.now();\n\n/**\n * Pushes scroll actions to the scrolling queue.\n */\nfunction scrollArray(elem, left, top) {\n    \n    directionCheck(left, top);\n\n    if (options.accelerationMax != 1) {\n        var now = Date.now();\n        var elapsed = now - lastScroll;\n        if (elapsed < options.accelerationDelta) {\n            var factor = (1 + (50 / elapsed)) / 2;\n            if (factor > 1) {\n                factor = Math.min(factor, options.accelerationMax);\n                left *= factor;\n                top  *= factor;\n            }\n        }\n        lastScroll = Date.now();\n    }          \n    \n    // push a scroll command\n    que.push({\n        x: left, \n        y: top, \n        lastX: (left < 0) ? 0.99 : -0.99,\n        lastY: (top  < 0) ? 0.99 : -0.99, \n        start: Date.now()\n    });\n        \n    // don't act if there's a pending queue\n    if (pending) {\n        return;\n    }  \n\n    var scrollRoot = getScrollRoot();\n    var isWindowScroll = (elem === scrollRoot || elem === document.body);\n    \n    // if we haven't already fixed the behavior, \n    // and it needs fixing for this sesh\n    if (elem.$scrollBehavior == null && isScrollBehaviorSmooth(elem)) {\n        elem.$scrollBehavior = elem.style.scrollBehavior;\n        elem.style.scrollBehavior = 'auto';\n    }\n\n    var step = function (time) {\n        \n        var now = Date.now();\n        var scrollX = 0;\n        var scrollY = 0; \n    \n        for (var i = 0; i < que.length; i++) {\n            \n            var item = que[i];\n            var elapsed  = now - item.start;\n            var finished = (elapsed >= options.animationTime);\n            \n            // scroll position: [0, 1]\n            var position = (finished) ? 1 : elapsed / options.animationTime;\n            \n            // easing [optional]\n            if (options.pulseAlgorithm) {\n                position = pulse(position);\n            }\n            \n            // only need the difference\n            var x = (item.x * position - item.lastX) >> 0;\n            var y = (item.y * position - item.lastY) >> 0;\n            \n            // add this to the total scrolling\n            scrollX += x;\n            scrollY += y;            \n            \n            // update last values\n            item.lastX += x;\n            item.lastY += y;\n        \n            // delete and step back if it's over\n            if (finished) {\n                que.splice(i, 1); i--;\n            }           \n        }\n\n        // scroll left and top\n        if (isWindowScroll) {\n            window.scrollBy(scrollX, scrollY);\n        } \n        else {\n            if (scrollX) elem.scrollLeft += scrollX;\n            if (scrollY) elem.scrollTop  += scrollY;                    \n        }\n        \n        // clean up if there's nothing left to do\n        if (!left && !top) {\n            que = [];\n        }\n        \n        if (que.length) { \n            requestFrame(step, elem, (1000 / options.frameRate + 1)); \n        } else { \n            pending = false;\n            // restore default behavior at the end of scrolling sesh\n            if (elem.$scrollBehavior != null) {\n                elem.style.scrollBehavior = elem.$scrollBehavior;\n                elem.$scrollBehavior = null;\n            }\n        }\n    };\n    \n    // start a new queue of actions\n    requestFrame(step, elem, 0);\n    pending = true;\n}\n\n\n/***********************************************\n * EVENTS\n ***********************************************/\n\n// @edited 11052020/1\n// function wheel(event) {\n/**\n * Mouse wheel handler.\n * @param {Object} event\n */\nfunction wheel(event, overrideX, overrideY) {\n\n\tif (!initDone) {\n\t\tinit();\n\t}\n\t\n\tvar target = event.target;\n\n\t// leave early if default action is prevented   \n\t// or it's a zooming event with CTRL \n\tif (event.defaultPrevented || event.ctrlKey) {\n\t\treturn true;\n\t}\n\t\n\t// leave embedded content alone (flash & pdf)\n\tif (isNodeName(activeElement, 'embed') || \n\t\t(isNodeName(target, 'embed') && /\\.pdf/i.test(target.src)) ||\n\t\tisNodeName(activeElement, 'object') ||\n\t\ttarget.shadowRoot) {\n\t\treturn true;\n\t}\n\n\t// @edited 11052020/2\n\t// var deltaX = -event.wheelDeltaX || event.deltaX || 0;\n\tvar deltaX = overrideX !== undefined ? overrideX : -event.wheelDeltaX || event.deltaX || 0;\n\t// @edited 11052020/3\n\t// var deltaY = -event.wheelDeltaY || event.deltaY || 0;\n\tvar deltaY = overrideY !== undefined ? overrideY : -event.wheelDeltaY || event.deltaY || 0;\n\t\n\tif (isMac) {\n\t\tif (event.wheelDeltaX && isDivisible(event.wheelDeltaX, 120)) {\n\t\t\tdeltaX = -120 * (event.wheelDeltaX / Math.abs(event.wheelDeltaX));\n\t\t}\n\t\tif (event.wheelDeltaY && isDivisible(event.wheelDeltaY, 120)) {\n\t\t\tdeltaY = -120 * (event.wheelDeltaY / Math.abs(event.wheelDeltaY));\n\t\t}\n\t}\n\t\n\t// use wheelDelta if deltaX/Y is not available\n\tif (!deltaX && !deltaY) {\n\t\tdeltaY = -event.wheelDelta || 0;\n\t}\n\n\t// line based scrolling (Firefox mostly)\n\tif (event.deltaMode === 1) {\n\t\tdeltaX *= 40;\n\t\tdeltaY *= 40;\n\t}\n\n\tvar overflowing = overflowingAncestor(target);\n\n\t// nothing to do if there's no element that's scrollable\n\tif (!overflowing) {\n\t\t// except Chrome iframes seem to eat wheel events, which we need to \n\t\t// propagate up, if the iframe has nothing overflowing to scroll\n\t\tif (isFrame && isChrome)  {\n\t\t\t// change target to iframe element itself for the parent frame\n\t\t\tObject.defineProperty(event, \"target\", {value: window.frameElement});\n\t\t\treturn parent.wheel(event);\n\t\t}\n\t\treturn true;\n\t}\n\t\n\t// check if it's a touchpad scroll that should be ignored\n\tif (isTouchpad(deltaY)) {\n\t\treturn true;\n\t}\n\n\t// scale by step size\n\t// delta is 120 most of the time\n\t// synaptics seems to send 1 sometimes\n\tif (Math.abs(deltaX) > 1.2) {\n\t\tdeltaX *= options.stepSize / 120;\n\t}\n\tif (Math.abs(deltaY) > 1.2) {\n\t\tdeltaY *= options.stepSize / 120;\n\t}\n\t\n\tscrollArray(overflowing, deltaX, deltaY);\n\tevent.preventDefault();\n\tscheduleClearCache();\n}\n\n/**\n * Keydown event handler.\n * @param {Object} event\n */\nfunction keydown(event) {\n\n    var target   = event.target;\n    var modifier = event.ctrlKey || event.altKey || event.metaKey || \n                  (event.shiftKey && event.keyCode !== key.spacebar);\n    \n    // our own tracked active element could've been removed from the DOM\n    if (!document.body.contains(activeElement)) {\n        activeElement = document.activeElement;\n    }\n\n    // do nothing if user is editing text\n    // or using a modifier key (except shift)\n    // or in a dropdown\n    // or inside interactive elements\n    var inputNodeNames = /^(textarea|select|embed|object)$/i;\n    var buttonTypes = /^(button|submit|radio|checkbox|file|color|image)$/i;\n    if ( event.defaultPrevented ||\n         inputNodeNames.test(target.nodeName) ||\n         isNodeName(target, 'input') && !buttonTypes.test(target.type) ||\n         isNodeName(activeElement, 'video') ||\n         isInsideYoutubeVideo(event) ||\n         target.isContentEditable || \n         modifier ) {\n      return true;\n    }\n\n    // [spacebar] should trigger button press, leave it alone\n    if ((isNodeName(target, 'button') ||\n         isNodeName(target, 'input') && buttonTypes.test(target.type)) &&\n        event.keyCode === key.spacebar) {\n      return true;\n    }\n\n    // [arrwow keys] on radio buttons should be left alone\n    if (isNodeName(target, 'input') && target.type == 'radio' &&\n        arrowKeys[event.keyCode])  {\n      return true;\n    }\n    \n    var shift, x = 0, y = 0;\n    var overflowing = overflowingAncestor(activeElement);\n\n    if (!overflowing) {\n        // Chrome iframes seem to eat key events, which we need to \n        // propagate up, if the iframe has nothing overflowing to scroll\n        return (isFrame && isChrome) ? parent.keydown(event) : true;\n    }\n\n    var clientHeight = overflowing.clientHeight; \n\n    if (overflowing == document.body) {\n        clientHeight = window.innerHeight;\n    }\n\n    switch (event.keyCode) {\n        case key.up:\n            y = -options.arrowScroll;\n            break;\n        case key.down:\n            y = options.arrowScroll;\n            break;         \n        case key.spacebar: // (+ shift)\n            shift = event.shiftKey ? 1 : -1;\n            y = -shift * clientHeight * 0.9;\n            break;\n        case key.pageup:\n            y = -clientHeight * 0.9;\n            break;\n        case key.pagedown:\n            y = clientHeight * 0.9;\n            break;\n        case key.home:\n            if (overflowing == document.body && document.scrollingElement)\n                overflowing = document.scrollingElement;\n            y = -overflowing.scrollTop;\n            break;\n        case key.end:\n            var scroll = overflowing.scrollHeight - overflowing.scrollTop;\n            var scrollRemaining = scroll - clientHeight;\n            y = (scrollRemaining > 0) ? scrollRemaining + 10 : 0;\n            break;\n        case key.left:\n            x = -options.arrowScroll;\n            break;\n        case key.right:\n            x = options.arrowScroll;\n            break;            \n        default:\n            return true; // a key we don't care about\n    }\n\n    scrollArray(overflowing, x, y);\n    event.preventDefault();\n    scheduleClearCache();\n}\n\n/**\n * Mousedown event only for updating activeElement\n */\nfunction mousedown(event) {\n    activeElement = event.target;\n}\n\n\n/***********************************************\n * OVERFLOW\n ***********************************************/\n\nvar uniqueID = (function () {\n    var i = 0;\n    return function (el) {\n        return el.uniqueID || (el.uniqueID = i++);\n    };\n})();\n\nvar cacheX = {}; // cleared out after a scrolling session\nvar cacheY = {}; // cleared out after a scrolling session\nvar clearCacheTimer;\nvar smoothBehaviorForElement = {};\n\n//setInterval(function () { cache = {}; }, 10 * 1000);\n\nfunction scheduleClearCache() {\n    clearTimeout(clearCacheTimer);\n    clearCacheTimer = setInterval(function () { \n        cacheX = cacheY = smoothBehaviorForElement = {}; \n    }, 1*1000);\n}\n\nfunction setCache(elems, overflowing, x) {\n    var cache = x ? cacheX : cacheY;\n    for (var i = elems.length; i--;)\n        cache[uniqueID(elems[i])] = overflowing;\n    return overflowing;\n}\n\nfunction getCache(el, x) {\n    return (x ? cacheX : cacheY)[uniqueID(el)];\n}\n\n//  (body)                (root)\n//         | hidden | visible | scroll |  auto  |\n// hidden  |   no   |    no   |   YES  |   YES  |\n// visible |   no   |   YES   |   YES  |   YES  |\n// scroll  |   no   |   YES   |   YES  |   YES  |\n// auto    |   no   |   YES   |   YES  |   YES  |\n\nfunction overflowingAncestor(el) {\n    var elems = [];\n    var body = document.body;\n    var rootScrollHeight = root.scrollHeight;\n    do {\n        var cached = getCache(el, false);\n        if (cached) {\n            return setCache(elems, cached);\n        }\n        elems.push(el);\n        if (rootScrollHeight === el.scrollHeight) {\n            var topOverflowsNotHidden = overflowNotHidden(root) && overflowNotHidden(body);\n            var isOverflowCSS = topOverflowsNotHidden || overflowAutoOrScroll(root);\n            if (isFrame && isContentOverflowing(root) || \n               !isFrame && isOverflowCSS) {\n                return setCache(elems, getScrollRoot()); \n            }\n        } else if (isContentOverflowing(el) && overflowAutoOrScroll(el)) {\n            return setCache(elems, el);\n        }\n    } while ((el = el.parentElement));\n}\n\nfunction isContentOverflowing(el) {\n    return (el.clientHeight + 10 < el.scrollHeight);\n}\n\n// typically for <body> and <html>\nfunction overflowNotHidden(el) {\n    // @edited 11052020/4\n    // var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\n    // return (overflow !== 'hidden');\n\n    return true\n}\n\n// for all other elements\nfunction overflowAutoOrScroll(el) {\n    var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\n    return (overflow === 'scroll' || overflow === 'auto');\n}\n\n// for all other elements\nfunction isScrollBehaviorSmooth(el) {\n    var id = uniqueID(el);\n    if (smoothBehaviorForElement[id] == null) {\n        var scrollBehavior = getComputedStyle(el, '')['scroll-behavior'];\n        smoothBehaviorForElement[id] = ('smooth' == scrollBehavior);\n    }\n    return smoothBehaviorForElement[id];\n}\n\n\n/***********************************************\n * HELPERS\n ***********************************************/\n\nfunction addEvent(type, fn, arg) {\n    window.addEventListener(type, fn, arg || false);\n}\n\nfunction removeEvent(type, fn, arg) {\n    window.removeEventListener(type, fn, arg || false);  \n}\n\nfunction isNodeName(el, tag) {\n    return el && (el.nodeName||'').toLowerCase() === tag.toLowerCase();\n}\n\nfunction directionCheck(x, y) {\n    x = (x > 0) ? 1 : -1;\n    y = (y > 0) ? 1 : -1;\n    if (direction.x !== x || direction.y !== y) {\n        direction.x = x;\n        direction.y = y;\n        que = [];\n        lastScroll = 0;\n    }\n}\n\nif (window.localStorage && localStorage.SS_deltaBuffer) {\n    try { // #46 Safari throws in private browsing for localStorage \n        deltaBuffer = localStorage.SS_deltaBuffer.split(',');\n    } catch (e) { } \n}\n\nfunction isTouchpad(deltaY) {\n    if (!deltaY) return;\n    if (!deltaBuffer.length) {\n        deltaBuffer = [deltaY, deltaY, deltaY];\n    }\n    deltaY = Math.abs(deltaY);\n    deltaBuffer.push(deltaY);\n    deltaBuffer.shift();\n    clearTimeout(deltaBufferTimer);\n    deltaBufferTimer = setTimeout(function () {\n        try { // #46 Safari throws in private browsing for localStorage\n            localStorage.SS_deltaBuffer = deltaBuffer.join(',');\n        } catch (e) { }  \n    }, 1000);\n    var dpiScaledWheelDelta = deltaY > 120 && allDeltasDivisableBy(deltaY); // win64 \n    var tp = !allDeltasDivisableBy(120) && !allDeltasDivisableBy(100) && !dpiScaledWheelDelta;\n    if (deltaY < 50) return true;\n    return tp;\n} \n\nfunction isDivisible(n, divisor) {\n    return (Math.floor(n / divisor) == n / divisor);\n}\n\nfunction allDeltasDivisableBy(divisor) {\n    return (isDivisible(deltaBuffer[0], divisor) &&\n            isDivisible(deltaBuffer[1], divisor) &&\n            isDivisible(deltaBuffer[2], divisor));\n}\n\nfunction isInsideYoutubeVideo(event) {\n    var elem = event.target;\n    var isControl = false;\n    if (document.URL.indexOf ('www.youtube.com/watch') != -1) {\n        do {\n            isControl = (elem.classList && \n                         elem.classList.contains('html5-video-controls'));\n            if (isControl) break;\n        } while ((elem = elem.parentNode));\n    }\n    return isControl;\n}\n\nvar requestFrame = (function () {\n      return (window.requestAnimationFrame       || \n              window.webkitRequestAnimationFrame || \n              window.mozRequestAnimationFrame    ||\n              function (callback, element, delay) {\n                 window.setTimeout(callback, delay || (1000/60));\n             });\n})();\n\nvar MutationObserver = (window.MutationObserver || \n                        window.WebKitMutationObserver ||\n                        window.MozMutationObserver);  \n\nvar getScrollRoot = (function() {\n  var SCROLL_ROOT = document.scrollingElement;\n  return function() {\n    if (!SCROLL_ROOT) {\n      var dummy = document.createElement('div');\n      dummy.style.cssText = 'height:10000px;width:1px;';\n      document.body.appendChild(dummy);\n      var bodyScrollTop  = document.body.scrollTop;\n      var docElScrollTop = document.documentElement.scrollTop;\n      window.scrollBy(0, 3);\n      if (document.body.scrollTop != bodyScrollTop)\n        (SCROLL_ROOT = document.body);\n      else \n        (SCROLL_ROOT = document.documentElement);\n      window.scrollBy(0, -3);\n      document.body.removeChild(dummy);\n    }\n    return SCROLL_ROOT;\n  };\n})();\n\n\n/***********************************************\n * PULSE (by Michael Herf)\n ***********************************************/\n \n/**\n * Viscous fluid with a pulse for part and decay for the rest.\n * - Applies a fixed force over an interval (a damped acceleration), and\n * - Lets the exponential bleed away the velocity over a longer interval\n * - Michael Herf, http://stereopsis.com/stopping/\n */\nfunction pulse_(x) {\n    var val, start, expx;\n    // test\n    x = x * options.pulseScale;\n    if (x < 1) { // acceleartion\n        val = x - (1 - Math.exp(-x));\n    } else {     // tail\n        // the previous animation ended here:\n        start = Math.exp(-1);\n        // simple viscous drag\n        x -= 1;\n        expx = 1 - Math.exp(-x);\n        val = start + (expx * (1 - start));\n    }\n    return val * options.pulseNormalize;\n}\n\nfunction pulse(x) {\n    if (x >= 1) return 1;\n    if (x <= 0) return 0;\n\n    if (options.pulseNormalize == 1) {\n        options.pulseNormalize /= pulse_(1);\n    }\n    return pulse_(x);\n}\n\n\n/***********************************************\n * FIRST RUN\n ***********************************************/\n\nvar userAgent = window.navigator.userAgent;\nvar isEdge    = /Edge/.test(userAgent); // thank you MS\nvar isChrome  = /chrome/i.test(userAgent) && !isEdge; \nvar isSafari  = /safari/i.test(userAgent) && !isEdge; \nvar isMobile  = /mobile/i.test(userAgent);\nvar isIEWin7  = /Windows NT 6.1/i.test(userAgent) && /rv:11/i.test(userAgent);\nvar isOldSafari = isSafari && (/Version\\/8/i.test(userAgent) || /Version\\/9/i.test(userAgent));\nvar isEnabledForBrowser = (isChrome || isSafari || isIEWin7) && !isMobile;\n\nvar supportsPassive = false;\ntry {\n  window.addEventListener(\"test\", null, Object.defineProperty({}, 'passive', {\n    get: function () {\n            supportsPassive = true;\n        } \n    }));\n} catch(e) {}\n\nvar wheelOpt = supportsPassive ? { passive: false } : false;\nvar wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel'; \n\nif (wheelEvent && isEnabledForBrowser) {\n    addEvent(wheelEvent, wheel, wheelOpt);\n    addEvent('mousedown', mousedown);\n    addEvent('load', init);\n}\n\n\n/***********************************************\n * PUBLIC INTERFACE\n ***********************************************/\n\nfunction SmoothScroll(optionsToSet) {\n    for (var key in optionsToSet)\n        if (defaultOptions.hasOwnProperty(key)) \n            options[key] = optionsToSet[key];\n}\nSmoothScroll.destroy = cleanup;\nSmoothScroll.wheel = wheel;\nSmoothScroll.wheelEvent = wheelEvent;\n\nif (window.SmoothScrollOptions) // async API\n    SmoothScroll(window.SmoothScrollOptions);\n\nif (typeof define === 'function' && define.amd)\n    define(function() {\n        return SmoothScroll;\n    });\nelse if ('object' == typeof exports)\n    module.exports = SmoothScroll;\nelse\n    window.SmoothScroll = SmoothScroll;\n\n})();\n","(function() {\n  var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  defaultOptions = {\n    catchupTime: 100,\n    initialRate: .03,\n    minTime: 250,\n    ghostTime: 100,\n    maxProgressPerFrame: 20,\n    easeFactor: 1.25,\n    startOnPageLoad: true,\n    restartOnPushState: true,\n    restartOnRequestAfter: 500,\n    target: 'body',\n    elements: {\n      checkInterval: 100,\n      selectors: ['body']\n    },\n    eventLag: {\n      minSamples: 10,\n      sampleCount: 3,\n      lagThreshold: 3\n    },\n    ajax: {\n      trackMethods: ['GET'],\n      trackWebSockets: true,\n      ignoreURLs: []\n    }\n  };\n\n  now = function() {\n    var _ref;\n    return (_ref = typeof performance !== \"undefined\" && performance !== null ? typeof performance.now === \"function\" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);\n  };\n\n  requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n\n  cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n  if (requestAnimationFrame == null) {\n    requestAnimationFrame = function(fn) {\n      return setTimeout(fn, 50);\n    };\n    cancelAnimationFrame = function(id) {\n      return clearTimeout(id);\n    };\n  }\n\n  runAnimation = function(fn) {\n    var last, tick;\n    last = now();\n    tick = function() {\n      var diff;\n      diff = now() - last;\n      if (diff >= 33) {\n        last = now();\n        return fn(diff, function() {\n          return requestAnimationFrame(tick);\n        });\n      } else {\n        return setTimeout(tick, 33 - diff);\n      }\n    };\n    return tick();\n  };\n\n  result = function() {\n    var args, key, obj;\n    obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n    if (typeof obj[key] === 'function') {\n      return obj[key].apply(obj, args);\n    } else {\n      return obj[key];\n    }\n  };\n\n  extend = function() {\n    var key, out, source, sources, val, _i, _len;\n    out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    for (_i = 0, _len = sources.length; _i < _len; _i++) {\n      source = sources[_i];\n      if (source) {\n        for (key in source) {\n          if (!__hasProp.call(source, key)) continue;\n          val = source[key];\n          if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {\n            extend(out[key], val);\n          } else {\n            out[key] = val;\n          }\n        }\n      }\n    }\n    return out;\n  };\n\n  avgAmplitude = function(arr) {\n    var count, sum, v, _i, _len;\n    sum = count = 0;\n    for (_i = 0, _len = arr.length; _i < _len; _i++) {\n      v = arr[_i];\n      sum += Math.abs(v);\n      count++;\n    }\n    return sum / count;\n  };\n\n  getFromDOM = function(key, json) {\n    var data, e, el;\n    if (key == null) {\n      key = 'options';\n    }\n    if (json == null) {\n      json = true;\n    }\n    el = document.querySelector(\"[data-pace-\" + key + \"]\");\n    if (!el) {\n      return;\n    }\n    data = el.getAttribute(\"data-pace-\" + key);\n    if (!json) {\n      return data;\n    }\n    try {\n      return JSON.parse(data);\n    } catch (_error) {\n      e = _error;\n      return typeof console !== \"undefined\" && console !== null ? console.error(\"Error parsing inline pace options\", e) : void 0;\n    }\n  };\n\n  Evented = (function() {\n    function Evented() {}\n\n    Evented.prototype.on = function(event, handler, ctx, once) {\n      var _base;\n      if (once == null) {\n        once = false;\n      }\n      if (this.bindings == null) {\n        this.bindings = {};\n      }\n      if ((_base = this.bindings)[event] == null) {\n        _base[event] = [];\n      }\n      return this.bindings[event].push({\n        handler: handler,\n        ctx: ctx,\n        once: once\n      });\n    };\n\n    Evented.prototype.once = function(event, handler, ctx) {\n      return this.on(event, handler, ctx, true);\n    };\n\n    Evented.prototype.off = function(event, handler) {\n      var i, _ref, _results;\n      if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {\n        return;\n      }\n      if (handler == null) {\n        return delete this.bindings[event];\n      } else {\n        i = 0;\n        _results = [];\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            _results.push(this.bindings[event].splice(i, 1));\n          } else {\n            _results.push(i++);\n          }\n        }\n        return _results;\n      }\n    };\n\n    Evented.prototype.trigger = function() {\n      var args, ctx, event, handler, i, once, _ref, _ref1, _results;\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if ((_ref = this.bindings) != null ? _ref[event] : void 0) {\n        i = 0;\n        _results = [];\n        while (i < this.bindings[event].length) {\n          _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;\n          handler.apply(ctx != null ? ctx : this, args);\n          if (once) {\n            _results.push(this.bindings[event].splice(i, 1));\n          } else {\n            _results.push(i++);\n          }\n        }\n        return _results;\n      }\n    };\n\n    return Evented;\n\n  })();\n\n  Pace = window.Pace || {};\n\n  window.Pace = Pace;\n\n  extend(Pace, Evented.prototype);\n\n  options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());\n\n  _ref = ['ajax', 'document', 'eventLag', 'elements'];\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    source = _ref[_i];\n    if (options[source] === true) {\n      options[source] = defaultOptions[source];\n    }\n  }\n\n  NoTargetError = (function(_super) {\n    __extends(NoTargetError, _super);\n\n    function NoTargetError() {\n      _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    return NoTargetError;\n\n  })(Error);\n\n  Bar = (function() {\n    function Bar() {\n      this.progress = 0;\n    }\n\n    Bar.prototype.getElement = function() {\n      var targetElement;\n      if (this.el == null) {\n        targetElement = document.querySelector(options.target);\n        if (!targetElement) {\n          throw new NoTargetError;\n        }\n        this.el = document.createElement('div');\n        this.el.className = \"pace pace-active\";\n        document.body.className = document.body.className.replace(/pace-done/g, '');\n        document.body.className += ' pace-running';\n        this.el.innerHTML = '<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>';\n        if (targetElement.firstChild != null) {\n          targetElement.insertBefore(this.el, targetElement.firstChild);\n        } else {\n          targetElement.appendChild(this.el);\n        }\n      }\n      return this.el;\n    };\n\n    Bar.prototype.finish = function() {\n      var el;\n      el = this.getElement();\n      el.className = el.className.replace('pace-active', '');\n      el.className += ' pace-inactive';\n      document.body.className = document.body.className.replace('pace-running', '');\n      return document.body.className += ' pace-done';\n    };\n\n    Bar.prototype.update = function(prog) {\n      this.progress = prog;\n      return this.render();\n    };\n\n    Bar.prototype.destroy = function() {\n      try {\n        this.getElement().parentNode.removeChild(this.getElement());\n      } catch (_error) {\n        NoTargetError = _error;\n      }\n      return this.el = void 0;\n    };\n\n    Bar.prototype.render = function() {\n      var el, key, progressStr, transform, _j, _len1, _ref2;\n      if (document.querySelector(options.target) == null) {\n        return false;\n      }\n      el = this.getElement();\n      transform = \"translate3d(\" + this.progress + \"%, 0, 0)\";\n      _ref2 = ['webkitTransform', 'msTransform', 'transform'];\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        key = _ref2[_j];\n        el.children[0].style[key] = transform;\n      }\n      if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {\n        el.children[0].setAttribute('data-progress-text', \"\" + (this.progress | 0) + \"%\");\n        if (this.progress >= 100) {\n          progressStr = '99';\n        } else {\n          progressStr = this.progress < 10 ? \"0\" : \"\";\n          progressStr += this.progress | 0;\n        }\n        el.children[0].setAttribute('data-progress', \"\" + progressStr);\n      }\n      return this.lastRenderedProgress = this.progress;\n    };\n\n    Bar.prototype.done = function() {\n      return this.progress >= 100;\n    };\n\n    return Bar;\n\n  })();\n\n  Events = (function() {\n    function Events() {\n      this.bindings = {};\n    }\n\n    Events.prototype.trigger = function(name, val) {\n      var binding, _j, _len1, _ref2, _results;\n      if (this.bindings[name] != null) {\n        _ref2 = this.bindings[name];\n        _results = [];\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n          binding = _ref2[_j];\n          _results.push(binding.call(this, val));\n        }\n        return _results;\n      }\n    };\n\n    Events.prototype.on = function(name, fn) {\n      var _base;\n      if ((_base = this.bindings)[name] == null) {\n        _base[name] = [];\n      }\n      return this.bindings[name].push(fn);\n    };\n\n    return Events;\n\n  })();\n\n  _XMLHttpRequest = window.XMLHttpRequest;\n\n  _XDomainRequest = window.XDomainRequest;\n\n  _WebSocket = window.WebSocket;\n\n  extendNative = function(to, from) {\n    var e, key, _results;\n    _results = [];\n    for (key in from.prototype) {\n      try {\n        if ((to[key] == null) && typeof from[key] !== 'function') {\n          if (typeof Object.defineProperty === 'function') {\n            _results.push(Object.defineProperty(to, key, {\n              get: function() {\n                return from.prototype[key];\n              },\n              configurable: true,\n              enumerable: true\n            }));\n          } else {\n            _results.push(to[key] = from.prototype[key]);\n          }\n        } else {\n          _results.push(void 0);\n        }\n      } catch (_error) {\n        e = _error;\n      }\n    }\n    return _results;\n  };\n\n  ignoreStack = [];\n\n  Pace.ignore = function() {\n    var args, fn, ret;\n    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    ignoreStack.unshift('ignore');\n    ret = fn.apply(null, args);\n    ignoreStack.shift();\n    return ret;\n  };\n\n  Pace.track = function() {\n    var args, fn, ret;\n    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    ignoreStack.unshift('track');\n    ret = fn.apply(null, args);\n    ignoreStack.shift();\n    return ret;\n  };\n\n  shouldTrack = function(method) {\n    var _ref2;\n    if (method == null) {\n      method = 'GET';\n    }\n    if (ignoreStack[0] === 'track') {\n      return 'force';\n    }\n    if (!ignoreStack.length && options.ajax) {\n      if (method === 'socket' && options.ajax.trackWebSockets) {\n        return true;\n      } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  RequestIntercept = (function(_super) {\n    __extends(RequestIntercept, _super);\n\n    function RequestIntercept() {\n      var monitorXHR,\n        _this = this;\n      RequestIntercept.__super__.constructor.apply(this, arguments);\n      monitorXHR = function(req) {\n        var _open;\n        _open = req.open;\n        return req.open = function(type, url, async) {\n          if (shouldTrack(type)) {\n            _this.trigger('request', {\n              type: type,\n              url: url,\n              request: req\n            });\n          }\n          return _open.apply(req, arguments);\n        };\n      };\n      window.XMLHttpRequest = function(flags) {\n        var req;\n        req = new _XMLHttpRequest(flags);\n        monitorXHR(req);\n        return req;\n      };\n      try {\n        extendNative(window.XMLHttpRequest, _XMLHttpRequest);\n      } catch (_error) {}\n      if (_XDomainRequest != null) {\n        window.XDomainRequest = function() {\n          var req;\n          req = new _XDomainRequest;\n          monitorXHR(req);\n          return req;\n        };\n        try {\n          extendNative(window.XDomainRequest, _XDomainRequest);\n        } catch (_error) {}\n      }\n      if ((_WebSocket != null) && options.ajax.trackWebSockets) {\n        window.WebSocket = function(url, protocols) {\n          var req;\n          if (protocols != null) {\n            req = new _WebSocket(url, protocols);\n          } else {\n            req = new _WebSocket(url);\n          }\n          if (shouldTrack('socket')) {\n            _this.trigger('request', {\n              type: 'socket',\n              url: url,\n              protocols: protocols,\n              request: req\n            });\n          }\n          return req;\n        };\n        try {\n          extendNative(window.WebSocket, _WebSocket);\n        } catch (_error) {}\n      }\n    }\n\n    return RequestIntercept;\n\n  })(Events);\n\n  _intercept = null;\n\n  getIntercept = function() {\n    if (_intercept == null) {\n      _intercept = new RequestIntercept;\n    }\n    return _intercept;\n  };\n\n  shouldIgnoreURL = function(url) {\n    var pattern, _j, _len1, _ref2;\n    _ref2 = options.ajax.ignoreURLs;\n    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n      pattern = _ref2[_j];\n      if (typeof pattern === 'string') {\n        if (url.indexOf(pattern) !== -1) {\n          return true;\n        }\n      } else {\n        if (pattern.test(url)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  getIntercept().on('request', function(_arg) {\n    var after, args, request, type, url;\n    type = _arg.type, request = _arg.request, url = _arg.url;\n    if (shouldIgnoreURL(url)) {\n      return;\n    }\n    if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {\n      args = arguments;\n      after = options.restartOnRequestAfter || 0;\n      if (typeof after === 'boolean') {\n        after = 0;\n      }\n      return setTimeout(function() {\n        var stillActive, _j, _len1, _ref2, _ref3, _results;\n        if (type === 'socket') {\n          stillActive = request.readyState < 2;\n        } else {\n          stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);\n        }\n        if (stillActive) {\n          Pace.restart();\n          _ref3 = Pace.sources;\n          _results = [];\n          for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\n            source = _ref3[_j];\n            if (source instanceof AjaxMonitor) {\n              source.watch.apply(source, args);\n              break;\n            } else {\n              _results.push(void 0);\n            }\n          }\n          return _results;\n        }\n      }, after);\n    }\n  });\n\n  AjaxMonitor = (function() {\n    function AjaxMonitor() {\n      var _this = this;\n      this.elements = [];\n      getIntercept().on('request', function() {\n        return _this.watch.apply(_this, arguments);\n      });\n    }\n\n    AjaxMonitor.prototype.watch = function(_arg) {\n      var request, tracker, type, url;\n      type = _arg.type, request = _arg.request, url = _arg.url;\n      if (shouldIgnoreURL(url)) {\n        return;\n      }\n      if (type === 'socket') {\n        tracker = new SocketRequestTracker(request);\n      } else {\n        tracker = new XHRRequestTracker(request);\n      }\n      return this.elements.push(tracker);\n    };\n\n    return AjaxMonitor;\n\n  })();\n\n  XHRRequestTracker = (function() {\n    function XHRRequestTracker(request) {\n      var event, size, _j, _len1, _onreadystatechange, _ref2,\n        _this = this;\n      this.progress = 0;\n      if (window.ProgressEvent != null) {\n        size = null;\n        request.addEventListener('progress', function(evt) {\n          if (evt.lengthComputable) {\n            return _this.progress = 100 * evt.loaded / evt.total;\n          } else {\n            return _this.progress = _this.progress + (100 - _this.progress) / 2;\n          }\n        }, false);\n        _ref2 = ['load', 'abort', 'timeout', 'error'];\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n          event = _ref2[_j];\n          request.addEventListener(event, function() {\n            return _this.progress = 100;\n          }, false);\n        }\n      } else {\n        _onreadystatechange = request.onreadystatechange;\n        request.onreadystatechange = function() {\n          var _ref3;\n          if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {\n            _this.progress = 100;\n          } else if (request.readyState === 3) {\n            _this.progress = 50;\n          }\n          return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\n        };\n      }\n    }\n\n    return XHRRequestTracker;\n\n  })();\n\n  SocketRequestTracker = (function() {\n    function SocketRequestTracker(request) {\n      var event, _j, _len1, _ref2,\n        _this = this;\n      this.progress = 0;\n      _ref2 = ['error', 'open'];\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        event = _ref2[_j];\n        request.addEventListener(event, function() {\n          return _this.progress = 100;\n        }, false);\n      }\n    }\n\n    return SocketRequestTracker;\n\n  })();\n\n  ElementMonitor = (function() {\n    function ElementMonitor(options) {\n      var selector, _j, _len1, _ref2;\n      if (options == null) {\n        options = {};\n      }\n      this.elements = [];\n      if (options.selectors == null) {\n        options.selectors = [];\n      }\n      _ref2 = options.selectors;\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        selector = _ref2[_j];\n        this.elements.push(new ElementTracker(selector));\n      }\n    }\n\n    return ElementMonitor;\n\n  })();\n\n  ElementTracker = (function() {\n    function ElementTracker(selector) {\n      this.selector = selector;\n      this.progress = 0;\n      this.check();\n    }\n\n    ElementTracker.prototype.check = function() {\n      var _this = this;\n      if (document.querySelector(this.selector)) {\n        return this.done();\n      } else {\n        return setTimeout((function() {\n          return _this.check();\n        }), options.elements.checkInterval);\n      }\n    };\n\n    ElementTracker.prototype.done = function() {\n      return this.progress = 100;\n    };\n\n    return ElementTracker;\n\n  })();\n\n  DocumentMonitor = (function() {\n    DocumentMonitor.prototype.states = {\n      loading: 0,\n      interactive: 50,\n      complete: 100\n    };\n\n    function DocumentMonitor() {\n      var _onreadystatechange, _ref2,\n        _this = this;\n      this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;\n      _onreadystatechange = document.onreadystatechange;\n      document.onreadystatechange = function() {\n        if (_this.states[document.readyState] != null) {\n          _this.progress = _this.states[document.readyState];\n        }\n        return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\n      };\n    }\n\n    return DocumentMonitor;\n\n  })();\n\n  EventLagMonitor = (function() {\n    function EventLagMonitor() {\n      var avg, interval, last, points, samples,\n        _this = this;\n      this.progress = 0;\n      avg = 0;\n      samples = [];\n      points = 0;\n      last = now();\n      interval = setInterval(function() {\n        var diff;\n        diff = now() - last - 50;\n        last = now();\n        samples.push(diff);\n        if (samples.length > options.eventLag.sampleCount) {\n          samples.shift();\n        }\n        avg = avgAmplitude(samples);\n        if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {\n          _this.progress = 100;\n          return clearInterval(interval);\n        } else {\n          return _this.progress = 100 * (3 / (avg + 3));\n        }\n      }, 50);\n    }\n\n    return EventLagMonitor;\n\n  })();\n\n  Scaler = (function() {\n    function Scaler(source) {\n      this.source = source;\n      this.last = this.sinceLastUpdate = 0;\n      this.rate = options.initialRate;\n      this.catchup = 0;\n      this.progress = this.lastProgress = 0;\n      if (this.source != null) {\n        this.progress = result(this.source, 'progress');\n      }\n    }\n\n    Scaler.prototype.tick = function(frameTime, val) {\n      var scaling;\n      if (val == null) {\n        val = result(this.source, 'progress');\n      }\n      if (val >= 100) {\n        this.done = true;\n      }\n      if (val === this.last) {\n        this.sinceLastUpdate += frameTime;\n      } else {\n        if (this.sinceLastUpdate) {\n          this.rate = (val - this.last) / this.sinceLastUpdate;\n        }\n        this.catchup = (val - this.progress) / options.catchupTime;\n        this.sinceLastUpdate = 0;\n        this.last = val;\n      }\n      if (val > this.progress) {\n        this.progress += this.catchup * frameTime;\n      }\n      scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);\n      this.progress += scaling * this.rate * frameTime;\n      this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);\n      this.progress = Math.max(0, this.progress);\n      this.progress = Math.min(100, this.progress);\n      this.lastProgress = this.progress;\n      return this.progress;\n    };\n\n    return Scaler;\n\n  })();\n\n  sources = null;\n\n  scalers = null;\n\n  bar = null;\n\n  uniScaler = null;\n\n  animation = null;\n\n  cancelAnimation = null;\n\n  Pace.running = false;\n\n  handlePushState = function() {\n    if (options.restartOnPushState) {\n      return Pace.restart();\n    }\n  };\n\n  if (window.history.pushState != null) {\n    _pushState = window.history.pushState;\n    window.history.pushState = function() {\n      handlePushState();\n      return _pushState.apply(window.history, arguments);\n    };\n  }\n\n  if (window.history.replaceState != null) {\n    _replaceState = window.history.replaceState;\n    window.history.replaceState = function() {\n      handlePushState();\n      return _replaceState.apply(window.history, arguments);\n    };\n  }\n\n  SOURCE_KEYS = {\n    ajax: AjaxMonitor,\n    elements: ElementMonitor,\n    document: DocumentMonitor,\n    eventLag: EventLagMonitor\n  };\n\n  (init = function() {\n    var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;\n    Pace.sources = sources = [];\n    _ref2 = ['ajax', 'elements', 'document', 'eventLag'];\n    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n      type = _ref2[_j];\n      if (options[type] !== false) {\n        sources.push(new SOURCE_KEYS[type](options[type]));\n      }\n    }\n    _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];\n    for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\n      source = _ref4[_k];\n      sources.push(new source(options));\n    }\n    Pace.bar = bar = new Bar;\n    scalers = [];\n    return uniScaler = new Scaler;\n  })();\n\n  Pace.stop = function() {\n    Pace.trigger('stop');\n    Pace.running = false;\n    bar.destroy();\n    cancelAnimation = true;\n    if (animation != null) {\n      if (typeof cancelAnimationFrame === \"function\") {\n        cancelAnimationFrame(animation);\n      }\n      animation = null;\n    }\n    return init();\n  };\n\n  Pace.restart = function() {\n    Pace.trigger('restart');\n    Pace.stop();\n    return Pace.start();\n  };\n\n  Pace.go = function() {\n    var start;\n    Pace.running = true;\n    bar.render();\n    start = now();\n    cancelAnimation = false;\n    return animation = runAnimation(function(frameTime, enqueueNextFrame) {\n      var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;\n      remaining = 100 - bar.progress;\n      count = sum = 0;\n      done = true;\n      for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {\n        source = sources[i];\n        scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];\n        elements = (_ref2 = source.elements) != null ? _ref2 : [source];\n        for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {\n          element = elements[j];\n          scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);\n          done &= scaler.done;\n          if (scaler.done) {\n            continue;\n          }\n          count++;\n          sum += scaler.tick(frameTime);\n        }\n      }\n      avg = sum / count;\n      bar.update(uniScaler.tick(frameTime, avg));\n      if (bar.done() || done || cancelAnimation) {\n        bar.update(100);\n        Pace.trigger('done');\n        return setTimeout(function() {\n          bar.finish();\n          Pace.running = false;\n          return Pace.trigger('hide');\n        }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));\n      } else {\n        return enqueueNextFrame();\n      }\n    });\n  };\n\n  Pace.start = function(_options) {\n    extend(options, _options);\n    Pace.running = true;\n    try {\n      bar.render();\n    } catch (_error) {\n      NoTargetError = _error;\n    }\n    if (!document.querySelector('.pace')) {\n      return setTimeout(Pace.start, 50);\n    } else {\n      Pace.trigger('start');\n      return Pace.go();\n    }\n  };\n\n  if (typeof define === 'function' && define.amd) {\n    define(['pace'], function() {\n      return Pace;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = Pace;\n  } else {\n    if (options.startOnPageLoad) {\n      Pace.start();\n    }\n  }\n\n}).call(this);\n","/**\n * SSR Window 3.0.0-alpha.4\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: May 20, 2020\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target, src) {\n    if (target === void 0) { target = {}; }\n    if (src === void 0) { src = {}; }\n    Object.keys(src).forEach(function (key) {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nvar ssrDocument = {\n    body: {},\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    activeElement: {\n        blur: function () { },\n        nodeName: '',\n    },\n    querySelector: function () {\n        return null;\n    },\n    querySelectorAll: function () {\n        return [];\n    },\n    getElementById: function () {\n        return null;\n    },\n    createEvent: function () {\n        return {\n            initEvent: function () { },\n        };\n    },\n    createElement: function () {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute: function () { },\n            getElementsByTagName: function () {\n                return [];\n            },\n        };\n    },\n    createElementNS: function () {\n        return {};\n    },\n    importNode: function () {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    var doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nvar ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState: function () { },\n        pushState: function () { },\n        go: function () { },\n        back: function () { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    getComputedStyle: function () {\n        return {\n            getPropertyValue: function () {\n                return '';\n            },\n        };\n    },\n    Image: function () { },\n    Date: function () { },\n    screen: {},\n    setTimeout: function () { },\n    clearTimeout: function () { },\n    matchMedia: function () {\n        return {};\n    },\n    requestAnimationFrame: function (callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame: function (id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    var win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 3.0.0-alpha.7\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: July 14, 2020\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  var proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get: function get() {\n      return proto;\n    },\n    set: function set(value) {\n      proto.__proto__ = value;\n    }\n  });\n}\n\nvar Dom7 = /*#__PURE__*/function (_Array) {\n  _inheritsLoose(Dom7, _Array);\n\n  function Dom7(items) {\n    var _this;\n\n    _this = _Array.call.apply(_Array, [this].concat(items)) || this;\n    makeReactive(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  return Dom7;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\n\nfunction arrayFlat(arr) {\n  if (arr === void 0) {\n    arr = [];\n  }\n\n  var res = [];\n  arr.forEach(function (el) {\n    if (Array.isArray(el)) {\n      res.push.apply(res, arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  var uniqueArray = [];\n\n  for (var i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, function (match, group) {\n    return group.toUpperCase();\n  });\n}\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  var a = [];\n  var res = context.querySelectorAll(selector);\n\n  for (var i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  var window = getWindow();\n  var document = getDocument();\n  var arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    var html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      var toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      var tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\nfunction addClass() {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList;\n\n    (_el$classList = el.classList).add.apply(_el$classList, classNames);\n  });\n  return this;\n}\n\nfunction removeClass() {\n  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    classes[_key2] = arguments[_key2];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList2;\n\n    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);\n  });\n  return this;\n}\n\nfunction toggleClass() {\n  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    classes[_key3] = arguments[_key3];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    classNames.forEach(function (className) {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass() {\n  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    classes[_key4] = arguments[_key4];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  return arrayFilter(this, function (el) {\n    return classNames.filter(function (className) {\n      return el.classList.contains(className);\n    }).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (var attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (var i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (var propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  var el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    var dataKey = el.getAttribute(\"data-\" + key);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  var el = this[0];\n  if (!el) return undefined;\n  var dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (var dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (var i = 0; i < el.attributes.length; i += 1) {\n      var _attr = el.attributes[i];\n\n      if (_attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;\n      }\n    }\n  }\n\n  for (var key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    var el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      var values = [];\n\n      for (var i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (var _i = 0; _i < this.length; _i += 1) {\n    var _el = this[_i];\n\n    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {\n      for (var j = 0; j < _el.options.length; j += 1) {\n        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;\n      }\n    } else {\n      _el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transition = typeof duration !== 'string' ? duration + \"ms\" : duration;\n  }\n\n  return this;\n}\n\nfunction on() {\n  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    var target = e.target;\n    if (!target) return;\n    var eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      var _parents = $(target).parents(); // eslint-disable-line\n\n\n      for (var k = 0; k < _parents.length; k += 1) {\n        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  var events = eventType.split(' ');\n  var j;\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        var event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener: listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        var _event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];\n\n        el.dom7LiveListeners[_event].push({\n          listener: listener,\n          proxyListener: handleLiveEvent\n        });\n\n        el.addEventListener(_event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  var events = eventType.split(' ');\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n      var handlers = void 0;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (var k = handlers.length - 1; k >= 0; k -= 1) {\n          var handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once() {\n  var dom = this;\n\n  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  var eventName = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventName = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  function onceHandler() {\n    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      eventArgs[_key8] = arguments[_key8];\n    }\n\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger() {\n  var window = getWindow();\n\n  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n    args[_key9] = arguments[_key9];\n  }\n\n  var events = args[0].split(' ');\n  var eventData = args[1];\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n\n      if (window.CustomEvent) {\n        var evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter(function (data, dataIndex) {\n          return dataIndex > 0;\n        });\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles = this.styles();\n\n      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles2 = this.styles();\n\n      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    var window = getWindow();\n    var document = getDocument();\n    var el = this[0];\n    var box = el.getBoundingClientRect();\n    var body = document.body;\n    var clientTop = el.clientTop || body.clientTop || 0;\n    var clientLeft = el.clientLeft || body.clientLeft || 0;\n    var scrollTop = el === window ? window.scrollY : el.scrollTop;\n    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  var window = getWindow();\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  var window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  var window = getWindow();\n  var i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (var _prop in props) {\n          this[i].style[_prop] = props[_prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach(function (el, index) {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  var result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  var window = getWindow();\n  var document = getDocument();\n  var el = this[0];\n  var compareWith;\n  var i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  var child = this[0];\n  var i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  var length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    var returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append() {\n  var newChild;\n  var document = getDocument();\n\n  for (var k = 0; k < arguments.length; k += 1) {\n    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (var j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  var document = getDocument();\n  var i;\n  var j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  var before = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (var j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  var after = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (var j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  var nextEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    var _next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_next).is(selector)) nextEls.push(_next);\n    } else nextEls.push(_next);\n\n    el = _next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    var el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  var prevEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    var _prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_prev).is(selector)) prevEls.push(_prev);\n    } else prevEls.push(_prev);\n\n    el = _prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var _parent = this[i].parentNode; // eslint-disable-line\n\n    while (_parent) {\n      if (selector) {\n        if ($(_parent).is(selector)) parents.push(_parent);\n      } else {\n        parents.push(_parent);\n      }\n\n      _parent = _parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  var closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  var foundElements = [];\n\n  for (var i = 0; i < this.length; i += 1) {\n    var found = this[i].querySelectorAll(selector);\n\n    for (var j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  var children = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var childNodes = this[i].children;\n\n    for (var j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add() {\n  var dom = this;\n  var i;\n  var j;\n\n  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n    els[_key10] = arguments[_key10];\n  }\n\n  for (i = 0; i < els.length; i += 1) {\n    var toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.nodeType === 1) {\n      for (var j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\nfunction scrollTo() {\n  var window = getWindow();\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var left = args[0],\n      top = args[1],\n      duration = args[2],\n      easing = args[3],\n      callback = args[4];\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    left = args[0];\n    top = args[1];\n    duration = args[2];\n    callback = args[3];\n    easing = args[4];\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    var el = this;\n    var currentTop;\n    var currentLeft;\n    var maxTop;\n    var maxLeft;\n    var newTop;\n    var newLeft;\n    var scrollTop; // eslint-disable-line\n\n    var scrollLeft; // eslint-disable-line\n\n    var animateTop = top > 0 || top === 0;\n    var animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    var startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time) {\n      if (time === void 0) {\n        time = new Date().getTime();\n      }\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      var done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var top = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    top = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft() {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  var left = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    left = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  var window = getWindow();\n  var els = this;\n  var a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n    easingProgress: function easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n    stop: function stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done: function done(complete) {\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        var que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate: function animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      var elements = []; // Define & Cache Initials & Units\n\n      a.elements.each(function (el, index) {\n        var initialFullValue;\n        var initialValue;\n        var unit;\n        var finalValue;\n        var finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(function (prop) {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue: initialFullValue,\n            initialValue: initialValue,\n            unit: unit,\n            finalValue: finalValue,\n            finalFullValue: finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      var startTime = null;\n      var time;\n      var elementsDone = 0;\n      var propsDone = 0;\n      var done;\n      var began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        var progress;\n        var easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(function (element) {\n          var el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(function (prop) {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            var _el$prop = el[prop],\n                initialValue = _el$prop.initialValue,\n                finalValue = _el$prop.finalValue,\n                unit = _el$prop.unit;\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            var currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  var animateInstance;\n\n  for (var i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  var els = this;\n\n  for (var i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nvar noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'undefined') {\n      for (var i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on.apply(this, [name].concat(args));\n  }\n\n  return eventHandler;\n}\n\nvar click = shortcut('click');\nvar blur = shortcut('blur');\nvar focus = shortcut('focus');\nvar focusin = shortcut('focusin');\nvar focusout = shortcut('focusout');\nvar keyup = shortcut('keyup');\nvar keydown = shortcut('keydown');\nvar keypress = shortcut('keypress');\nvar submit = shortcut('submit');\nvar change = shortcut('change');\nvar mousedown = shortcut('mousedown');\nvar mousemove = shortcut('mousemove');\nvar mouseup = shortcut('mouseup');\nvar mouseenter = shortcut('mouseenter');\nvar mouseleave = shortcut('mouseleave');\nvar mouseout = shortcut('mouseout');\nvar mouseover = shortcut('mouseover');\nvar touchstart = shortcut('touchstart');\nvar touchend = shortcut('touchend');\nvar touchmove = shortcut('touchmove');\nvar resize = shortcut('resize');\nvar scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nvar Methods = {\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  toggleClass: toggleClass,\n  attr: attr,\n  removeAttr: removeAttr,\n  transform: transform,\n  transition: transition,\n  on: on,\n  off: off,\n  trigger: trigger,\n  transitionEnd: transitionEnd,\n  outerWidth: outerWidth,\n  outerHeight: outerHeight,\n  styles: styles,\n  offset: offset,\n  css: css,\n  each: each,\n  html: html,\n  text: text,\n  is: is,\n  index: index,\n  eq: eq,\n  append: append,\n  prepend: prepend,\n  next: next,\n  nextAll: nextAll,\n  prev: prev,\n  prevAll: prevAll,\n  parent: parent,\n  parents: parents,\n  closest: closest,\n  find: find,\n  children: children,\n  filter: filter,\n  remove: remove\n};\nObject.keys(Methods).forEach(function (methodName) {\n  $.fn[methodName] = Methods[methodName];\n});\nexport default $;","import { getWindow, getDocument } from 'ssr-window';\nvar support;\n\nfunction calcSupport() {\n  var window = getWindow();\n  var document = getDocument();\n  return {\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,\n    observer: function checkObserver() {\n      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;\n    }(),\n    passiveListener: function checkPassiveListener() {\n      var supportsPassive = false;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get: function get() {\n            supportsPassive = true;\n          }\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support';\nvar device;\n\nfunction calcDevice(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      userAgent = _ref.userAgent;\n\n  var support = getSupport();\n  var window = getWindow();\n  var platform = window.navigator.platform;\n  var ua = userAgent || window.navigator.userAgent;\n  var device = {\n    ios: false,\n    android: false\n  };\n  var screenWidth = window.screen.width;\n  var screenHeight = window.screen.height;\n  var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  var windows = platform === 'Win32';\n  var macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + \"x\" + screenHeight) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!device) {\n    device = calcDevice(overrides);\n  }\n\n  return device;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nvar browser;\n\nfunction calcBrowser() {\n  var window = getWindow();\n\n  function isSafari() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isEdge: !!window.navigator.userAgent.match(/Edge/g),\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  var object = obj;\n  Object.keys(object).forEach(function (key) {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  var window = getWindow();\n  var matrix;\n  var curTransform;\n  var transformMatrix;\n  var curStyle = window.getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(function (a) {\n        return a.replace(',', '.');\n      }).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n}\n\nfunction extend() {\n  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null) {\n      var keysArray = Object.keys(Object(nextSource));\n\n      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        var nextKey = keysArray[nextIndex];\n        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            extend(to[nextKey], nextSource[nextKey]);\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            extend(to[nextKey], nextSource[nextKey]);\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction bindModuleMethods(instance, obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach(function (subKey) {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n\n    instance[key] = obj[key];\n  });\n}\n\nexport { deleteProps, nextTick, now, getTranslate, isObject, extend, bindModuleMethods };","import { getWindow } from 'ssr-window';\nimport { extend } from '../../utils/utils';\nexport default {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    extend(swiper, {\n      resize: {\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        }\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      var window = getWindow(); // Emit resize\n\n      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange\n\n      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy(swiper) {\n      var window = getWindow();\n      window.removeEventListener('resize', swiper.resize.resizeHandler);\n      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Observer = {\n  attach: function attach(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var window = getWindow();\n    var swiper = this;\n    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    var observer = new ObserverFunc(function (mutations) {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        swiper.emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      var observerUpdate = function observerUpdate() {\n        swiper.emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.support.observer || !swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    swiper.observer.attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    swiper.observer.attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  }\n};\nexport default {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      observer: _extends(_extends({}, Observer), {}, {\n        observers: []\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.observer.init();\n    },\n    destroy: function destroy(swiper) {\n      swiper.observer.destroy();\n    }\n  }\n};","import { extend } from '../../utils/utils';\nexport default {\n  useParams: function useParams(instanceParams) {\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName]; // Extend params\n\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  },\n  useModules: function useModules(modulesParams) {\n    if (modulesParams === void 0) {\n      modulesParams = {};\n    }\n\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName];\n      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners\n\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach(function (moduleEventName) {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      } // Module create callback\n\n\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n};","/* eslint-disable no-underscore-dangle */\nexport default {\n  on: function on(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(function (event) {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once: function once(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny: function onAny(handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n  offAny: function offAny(handler) {\n    var self = this;\n    if (!self.eventsAnyListeners) return self;\n    var index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n  off: function off(events, handler) {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(function (event) {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler, index) {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit: function emit() {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    var events;\n    var data;\n    var context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    var eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(function (event) {\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        var handlers = [];\n        self.eventsListeners[event].forEach(function (eventHandler) {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach(function (eventHandler) {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};","import { extend } from '../../../utils/utils';\nexport default function updateSize() {\n  var swiper = this;\n  var width;\n  var height;\n  var $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.width !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  extend(swiper, {\n    width: width,\n    height: height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { getWindow } from 'ssr-window';\nimport { extend } from '../../../utils/utils';\nexport default function updateSlides() {\n  var swiper = this;\n  var window = getWindow();\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl,\n      swiperSize = swiper.size,\n      rtl = swiper.rtlTranslate,\n      wrongRTL = swiper.wrongRTL;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  var slides = $wrapperEl.children(\".\" + swiper.params.slideClass);\n  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  var snapGrid = [];\n  var slidesGrid = [];\n  var slidesSizesGrid = [];\n\n  function slidesForMargin(slideEl, slideIndex) {\n    if (!params.cssMode) return true;\n\n    if (slideIndex === slides.length - 1) {\n      return false;\n    }\n\n    return true;\n  }\n\n  var offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  var offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  var previousSnapGridLength = swiper.snapGrid.length;\n  var previousSlidesGridLength = swiper.snapGrid.length;\n  var spaceBetween = params.spaceBetween;\n  var slidePosition = -offsetBefore;\n  var prevSlideSize = 0;\n  var index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: ''\n  });\n  var slidesNumberEvenToRows;\n\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  } // Calc slides\n\n\n  var slideSize;\n  var slidesPerColumn = params.slidesPerColumn;\n  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);\n\n  for (var i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    var slide = slides.eq(i);\n\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      var newSlideOrderIndex = void 0;\n      var column = void 0;\n      var row = void 0;\n\n      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {\n        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));\n        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;\n        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n        slide.css({\n          '-webkit-box-ordinal-group': newSlideOrderIndex,\n          '-moz-box-ordinal-group': newSlideOrderIndex,\n          '-ms-flex-order': newSlideOrderIndex,\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - column * slidesPerColumn;\n\n        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {\n          row += 1;\n\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(\"margin-\" + (swiper.isHorizontal() ? 'top' : 'left'), row !== 0 && params.spaceBetween && params.spaceBetween + \"px\");\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      var slideStyles = window.getComputedStyle(slide[0], null);\n      var currentTransform = slide[0].style.transform;\n      var currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        if (swiper.isHorizontal()) {\n          var width = parseFloat(slideStyles.getPropertyValue('width') || 0);\n          var paddingLeft = parseFloat(slideStyles.getPropertyValue('padding-left') || 0);\n          var paddingRight = parseFloat(slideStyles.getPropertyValue('padding-right') || 0);\n          var marginLeft = parseFloat(slideStyles.getPropertyValue('margin-left') || 0);\n          var marginRight = parseFloat(slideStyles.getPropertyValue('margin-right') || 0);\n          var boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n          if (boxSizing && boxSizing === 'border-box') {\n            slideSize = width + marginLeft + marginRight;\n          } else {\n            slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight;\n          }\n        } else {\n          var height = parseFloat(slideStyles.getPropertyValue('height') || 0);\n          var paddingTop = parseFloat(slideStyles.getPropertyValue('padding-top') || 0);\n          var paddingBottom = parseFloat(slideStyles.getPropertyValue('padding-bottom') || 0);\n          var marginTop = parseFloat(slideStyles.getPropertyValue('margin-top') || 0);\n          var marginBottom = parseFloat(slideStyles.getPropertyValue('margin-bottom') || 0);\n\n          var _boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n          if (_boxSizing && _boxSizing === 'border-box') {\n            slideSize = height + marginTop + marginBottom;\n          } else {\n            slideSize = height + paddingTop + paddingBottom + marginTop + marginBottom;\n          }\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        if (swiper.isHorizontal()) {\n          slides[i].style.width = slideSize + \"px\";\n        } else {\n          slides[i].style.height = slideSize + \"px\";\n        }\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  var newSlidesGrid;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n  }\n\n  if (params.setWrapperSize) {\n    if (swiper.isHorizontal()) $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });else $wrapperEl.css({\n      height: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n  }\n\n  if (params.slidesPerColumn > 1) {\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    if (swiper.isHorizontal()) $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });else $wrapperEl.css({\n      height: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n\n      for (var _i = 0; _i < snapGrid.length; _i += 1) {\n        var slidesGridItem = snapGrid[_i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid = newSlidesGrid;\n    }\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n\n    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {\n      var _slidesGridItem = snapGrid[_i2];\n      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);\n\n      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(_slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    if (swiper.isHorizontal()) {\n      if (rtl) slides.filter(slidesForMargin).css({\n        marginLeft: spaceBetween + \"px\"\n      });else slides.filter(slidesForMargin).css({\n        marginRight: spaceBetween + \"px\"\n      });\n    } else slides.filter(slidesForMargin).css({\n      marginBottom: spaceBetween + \"px\"\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    var allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    var maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(function (snap) {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    var _allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    _allSlidesSize -= params.spaceBetween;\n\n    if (_allSlidesSize < swiperSize) {\n      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;\n      snapGrid.forEach(function (snap, snapIndex) {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach(function (snap, snapIndex) {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  extend(swiper, {\n    slides: slides,\n    snapGrid: snapGrid,\n    slidesGrid: slidesGrid,\n    slidesSizesGrid: slidesSizesGrid\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n}","export default function updateAutoHeight(speed) {\n  var swiper = this;\n  var activeSlides = [];\n  var newHeight = 0;\n  var i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  } // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(function (slide) {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        var index = swiper.activeIndex + i;\n        if (index > swiper.slides.length) break;\n        activeSlides.push(swiper.slides.eq(index)[0]);\n      }\n    }\n  } else {\n    activeSlides.push(swiper.slides.eq(swiper.activeIndex)[0]);\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      var height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight) swiper.$wrapperEl.css('height', newHeight + \"px\");\n}","export default function updateSlidesOffset() {\n  var swiper = this;\n  var slides = swiper.slides;\n\n  for (var i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  var swiper = this;\n  var params = swiper.params;\n  var slides = swiper.slides,\n      rtl = swiper.rtlTranslate;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  var offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (var i = 0; i < slides.length; i += 1) {\n    var slide = slides[i];\n    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n\n    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {\n      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","import { extend } from '../../../utils/utils';\nexport default function updateProgress(translate) {\n  var swiper = this;\n\n  if (typeof translate === 'undefined') {\n    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  var params = swiper.params;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  var progress = swiper.progress,\n      isBeginning = swiper.isBeginning,\n      isEnd = swiper.isEnd;\n  var wasBeginning = isBeginning;\n  var wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  extend(swiper, {\n    progress: progress,\n    isBeginning: isBeginning,\n    isEnd: isEnd\n  });\n  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  var swiper = this;\n  var slides = swiper.slides,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex,\n      realIndex = swiper.realIndex;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(params.slideActiveClass + \" \" + params.slideNextClass + \" \" + params.slidePrevClass + \" \" + params.slideDuplicateActiveClass + \" \" + params.slideDuplicateNextClass + \" \" + params.slideDuplicatePrevClass);\n  var activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + activeIndex + \"\\\"]\");\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  var nextSlide = activeSlide.nextAll(\".\" + params.slideClass).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  var prevSlide = activeSlide.prevAll(\".\" + params.slideClass).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","import { extend } from '../../../utils/utils';\nexport default function updateActiveIndex(newActiveIndex) {\n  var swiper = this;\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  var slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      params = swiper.params,\n      previousIndex = swiper.activeIndex,\n      previousRealIndex = swiper.realIndex,\n      previousSnapIndex = swiper.snapIndex;\n  var activeIndex = newActiveIndex;\n  var snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  extend(swiper, {\n    snapIndex: snapIndex,\n    realIndex: realIndex,\n    previousIndex: previousIndex,\n    activeIndex: activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateClickedSlide(e) {\n  var swiper = this;\n  var params = swiper.params;\n  var slide = $(e.target).closest(\".\" + params.slideClass)[0];\n  var slideFound = false;\n\n  if (slide) {\n    for (var i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) slideFound = true;\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = $(slide).index();\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import updateSize from './updateSize';\nimport updateSlides from './updateSlides';\nimport updateAutoHeight from './updateAutoHeight';\nimport updateSlidesOffset from './updateSlidesOffset';\nimport updateSlidesProgress from './updateSlidesProgress';\nimport updateProgress from './updateProgress';\nimport updateSlidesClasses from './updateSlidesClasses';\nimport updateActiveIndex from './updateActiveIndex';\nimport updateClickedSlide from './updateClickedSlide';\nexport default {\n  updateSize: updateSize,\n  updateSlides: updateSlides,\n  updateAutoHeight: updateAutoHeight,\n  updateSlidesOffset: updateSlidesOffset,\n  updateSlidesProgress: updateSlidesProgress,\n  updateProgress: updateProgress,\n  updateSlidesClasses: updateSlidesClasses,\n  updateActiveIndex: updateActiveIndex,\n  updateClickedSlide: updateClickedSlide\n};","import { getTranslate } from '../../../utils/utils';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      rtl = swiper.rtlTranslate,\n      translate = swiper.translate,\n      $wrapperEl = swiper.$wrapperEl;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  var currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  var swiper = this;\n  var rtl = swiper.rtlTranslate,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      wrapperEl = swiper.wrapperEl,\n      progress = swiper.progress;\n  var x = 0;\n  var y = 0;\n  var z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(\"translate3d(\" + x + \"px, \" + y + \"px, \" + z + \"px)\");\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","export default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      wrapperEl = swiper.wrapperEl;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  var minTranslate = swiper.minTranslate();\n  var maxTranslate = swiper.maxTranslate();\n  var newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import getTranslate from './getTranslate';\nimport setTranslate from './setTranslate';\nimport minTranslate from './minTranslate';\nimport maxTranslate from './maxTranslate';\nimport translateTo from './translateTo';\nexport default {\n  getTranslate: getTranslate,\n  setTranslate: setTranslate,\n  minTranslate: minTranslate,\n  maxTranslate: maxTranslate,\n  translateTo: translateTo\n};","export default function setTransition(duration, byController) {\n  var swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      params = swiper.params,\n      previousIndex = swiper.previousIndex;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionStart');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionStart');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionStart');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n}","export default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      previousIndex = swiper.previousIndex,\n      params = swiper.params;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionEnd');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionEnd');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionEnd');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionEnd');\n    } else {\n      swiper.emit('slidePrevTransitionEnd');\n    }\n  }\n}","import setTransition from './setTransition';\nimport transitionStart from './transitionStart';\nimport transitionEnd from './transitionEnd';\nexport default {\n  setTransition: setTransition,\n  transitionStart: transitionStart,\n  transitionEnd: transitionEnd\n};","export default function slideTo(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  var params = swiper.params,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      previousIndex = swiper.previousIndex,\n      activeIndex = swiper.activeIndex,\n      rtl = swiper.rtlTranslate,\n      wrapperEl = swiper.wrapperEl;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  var translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (-Math.floor(translate * 100) >= Math.floor(slidesGrid[i] * 100)) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  var direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n    var t = -translate;\n\n    if (rtl) {\n      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;\n    }\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n    swiper.transitionEnd(runCallbacks, direction);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onSlideToWrapperTransitionEnd) {\n        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n          swiper.onSlideToWrapperTransitionEnd = null;\n          delete swiper.onSlideToWrapperTransitionEnd;\n          swiper.transitionEnd(runCallbacks, direction);\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating;\n  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      rtlTranslate = swiper.rtlTranslate;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  var translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  var normalizedTranslate = normalize(translate);\n  var normalizedSnapGrid = snapGrid.map(function (val) {\n    return normalize(val);\n  });\n  var currentSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate)];\n  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    snapGrid.forEach(function (snap) {\n      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;\n    });\n  }\n\n  var prevIndex;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  var swiper = this;\n  var index = swiper.activeIndex;\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    var currentSnap = swiper.snapGrid[snapIndex];\n    var nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    var prevSnap = swiper.snapGrid[snapIndex - 1];\n    var _currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../../utils/dom';\nimport { nextTick } from '../../../utils/utils';\nexport default function slideToClickedSlide() {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl;\n  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  var slideToIndex = swiper.clickedIndex;\n  var realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n        nextTick(function () {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n      nextTick(function () {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import slideTo from './slideTo';\nimport slideToLoop from './slideToLoop';\nimport slideNext from './slideNext';\nimport slidePrev from './slidePrev';\nimport slideReset from './slideReset';\nimport slideToClosest from './slideToClosest';\nimport slideToClickedSlide from './slideToClickedSlide';\nexport default {\n  slideTo: slideTo,\n  slideToLoop: slideToLoop,\n  slideNext: slideNext,\n  slidePrev: slidePrev,\n  slideReset: slideReset,\n  slideToClosest: slideToClosest,\n  slideToClickedSlide: slideToClickedSlide\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loopCreate() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides\n\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass).remove();\n  var slides = $wrapperEl.children(\".\" + params.slideClass);\n\n  if (params.loopFillGroupWithBlank) {\n    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (var i = 0; i < blankSlidesNum; i += 1) {\n        var blankNode = $(document.createElement('div')).addClass(params.slideClass + \" \" + params.slideBlankClass);\n        $wrapperEl.append(blankNode);\n      }\n\n      slides = $wrapperEl.children(\".\" + params.slideClass);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  var prependSlides = [];\n  var appendSlides = [];\n  slides.each(function (el, index) {\n    var slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (var _i = 0; _i < appendSlides.length; _i += 1) {\n    $wrapperEl.append($(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {\n    $wrapperEl.prepend($(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  var swiper = this;\n  swiper.emit('beforeLoopFix');\n  var activeIndex = swiper.activeIndex,\n      slides = swiper.slides,\n      loopedSlides = swiper.loopedSlides,\n      allowSlidePrev = swiper.allowSlidePrev,\n      allowSlideNext = swiper.allowSlideNext,\n      snapGrid = swiper.snapGrid,\n      rtl = swiper.rtlTranslate;\n  var newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  var snapTranslate = -snapGrid[activeIndex];\n  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    var slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n\n    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (_slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      slides = swiper.slides;\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \",.\" + params.slideClass + \".\" + params.slideBlankClass).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import loopCreate from './loopCreate';\nimport loopFix from './loopFix';\nimport loopDestroy from './loopDestroy';\nexport default {\n  loopCreate: loopCreate,\n  loopFix: loopFix,\n  loopDestroy: loopDestroy\n};","export default function setGrabCursor(moving) {\n  var swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  var el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  var swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper.el.style.cursor = '';\n}","import setGrabCursor from './setGrabCursor';\nimport unsetGrabCursor from './unsetGrabCursor';\nexport default {\n  setGrabCursor: setGrabCursor,\n  unsetGrabCursor: unsetGrabCursor\n};","export default function appendSlide(slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  var newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  var slidesBuffer = [];\n\n  for (var i = baseLength - 1; i >= index; i -= 1) {\n    var currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (slides[_i]) $wrapperEl.append(slides[_i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {\n    $wrapperEl.append(slidesBuffer[_i2]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var newActiveIndex = activeIndexBuffer;\n  var indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (var i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  var swiper = this;\n  var slidesIndexes = [];\n\n  for (var i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './appendSlide';\nimport prependSlide from './prependSlide';\nimport addSlide from './addSlide';\nimport removeSlide from './removeSlide';\nimport removeAllSlides from './removeAllSlides';\nexport default {\n  appendSlide: appendSlide,\n  prependSlide: prependSlide,\n  addSlide: addSlide,\n  removeSlide: removeSlide,\n  removeAllSlides: removeAllSlides\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils';\nexport default function onTouchStart(event) {\n  var swiper = this;\n  var document = getDocument();\n  var window = getWindow();\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  var $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return;\n\n  if (params.noSwiping && $targetEl.closest(params.noSwipingSelector ? params.noSwipingSelector : \".\" + params.noSwipingClass)[0]) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  var startX = touches.currentX;\n  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.screen.width - edgeSwipeThreshold)) {\n    return;\n  }\n\n  extend(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    var preventDefault = true;\n    if ($targetEl.is(data.formElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.formElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if (params.touchStartForcePreventDefault || shouldPreventDefault) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils';\nexport default function onTouchMove(event) {\n  var document = getDocument();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.formElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../../utils/utils';\nexport default function onTouchEnd(event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      $wrapperEl = swiper.$wrapperEl,\n      slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  var touchEndTime = now();\n  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(function () {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  var currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data.velocities.length > 1) {\n        var lastMoveEvent = data.velocities.pop();\n        var velocityEvent = data.velocities.pop();\n        var distance = lastMoveEvent.position - velocityEvent.position;\n        var time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n      data.velocities.length = 0;\n      var momentumDuration = 1000 * params.freeModeMomentumRatio;\n      var momentumDistance = swiper.velocity * momentumDuration;\n      var newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      var doBounce = false;\n      var afterBouncePosition;\n      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      var needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeModeSticky) {\n        var nextSlide;\n\n        for (var j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        swiper.once('transitionEnd', function () {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeModeSticky) {\n          // If freeModeSticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(function () {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(function () {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(function () {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeModeSticky) {\n      swiper.slideToClosest();\n      return;\n    }\n\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    return;\n  } // Find current slide\n\n\n  var stopIndex = 0;\n  var groupSize = swiper.slidesSizesGrid[0];\n\n  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + _increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + _increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  var swiper = this;\n  var params = swiper.params,\n      el = swiper.el;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  var allowSlideNext = swiper.allowSlideNext,\n      allowSlidePrev = swiper.allowSlidePrev,\n      snapGrid = swiper.snapGrid; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  var swiper = this;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  var swiper = this;\n  var wrapperEl = swiper.wrapperEl,\n      rtlTranslate = swiper.rtlTranslate;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    if (rtlTranslate) {\n      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollLeft;\n    }\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart';\nimport onTouchMove from './onTouchMove';\nimport onTouchEnd from './onTouchEnd';\nimport onResize from './onResize';\nimport onClick from './onClick';\nimport onScroll from './onScroll';\nvar dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nfunction attachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture: capture\n      } : capture);\n      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n\n      if (!dummyEventAttached) {\n        document.addEventListener('touchstart', dummyEventListener);\n        dummyEventAttached = true;\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.addEventListener('mousedown', swiper.onTouchStart, false);\n      document.addEventListener('mousemove', swiper.onTouchMove, capture);\n      document.addEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.addEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.addEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper.on('observerUpdate', onResize, true);\n  }\n}\n\nfunction detachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.removeEventListener('mousedown', swiper.onTouchStart, false);\n      document.removeEventListener('mousemove', swiper.onTouchMove, capture);\n      document.removeEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.removeEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.removeEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize);\n}\n\nexport default {\n  attachEvents: attachEvents,\n  detachEvents: detachEvents\n};","import { extend } from '../../../utils/utils';\nexport default function setBreakpoint() {\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      initialized = swiper.initialized,\n      _swiper$loopedSlides = swiper.loopedSlides,\n      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,\n      params = swiper.params,\n      $el = swiper.$el;\n  var breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  var breakpoint = swiper.getBreakpoint(breakpoints);\n\n  if (breakpoint && swiper.currentBreakpoint !== breakpoint) {\n    var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n\n    if (breakpointOnlyParams) {\n      ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {\n        var paramValue = breakpointOnlyParams[param];\n        if (typeof paramValue === 'undefined') return;\n\n        if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {\n          breakpointOnlyParams[param] = 'auto';\n        } else if (param === 'slidesPerView') {\n          breakpointOnlyParams[param] = parseFloat(paramValue);\n        } else {\n          breakpointOnlyParams[param] = parseInt(paramValue, 10);\n        }\n      });\n    }\n\n    var breakpointParams = breakpointOnlyParams || swiper.originalParams;\n    var wasMultiRow = params.slidesPerColumn > 1;\n    var isMultiRow = breakpointParams.slidesPerColumn > 1;\n\n    if (wasMultiRow && !isMultiRow) {\n      $el.removeClass(params.containerModifierClass + \"multirow \" + params.containerModifierClass + \"multirow-column\");\n      swiper.emitContainerClasses();\n    } else if (!wasMultiRow && isMultiRow) {\n      $el.addClass(params.containerModifierClass + \"multirow\");\n\n      if (breakpointParams.slidesPerColumnFill === 'column') {\n        $el.addClass(params.containerModifierClass + \"multirow-column\");\n      }\n\n      swiper.emitContainerClasses();\n    }\n\n    var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n    var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n    if (directionChanged && initialized) {\n      swiper.changeDirection();\n    }\n\n    extend(swiper.params, breakpointParams);\n    extend(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev\n    });\n    swiper.currentBreakpoint = breakpoint;\n\n    if (needsReLoop && initialized) {\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n    }\n\n    swiper.emit('breakpoint', breakpointParams);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoints(breakpoints) {\n  var window = getWindow(); // Get breakpoint for window width\n\n  if (!breakpoints) return undefined;\n  var breakpoint = false;\n  var points = Object.keys(breakpoints).map(function (point) {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      var minRatio = parseFloat(point.substr(1));\n      var value = window.innerHeight * minRatio;\n      return {\n        value: value,\n        point: point\n      };\n    }\n\n    return {\n      value: point,\n      point: point\n    };\n  });\n  points.sort(function (a, b) {\n    return parseInt(a.value, 10) - parseInt(b.value, 10);\n  });\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        point = _points$i.point,\n        value = _points$i.value;\n\n    if (value <= window.innerWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import setBreakpoint from './setBreakpoint';\nimport getBreakpoint from './getBreakpoint';\nexport default {\n  setBreakpoint: setBreakpoint,\n  getBreakpoint: getBreakpoint\n};","export default function addClasses() {\n  var swiper = this;\n  var classNames = swiper.classNames,\n      params = swiper.params,\n      rtl = swiper.rtl,\n      $el = swiper.$el,\n      device = swiper.device;\n  var suffixes = [];\n  suffixes.push('initialized');\n  suffixes.push(params.direction);\n\n  if (params.freeMode) {\n    suffixes.push('free-mode');\n  }\n\n  if (params.autoHeight) {\n    suffixes.push('autoheight');\n  }\n\n  if (rtl) {\n    suffixes.push('rtl');\n  }\n\n  if (params.slidesPerColumn > 1) {\n    suffixes.push('multirow');\n\n    if (params.slidesPerColumnFill === 'column') {\n      suffixes.push('multirow-column');\n    }\n  }\n\n  if (device.android) {\n    suffixes.push('android');\n  }\n\n  if (device.ios) {\n    suffixes.push('ios');\n  }\n\n  if (params.cssMode) {\n    suffixes.push('css-mode');\n  }\n\n  suffixes.forEach(function (suffix) {\n    classNames.push(params.containerModifierClass + suffix);\n  });\n  $el.addClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  var swiper = this;\n  var $el = swiper.$el,\n      classNames = swiper.classNames;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import addClasses from './addClasses';\nimport removeClasses from './removeClasses';\nexport default {\n  addClasses: addClasses,\n  removeClasses: removeClasses\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  var window = getWindow();\n  var image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  var isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  var swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    var imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import loadImage from './loadImage';\nimport preloadImages from './preloadImages';\nexport default {\n  loadImage: loadImage,\n  preloadImages: preloadImages\n};","function checkOverflow() {\n  var swiper = this;\n  var params = swiper.params;\n  var wasLocked = swiper.isLocked;\n  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;\n\n  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {\n    swiper.isLocked = lastSlidePosition <= swiper.size;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  swiper.allowSlideNext = !swiper.isLocked;\n  swiper.allowSlidePrev = !swiper.isLocked; // events\n\n  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    if (swiper.navigation) swiper.navigation.update();\n  }\n}\n\nexport default {\n  checkOverflow: checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-container-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-param-reassign: \"off\" */\nimport $ from '../../utils/dom';\nimport { extend, now, deleteProps } from '../../utils/utils';\nimport { getSupport } from '../../utils/get-support';\nimport { getDevice } from '../../utils/get-device';\nimport { getBrowser } from '../../utils/get-browser';\nimport Resize from '../../modules/resize/resize';\nimport Observer from '../../modules/observer/observer';\nimport modular from './modular';\nimport eventsEmitter from './events-emitter';\nimport update from './update/index';\nimport translate from './translate/index';\nimport transition from './transition/index';\nimport slide from './slide/index';\nimport loop from './loop/index';\nimport grabCursor from './grab-cursor/index';\nimport manipulation from './manipulation/index';\nimport events from './events/index';\nimport breakpoints from './breakpoints/index';\nimport classes from './classes/index';\nimport images from './images/index';\nimport checkOverflow from './check-overflow/index';\nimport defaults from './defaults';\nvar prototypes = {\n  modular: modular,\n  eventsEmitter: eventsEmitter,\n  update: update,\n  translate: translate,\n  transition: transition,\n  slide: slide,\n  loop: loop,\n  grabCursor: grabCursor,\n  manipulation: manipulation,\n  events: events,\n  breakpoints: breakpoints,\n  checkOverflow: checkOverflow,\n  classes: classes,\n  images: images\n};\nvar extendedDefaults = {};\n\nvar Swiper = /*#__PURE__*/function () {\n  function Swiper() {\n    var el;\n    var params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && args[0].constructor === Object) {\n      params = args[0];\n    } else {\n      el = args[0];\n      params = args[1];\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el; // Swiper Instance\n\n    var swiper = this;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    Object.keys(prototypes).forEach(function (prototypeGroup) {\n      Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {\n        if (!Swiper.prototype[protoMethod]) {\n          Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n        }\n      });\n    });\n\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n\n    Object.keys(swiper.modules).forEach(function (moduleName) {\n      var module = swiper.modules[moduleName];\n\n      if (module.params) {\n        var moduleParamName = Object.keys(module.params)[0];\n        var moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object' || moduleParams === null) return;\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            enabled: true\n          };\n        }\n\n        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n          params[moduleParamName].enabled = true;\n        }\n\n        if (!params[moduleParamName]) params[moduleParamName] = {\n          enabled: false\n        };\n      }\n    }); // Extend defaults with modules params\n\n    var swiperParams = extend({}, defaults);\n    swiper.useParams(swiperParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(function (eventName) {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Find el\n\n    var $el = $(swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return undefined;\n    }\n\n    if ($el.length > 1) {\n      var swipers = [];\n      $el.each(function (containerEl) {\n        var newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    }\n\n    el.swiper = swiper; // Find Wrapper\n\n    var $wrapperEl;\n\n    if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n      $wrapperEl = $(el.shadowRoot.querySelector(\".\" + swiper.params.wrapperClass)); // Children needs to return slot items\n\n      $wrapperEl.children = function (options) {\n        return $el.children(options);\n      };\n    } else {\n      $wrapperEl = $el.children(\".\" + swiper.params.wrapperClass);\n    } // Extend Swiper\n\n\n    extend(swiper, {\n      $el: $el,\n      el: el,\n      $wrapperEl: $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal: function isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical: function isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box',\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        var desktop = ['mousedown', 'mousemove', 'mouseup'];\n\n        if (swiper.support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        }\n\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        formElements: 'input, select, option, textarea, button, video, label',\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    }); // Install Modules\n\n    swiper.useModules();\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  var _proto = Swiper.prototype;\n\n  _proto.emitContainerClasses = function emitContainerClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var classes = swiper.el.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', classes.join(' '));\n  };\n\n  _proto.emitSlidesClasses = function emitSlidesClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    swiper.slides.each(function (slideEl) {\n      var classes = slideEl.className.split(' ').filter(function (className) {\n        return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n      });\n      swiper.emit('_slideClass', slideEl, classes.join(' '));\n    });\n  };\n\n  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {\n    var swiper = this;\n    var params = swiper.params,\n        slides = swiper.slides,\n        slidesGrid = swiper.slidesGrid,\n        swiperSize = swiper.size,\n        activeIndex = swiper.activeIndex;\n    var spv = 1;\n\n    if (params.centeredSlides) {\n      var slideSize = slides[activeIndex].swiperSlideSize;\n      var breakLoop;\n\n      for (var i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {\n        if (slides[_i] && !breakLoop) {\n          slideSize += slides[_i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {\n        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n\n    return spv;\n  };\n\n  _proto.update = function update() {\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var snapGrid = swiper.snapGrid,\n        params = swiper.params; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    var translated;\n\n    if (swiper.params.freeMode) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  };\n\n  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    var swiper = this;\n    var currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(\"\" + swiper.params.containerModifierClass + currentDirection).addClass(\"\" + swiper.params.containerModifierClass + newDirection);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(function (slideEl) {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  };\n\n  _proto.init = function init() {\n    var swiper = this;\n    if (swiper.initialized) return;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n  };\n\n  _proto.destroy = function destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params,\n        $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(function (eventName) {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  };\n\n  Swiper.extendDefaults = function extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  };\n\n  Swiper.installModule = function installModule(module) {\n    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};\n    var name = module.name || Object.keys(Swiper.prototype.modules).length + \"_\" + now();\n    Swiper.prototype.modules[name] = module;\n  };\n\n  Swiper.use = function use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(function (m) {\n        return Swiper.installModule(m);\n      });\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  };\n\n  _createClass(Swiper, null, [{\n    key: \"extendedDefaults\",\n    get: function get() {\n      return extendedDefaults;\n    }\n  }, {\n    key: \"defaults\",\n    get: function get() {\n      return defaults;\n    }\n  }]);\n\n  return Swiper;\n}();\n\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import { $, $$, ForUtility, } from '../../utilities.js';\r\nexport class $Factory {\r\n    create(objectToCreateFrom = {}) {\r\n        ForUtility.addToArrayPrototype();\r\n        const object = {\r\n            evaluate(functionToEvaluate) {\r\n                return this.apply(functionToEvaluate(this));\r\n            },\r\n            addClass(classNames) {\r\n                switch (classNames.constructor) {\r\n                    case String:\r\n                        classNames.split(' ').fastEach((className) => {\r\n                            this.classList.add(className);\r\n                        });\r\n                        break;\r\n                    case Array:\r\n                        classNames.fastEach((className) => {\r\n                            this.addClass(className);\r\n                        });\r\n                        break;\r\n                    default:\r\n                }\r\n                return this;\r\n            },\r\n            removeClass(classNames) {\r\n                switch (classNames.constructor) {\r\n                    case String:\r\n                        classNames.split(' ').fastEach((className) => {\r\n                            this.classList.remove(className);\r\n                        });\r\n                        break;\r\n                    case Array:\r\n                        classNames.fastEach((className) => {\r\n                            this.removeClass(className);\r\n                        });\r\n                        break;\r\n                    default:\r\n                }\r\n                return this;\r\n            },\r\n            toggleClass(classNames) {\r\n                switch (classNames.constructor) {\r\n                    case String:\r\n                        classNames.split(' ').fastEach((className) => {\r\n                            this.classList.toggle(className);\r\n                        });\r\n                        break;\r\n                    case Array:\r\n                        classNames.fastEach((className) => {\r\n                            this.toggleClass(className);\r\n                        });\r\n                        break;\r\n                    default:\r\n                }\r\n                return this;\r\n            },\r\n            css(property, value, options = {}) {\r\n                // handle when the options are passed into the value argument\r\n                if (value\r\n                    && value.constructor === Object) {\r\n                    return this.css(property, undefined, value);\r\n                }\r\n                let processedValue = null;\r\n                let returnedValues = null;\r\n                let propertyHasParentheses = null;\r\n                let stackable = null;\r\n                const unitlessProperties = [\r\n                    'opacity',\r\n                    'gridRowStart',\r\n                    'gridRowEnd',\r\n                    'columns',\r\n                    'columnCount',\r\n                ];\r\n                const stackableProperties = [{\r\n                        name: 'transition',\r\n                        hasParentheses: false,\r\n                    }, {\r\n                        name: 'transform',\r\n                        hasParentheses: true,\r\n                    }];\r\n                switch (property.constructor) {\r\n                    case String:\r\n                        // determine if the property is a stackable one\r\n                        stackableProperties.fastEach(({ name, hasParentheses, }) => {\r\n                            // return if the 'property' is not in 'stacakbleProperties'\r\n                            if (name !== property) {\r\n                                return;\r\n                            }\r\n                            stackable = true;\r\n                            propertyHasParentheses = hasParentheses;\r\n                        });\r\n                        if (value === undefined) {\r\n                            // the value of the property should be returned instead of set\r\n                            processedValue = this.style[property];\r\n                            if (options.computed) {\r\n                                processedValue = getValueWithoutUnit(getComputedStyle(this)[property]);\r\n                            }\r\n                            if (stackable\r\n                                && options.returnAsObject) {\r\n                                processedValue = getAttributesFromValueString(processedValue, propertyHasParentheses);\r\n                            }\r\n                            return processedValue;\r\n                        }\r\n                        // the value of the property should be set instead of returned\r\n                        processedValue = value;\r\n                        // if the value string is missing a unit, add px\r\n                        if (unitlessProperties.includes(property) === false) {\r\n                            processedValue = getValueWithUnit(value);\r\n                        }\r\n                        if (stackable) {\r\n                            // create attribute objects from the value strings\r\n                            const oldAttributes = getAttributesFromValueString(this.style[property], propertyHasParentheses);\r\n                            const newAttributes = getAttributesFromValueString(processedValue, propertyHasParentheses);\r\n                            const processedAttributes = oldAttributes;\r\n                            Object.assign(processedAttributes, newAttributes);\r\n                            processedValue = getValueStringFromAttributes(processedAttributes, propertyHasParentheses);\r\n                        }\r\n                        this.style[property] = processedValue;\r\n                        return this;\r\n                    case Array:\r\n                        if (value === undefined) {\r\n                            returnedValues = {};\r\n                            property.fastEach((item) => {\r\n                                returnedValues[item] = this.css(item);\r\n                            });\r\n                            return returnedValues;\r\n                        }\r\n                        property.fastEach((item, i) => {\r\n                            this.css(item, value[i]);\r\n                        });\r\n                        return this;\r\n                    case Object:\r\n                        returnedValues = {};\r\n                        Object.keys(property).fastEach((key) => {\r\n                            const returnedValue = this.css(key, property[key]);\r\n                            if (returnedValue === this) {\r\n                                return;\r\n                            }\r\n                            returnedValues[key] = returnedValue;\r\n                        });\r\n                        return returnedValues === {} ? this : returnedValues;\r\n                    default:\r\n                        return this.style;\r\n                }\r\n                function formatValueString(valueString) {\r\n                    return valueString\r\n                        .toLowerCase()\r\n                        .replace(/\\s/g, '');\r\n                }\r\n                function getValueWithoutUnit(valueWithUnit) {\r\n                    if (valueWithUnit.includes('px') === false) {\r\n                        return valueWithUnit;\r\n                    }\r\n                    return valueWithUnit.replace(/px/g, '');\r\n                }\r\n                function getValueWithUnit(valueWithoutUnit) {\r\n                    if (!valueWithoutUnit) {\r\n                        return valueWithoutUnit;\r\n                    }\r\n                    if (valueWithoutUnit.constructor === Number\r\n                        || Number.isNaN(Number(valueWithoutUnit)) === false) {\r\n                        return `${valueWithoutUnit}px`;\r\n                    }\r\n                    return valueWithoutUnit;\r\n                }\r\n                function getAttributesFromValueString(valueStringWithAttributes, hasParentheses) {\r\n                    let valueArrayWithAttributes = null;\r\n                    let attributeKeys = null;\r\n                    let attributeValues = null;\r\n                    if (hasParentheses) {\r\n                        // split between ')' and remove ')' in the meantime\r\n                        valueArrayWithAttributes = formatValueString(valueStringWithAttributes)\r\n                            .split(')');\r\n                        // remove everything inside parentheses\r\n                        // regex is slower than native functions https://jsben.ch/8GY5K\r\n                        attributeKeys = valueArrayWithAttributes\r\n                            .map((attribute) => attribute\r\n                            .substr(0, attribute.indexOf('('))\r\n                            .trim());\r\n                        // remove everything before and including '('\r\n                        // ')' was removed when we split it in 'valueArrayWithAttributes'\r\n                        attributeValues = valueArrayWithAttributes\r\n                            .map((attribute) => attribute\r\n                            .substr(attribute.indexOf('(') + 1));\r\n                    }\r\n                    else {\r\n                        // split between and remove every ','\r\n                        valueArrayWithAttributes = formatValueString(valueStringWithAttributes)\r\n                            .split(',');\r\n                        // get the substring before anything that isn't an alphabet\r\n                        attributeKeys = valueArrayWithAttributes.map((attribute) => attribute\r\n                            .substring(0, attribute.search(/[^a-zA-Z]/)));\r\n                        // get the substring starting at the first character that isn't an alphabet\r\n                        attributeValues = valueArrayWithAttributes.map((attribute) => attribute\r\n                            .substr(attribute.search(/[^a-zA-Z]/)));\r\n                    }\r\n                    const attributeObject = {};\r\n                    attributeKeys.fastEach((key, i) => {\r\n                        if (!key) {\r\n                            return;\r\n                        }\r\n                        attributeObject[key] = attributeValues[i];\r\n                    });\r\n                    return attributeObject;\r\n                }\r\n                function getValueStringFromAttributes(attributes, hasParentheses) {\r\n                    let valueArray = null;\r\n                    let valueString = null;\r\n                    if (hasParentheses) {\r\n                        valueArray = Object.keys(attributes).map((attributeKey) => `${attributeKey}(${attributes[attributeKey]})`);\r\n                        valueString = valueArray.join('');\r\n                    }\r\n                    else {\r\n                        valueArray = Object.keys(attributes).map((attributeKey) => `${attributeKey}${attributes[attributeKey]}`);\r\n                        valueString = valueArray.join(',');\r\n                    }\r\n                    return valueString;\r\n                }\r\n            },\r\n            on(eventsStr, ...options) {\r\n                const events = eventsStr.split(' ');\r\n                let selector = null;\r\n                let handler = null;\r\n                let eventOptions = {};\r\n                options.fastEach((option) => {\r\n                    switch (typeof option) {\r\n                        case 'string':\r\n                            if (selector === null) {\r\n                                selector = option;\r\n                            }\r\n                            break;\r\n                        case 'function':\r\n                            if (handler === null) {\r\n                                handler = option;\r\n                            }\r\n                            break;\r\n                        case 'object':\r\n                            if (option === null) {\r\n                                break;\r\n                            }\r\n                            if (Object.keys(eventOptions).length === 0) {\r\n                                eventOptions = option;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                events.fastEach((eventStr) => {\r\n                    this.addEventListener(eventStr, (event) => {\r\n                        const processedEvent = event;\r\n                        if (!event) {\r\n                            return handler(undefined);\r\n                        }\r\n                        const { target } = processedEvent;\r\n                        if (!target) {\r\n                            return null;\r\n                        }\r\n                        if (selector !== null\r\n                            && target.matches(selector) === false) {\r\n                            return null;\r\n                        }\r\n                        return handler.call(target, processedEvent);\r\n                    }, eventOptions);\r\n                });\r\n                return this;\r\n            },\r\n            off(eventsStr, ...options) {\r\n                const events = eventsStr.split(' ');\r\n                let selector = null;\r\n                let handler = null;\r\n                options.fastEach((option, i) => {\r\n                    switch (option.constructor) {\r\n                        case String:\r\n                            if (selector !== null) {\r\n                                break;\r\n                            }\r\n                            selector = option;\r\n                            break;\r\n                        case Function:\r\n                            if (i !== options.length - 1) {\r\n                                break;\r\n                            }\r\n                            handler = option;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                events.fastEach((eventStr) => {\r\n                    this.removeEventListener(eventStr, (event) => {\r\n                        const processedEvent = event;\r\n                        if (!event) {\r\n                            return handler(undefined);\r\n                        }\r\n                        const { target } = processedEvent;\r\n                        if (!target) {\r\n                            return null;\r\n                        }\r\n                        if (selector !== null\r\n                            && target.matches(selector) === false) {\r\n                            return null;\r\n                        }\r\n                        return handler.call(target, processedEvent);\r\n                    });\r\n                });\r\n                return this;\r\n            },\r\n            async getJSON(url, callback) {\r\n                const response = await fetch(url);\r\n                return callback ? callback(await response.json()) : response.json();\r\n            },\r\n            $,\r\n            $$,\r\n            // workaround to keep the type\r\n            ...{},\r\n        };\r\n        // ...spread doesn't work directly on dom objects apparently\r\n        Object.assign(objectToCreateFrom, object);\r\n        return objectToCreateFrom;\r\n    }\r\n}\r\n//# sourceMappingURL=$.factory.js.map","import { $Factory } from './factories/$.factory';\r\n// eslint-disable-next-line import/named\r\nclass NotJQuery {\r\n    // the object that is applied to can be just some random object\r\n    $(objectToCreateFrom = {}) {\r\n        const m$Factory = new $Factory();\r\n        switch (true) {\r\n            case this\r\n                && this.constructor === Object\r\n                && objectToCreateFrom.constructor === String:\r\n                return m$Factory.create(Object.values(this)\r\n                    .find((node) => node.matches && node.matches(objectToCreateFrom)));\r\n            case objectToCreateFrom === undefined:\r\n                return m$Factory.create({});\r\n            case objectToCreateFrom === null:\r\n                throw new Error('Cannot create from null!');\r\n            case objectToCreateFrom.constructor === String: {\r\n                const queryResult = document.querySelector(objectToCreateFrom);\r\n                return queryResult && m$Factory.create(queryResult);\r\n            }\r\n            default:\r\n                return m$Factory.create(objectToCreateFrom);\r\n        }\r\n    }\r\n    $$(objectToCreateFrom = {}) {\r\n        const m$Factory = new $Factory();\r\n        switch (true) {\r\n            case this\r\n                && this.constructor === Object\r\n                && objectToCreateFrom.constructor === String:\r\n                return Object.values(this)\r\n                    .getAll((node) => node.matches && node.matches(objectToCreateFrom))\r\n                    .map((elem) => m$Factory.create(elem));\r\n            case objectToCreateFrom === undefined:\r\n                return [m$Factory.create({})];\r\n            case objectToCreateFrom === null:\r\n                throw new Error('Cannot create from null!');\r\n            case objectToCreateFrom.constructor === String:\r\n                return Array.from(document.querySelectorAll(objectToCreateFrom)).map((elem) => m$Factory.create(elem));\r\n            default:\r\n                return [m$Factory.create(objectToCreateFrom)];\r\n        }\r\n    }\r\n}\r\nconst mNotJQuery = new NotJQuery();\r\nexport const { $ } = mNotJQuery;\r\nexport const { $$ } = mNotJQuery;\r\n//# sourceMappingURL=$.utility.js.map","export class ForUtility {\r\n    static addToArrayPrototype() {\r\n        // non-standard, used by this to keep track of the singleton\r\n        if (Array.prototype.__forUtilitySingletonExecuted) {\r\n            return;\r\n        }\r\n        const methods = {\r\n            fastEach(callback, ctx = null) {\r\n                const workingArray = this;\r\n                if (ctx === null) {\r\n                    for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                        callback(workingArray[i], i);\r\n                    }\r\n                    return;\r\n                }\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    callback.call(ctx || this, workingArray[i], i);\r\n                }\r\n            },\r\n            async forAwait(callback, ctx = null) {\r\n                const workingArray = this;\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    await callback.call(ctx || this, workingArray[i], i);\r\n                }\r\n            },\r\n            getAll(callback, ctx = null) {\r\n                const workingArray = this;\r\n                const returnValues = [];\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    if (callback.call(ctx || this, workingArray[i], i)) {\r\n                        returnValues.push(workingArray[i]);\r\n                    }\r\n                }\r\n                return returnValues;\r\n            },\r\n            getSome(callback, ctx = null) {\r\n                const workingArray = this;\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    if (callback.call(ctx || this, workingArray[i], i)) {\r\n                        return workingArray[i];\r\n                    }\r\n                }\r\n                return null;\r\n            },\r\n        };\r\n        Object.keys(methods).forEach((key) => {\r\n            Array.prototype[key] = methods[key];\r\n        });\r\n        Array.prototype.__forUtilitySingletonExecuted = true;\r\n    }\r\n}\r\n//# sourceMappingURL=for.utility.js.map","import { $ } from './$.utility';\r\nexport class WindowUtility {\r\n    static invalidateCache() {\r\n        this.cache = {};\r\n    }\r\n    static refresh() {\r\n        this.invalidateCache();\r\n        this.cache = {\r\n            inner: this.inner,\r\n            viewport: this.viewport,\r\n            client: this.client,\r\n            isMobile: this.isMobile,\r\n        };\r\n    }\r\n    static vh(amount) {\r\n        return (this.viewport.height / 100) * amount;\r\n    }\r\n    static vw(amount) {\r\n        return (this.viewport.width / 100) * amount;\r\n    }\r\n    static px(amount) {\r\n        return amount * window.devicePixelRatio;\r\n    }\r\n    static get client() {\r\n        if (this.cache?.client?.height\r\n            || this.cache?.client?.width) {\r\n            return this.cache.client;\r\n        }\r\n        return {\r\n            height: document.documentElement.clientHeight,\r\n            width: document.documentElement.clientWidth,\r\n        };\r\n    }\r\n    static get inner() {\r\n        if (this.cache?.inner?.height\r\n            || this.cache?.inner?.width) {\r\n            return this.cache.inner;\r\n        }\r\n        return {\r\n            height: window.innerHeight,\r\n            width: window.innerWidth,\r\n        };\r\n    }\r\n    static get viewport() {\r\n        if (this.cache?.viewport?.height\r\n            || this.cache?.viewport?.width) {\r\n            return this.cache.viewport;\r\n        }\r\n        const viewportCalibrator = $('.__windowUtility.viewportCalibrator');\r\n        const height = viewportCalibrator.offsetHeight;\r\n        const width = viewportCalibrator.offsetWidth;\r\n        return {\r\n            height,\r\n            width,\r\n        };\r\n    }\r\n    static get isMobile() {\r\n        if (this.cache?.isMobile) {\r\n            return this.cache.isMobile;\r\n        }\r\n        const isMobile = window.matchMedia('(pointer: coarse)').matches\r\n            || window.matchMedia('(pointer: cnone)').matches;\r\n        this.cache.isMobile = isMobile;\r\n        return isMobile;\r\n    }\r\n}\r\nWindowUtility.cache = {};\r\n$(window).on('resize', () => WindowUtility.refresh());\r\n//# sourceMappingURL=window.utility.js.map","/**\r\n * https://github.com/gre/bezier-easing\r\n * BezierEasing - use bezier curve for transition easing function\r\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n */\r\nexport class BezierUtility {\r\n    constructor(mX1, mY1, mX2, mY2) {\r\n        this.mX1 = mX1;\r\n        this.mY1 = mY1;\r\n        this.mX2 = mX2;\r\n        this.mY2 = mY2;\r\n        // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n        this.NEWTON_ITERATIONS = 4;\r\n        this.NEWTON_MIN_SLOPE = 0.001;\r\n        this.SUBDIVISION_PRECISION = 0.0000001;\r\n        this.SUBDIVISION_MAX_ITERATIONS = 10;\r\n        this.kSplineTableSize = 11;\r\n        this.kSampleStepSize = 1.0 / (this.kSplineTableSize - 1.0);\r\n        this.sampleValues = (typeof Float32Array === 'function')\r\n            ? new Float32Array(this.kSplineTableSize)\r\n            : new Array(this.kSplineTableSize);\r\n        if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1)) {\r\n            throw new Error('bezier x values must be in [0, 1] range');\r\n        }\r\n        // LinearEasing\r\n        if (mX1 === mY1 && mX2 === mY2) {\r\n            return this;\r\n        }\r\n        // Precompute samples table\r\n        for (let i = 0; i < this.kSplineTableSize; ++i) {\r\n            this.sampleValues[i] = this.calcBezier(i * this.kSampleStepSize, mX1, mX2);\r\n        }\r\n    }\r\n    getValue(value) {\r\n        // LinearEasing\r\n        if (this.mX1 === this.mY1\r\n            && this.mX2 === this.mY2) {\r\n            return value;\r\n        }\r\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n        if (value === 0 || value === 1) {\r\n            return value;\r\n        }\r\n        // LinearEasing\r\n        if (this.mX1 === this.mY1 && this.mX2 === this.mY2) {\r\n            return value;\r\n        }\r\n        return this.calcBezier(this.getTForX(value, this.mX1, this.mX2), this.mY1, this.mY2);\r\n    }\r\n    getTForX(aX, mX1, mX2) {\r\n        let intervalStart = 0.0;\r\n        let currentSample = 1;\r\n        const lastSample = this.kSplineTableSize - 1;\r\n        for (; currentSample !== lastSample && this.sampleValues[currentSample] <= aX; ++currentSample) {\r\n            intervalStart += this.kSampleStepSize;\r\n        }\r\n        --currentSample;\r\n        // Interpolate to provide an initial guess for t\r\n        const dist = (aX - this.sampleValues[currentSample])\r\n            / (this.sampleValues[currentSample + 1]\r\n                - this.sampleValues[currentSample]);\r\n        const guessForT = intervalStart + dist * this.kSampleStepSize;\r\n        const initialSlope = this.getSlope(guessForT, mX1, mX2);\r\n        if (initialSlope >= this.NEWTON_MIN_SLOPE) {\r\n            return this.newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n        }\r\n        if (initialSlope === 0.0) {\r\n            return guessForT;\r\n        }\r\n        return this.binarySubdivide(aX, intervalStart, intervalStart + this.kSampleStepSize, mX1, mX2);\r\n    }\r\n    A(aA1, aA2) {\r\n        return 1.0 - 3.0 * aA2 + 3.0 * aA1;\r\n    }\r\n    B(aA1, aA2) {\r\n        return 3.0 * aA2 - 6.0 * aA1;\r\n    }\r\n    C(aA1) {\r\n        return 3.0 * aA1;\r\n    }\r\n    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    calcBezier(aT, aA1, aA2) {\r\n        return ((this.A(aA1, aA2) * aT + this.B(aA1, aA2)) * aT + this.C(aA1)) * aT;\r\n    }\r\n    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    getSlope(aT, aA1, aA2) {\r\n        return 3.0 * this.A(aA1, aA2) * aT * aT + 2.0 * this.B(aA1, aA2) * aT + this.C(aA1);\r\n    }\r\n    binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n        let currentX;\r\n        let currentT;\r\n        let i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = this.calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            }\r\n            else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > this.SUBDIVISION_PRECISION\r\n            && ++i < this.SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n    newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n        for (let i = 0; i < this.NEWTON_ITERATIONS; ++i) {\r\n            const currentSlope = this.getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) {\r\n                return aGuessT;\r\n            }\r\n            const currentX = this.calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n}\r\n//# sourceMappingURL=bezier.utility.js.map","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t\"use strict\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bm_rounder = Math.round;\r\nvar bm_rnd;\r\nvar bm_pow = Math.pow;\r\nvar bm_sqrt = Math.sqrt;\r\nvar bm_abs = Math.abs;\r\nvar bm_floor = Math.floor;\r\nvar bm_max = Math.max;\r\nvar bm_min = Math.min;\r\nvar blitter = 10;\r\n\r\nvar BMMath = {};\r\n(function(){\r\n    var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"];\r\n    var i, len = propertyNames.length;\r\n    for(i=0;i<len;i+=1){\r\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n}());\r\n\r\nfunction ProjectInterface(){return {};}\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function(val){\r\n    var tOfVal = typeof val;\r\n    if(tOfVal === 'object' && val.length){\r\n        var absArr = createSizedArray(val.length);\r\n        var i, len = val.length;\r\n        for(i=0;i<len;i+=1){\r\n            absArr[i] = Math.abs(val[i]);\r\n        }\r\n        return absArr;\r\n    }\r\n    return Math.abs(val);\r\n\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI/180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag){\r\n    if(flag){\r\n        bm_rnd = Math.round;\r\n    }else{\r\n        bm_rnd = function(val){\r\n            return val;\r\n        };\r\n    }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element){\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier){\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier){\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier){\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames){\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target){\r\n    this.type = type;\r\n    this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nvar createElementID = (function(){\r\n    var _count = 0;\r\n    return function createID() {\r\n        return '__lottie_element_' + ++_count\r\n    }\r\n}())\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n    var r, g, b, i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n    return [ r,\r\n        g,\r\n         b ];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\r\n        d = max - min,\r\n        h,\r\n        s = (max === 0 ? 0 : d / max),\r\n        v = max / 255;\r\n\r\n    switch (max) {\r\n        case min: h = 0; break;\r\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\r\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    }\r\n\r\n    return [\r\n         h,\r\n         s,\r\n         v\r\n    ];\r\n}\r\n\r\nfunction addSaturationToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[1] += offset;\r\n    if (hsv[1] > 1) {\r\n        hsv[1] = 1;\r\n    }\r\n    else if (hsv[1] <= 0) {\r\n        hsv[1] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[2] += offset;\r\n    if (hsv[2] > 1) {\r\n        hsv[2] = 1;\r\n    }\r\n    else if (hsv[2] < 0) {\r\n        hsv[2] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color,offset) {\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[0] += offset/360;\r\n    if (hsv[0] > 1) {\r\n        hsv[0] -= 1;\r\n    }\r\n    else if (hsv[0] < 0) {\r\n        hsv[0] += 1;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function(){\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n    for(i=0;i<256;i+=1){\r\n        hex = i.toString(16);\r\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function(r, g, b) {\r\n        if(r<0){\r\n            r = 0;\r\n        }\r\n        if(g<0){\r\n            g = 0;\r\n        }\r\n        if(b<0){\r\n            b = 0;\r\n        }\r\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n}());\r\nfunction BaseEvent(){}\r\nBaseEvent.prototype = {\r\n\ttriggerEvent: function (eventName, args) {\r\n\t    if (this._cbs[eventName]) {\r\n\t        var len = this._cbs[eventName].length;\r\n\t        for (var i = 0; i < len; i++){\r\n\t            this._cbs[eventName][i](args);\r\n\t        }\r\n\t    }\r\n\t},\r\n\taddEventListener: function (eventName, callback) {\r\n\t    if (!this._cbs[eventName]){\r\n\t        this._cbs[eventName] = [];\r\n\t    }\r\n\t    this._cbs[eventName].push(callback);\r\n\r\n\t\treturn function() {\r\n\t\t\tthis.removeEventListener(eventName, callback);\r\n\t\t}.bind(this);\r\n\t},\r\n\tremoveEventListener: function (eventName,callback){\r\n\t    if (!callback){\r\n\t        this._cbs[eventName] = null;\r\n\t    }else if(this._cbs[eventName]){\r\n\t        var i = 0, len = this._cbs[eventName].length;\r\n\t        while(i<len){\r\n\t            if(this._cbs[eventName][i] === callback){\r\n\t                this._cbs[eventName].splice(i,1);\r\n\t                i -=1;\r\n\t                len -= 1;\r\n\t            }\r\n\t            i += 1;\r\n\t        }\r\n\t        if(!this._cbs[eventName].length){\r\n\t            this._cbs[eventName] = null;\r\n\t        }\r\n\t    }\r\n\t}\r\n};\r\nvar createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n\treturn Array.apply(null,{length:len});\r\n}\r\nfunction createTag(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElement(type);\r\n}\r\nfunction DynamicPropertyContainer(){};\r\nDynamicPropertyContainer.prototype = {\r\n\taddDynamicProperty: function(prop) {\r\n\t\tif(this.dynamicProperties.indexOf(prop) === -1) {\r\n\t        this.dynamicProperties.push(prop);\r\n\t        this.container.addDynamicProperty(this);\r\n\t    \tthis._isAnimated = true;\r\n\t    }\r\n\t},\r\n\titerateDynamicProperties: function(){\r\n\t    this._mdf = false;\r\n\t    var i, len = this.dynamicProperties.length;\r\n\t    for(i=0;i<len;i+=1){\r\n\t        this.dynamicProperties[i].getValue();\r\n\t        if(this.dynamicProperties[i]._mdf) {\r\n\t            this._mdf = true;\r\n\t        }\r\n\t    }\r\n\t},\r\n\tinitDynamicPropertyContainer: function(container){\r\n\t    this.container = container;\r\n\t    this.dynamicProperties = [];\r\n\t    this._mdf = false;\r\n\t    this._isAnimated = false;\r\n\t}\r\n}\r\nvar getBlendMode = (function() {\r\n\r\n\tvar blendModeEnums = {\r\n        0:'source-over',\r\n        1:'multiply',\r\n        2:'screen',\r\n        3:'overlay',\r\n        4:'darken',\r\n        5:'lighten',\r\n        6:'color-dodge',\r\n        7:'color-burn',\r\n        8:'hard-light',\r\n        9:'soft-light',\r\n        10:'difference',\r\n        11:'exclusion',\r\n        12:'hue',\r\n        13:'saturation',\r\n        14:'color',\r\n        15:'luminosity'\r\n    }\r\n\r\n\treturn function(mode) {\r\n\t\treturn blendModeEnums[mode] || '';\r\n\t}\r\n}())\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        if(!sz && sz !== 0) {\r\n            sz = 1;\r\n        }\r\n        if(sx === 1 && sy === 1 && sz === 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        var inverseMatrix = new Matrix();\r\n        inverseMatrix.props[0] = a;\r\n        inverseMatrix.props[1] = b;\r\n        inverseMatrix.props[4] = c;\r\n        inverseMatrix.props[5] = d;\r\n        inverseMatrix.props[12] = e;\r\n        inverseMatrix.props[13] = f;\r\n        return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var inverseMatrix = this.getInverseMatrix();\r\n        return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0)\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [\r\n                x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n                x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n                x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n            ];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        var _p = this.props;\r\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n        var v = 10000;\r\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n            return _rnd(val * v) / v;\r\n        }\r\n        return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var props = this.props;\r\n        var _a = roundMatrixProperty(props[0]);\r\n        var _b = roundMatrixProperty(props[1]);\r\n        var _c = roundMatrixProperty(props[4]);\r\n        var _d = roundMatrixProperty(props[5]);\r\n        var _e = roundMatrixProperty(props[12]);\r\n        var _f = roundMatrixProperty(props[13]);\r\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\r\n    }\r\n\r\n    return function(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this.getInverseMatrix = getInverseMatrix;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n}());\r\n\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\nvar BezierFactory = (function(){\r\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n        var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a,b,c,d,nm){\r\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\r\n        if(beziers[str]){\r\n            return beziers[str];\r\n        }\r\n        var bezEasing = new BezierEasing([a,b,c,d]);\r\n        beziers[str] = bezEasing;\r\n        return bezEasing;\r\n    }\r\n\r\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n    var float32ArraySupported = typeof Float32Array === \"function\";\r\n\r\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C (aA1)      { return 3.0 * aA1; }\r\n\r\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    function calcBezier (aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n\r\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    function getSlope (aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\r\n        var currentX, currentT, i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            } else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\r\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) return aGuessT;\r\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n\r\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n    function BezierEasing (points) {\r\n        this._p = points;\r\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n        this._precomputed = false;\r\n\r\n        this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n\r\n        get: function (x) {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            if (!this._precomputed) this._precompute();\r\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n            if (x === 0) return 0;\r\n            if (x === 1) return 1;\r\n            return calcBezier(this._getTForX(x), mY1, mY2);\r\n        },\r\n\r\n        // Private part\r\n\r\n        _precompute: function () {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            this._precomputed = true;\r\n            if (mX1 !== mY1 || mX2 !== mY2)\r\n                this._calcSampleValues();\r\n        },\r\n\r\n        _calcSampleValues: function () {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2];\r\n            for (var i = 0; i < kSplineTableSize; ++i) {\r\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n        _getTForX: function (aX) {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2],\r\n                mSampleValues = this._mSampleValues;\r\n\r\n            var intervalStart = 0.0;\r\n            var currentSample = 1;\r\n            var lastSample = kSplineTableSize - 1;\r\n\r\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n                intervalStart += kSampleStepSize;\r\n            }\r\n            --currentSample;\r\n\r\n            // Interpolate to provide an initial guess for t\r\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\r\n            var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n            var initialSlope = getSlope(guessForT, mX1, mX2);\r\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n            } else if (initialSlope === 0.0) {\r\n                return guessForT;\r\n            } else {\r\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n            }\r\n        }\r\n    };\r\n\r\n    return ob;\r\n\r\n}());\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if(!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function () {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    if(!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\nfunction extendPrototype(sources,destination){\r\n    var i, len = sources.length, sourcePrototype;\r\n    for (i = 0;i < len;i += 1) {\r\n        sourcePrototype = sources[i].prototype;\r\n        for (var attr in sourcePrototype) {\r\n            if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n\tfunction ProxyFunction(){}\r\n\tProxyFunction.prototype = prototype;\r\n\treturn ProxyFunction;\r\n}\r\nfunction bezFunction(){\r\n\r\n    var easingFunctions = [];\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\r\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\r\n        return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\r\n        if(z1 === 0 && z2 === 0 && z3 === 0) {\r\n            return pointOnLine2D(x1,y1, x2,y2, x3,y3);\r\n        }\r\n        var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\r\n        var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\r\n        var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\r\n        var diffDist;\r\n        if(dist1 > dist2){\r\n            if(dist1 > dist3){\r\n                diffDist = dist1 - dist2 - dist3;\r\n            } else {\r\n                diffDist = dist3 - dist2 - dist1;\r\n            }\r\n        } else if(dist3 > dist2){\r\n            diffDist = dist3 - dist2 - dist1;\r\n        } else {\r\n            diffDist = dist2 - dist1 - dist3;\r\n        }\r\n        return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = (function(){\r\n\r\n        return function(pt1,pt2,pt3,pt4){\r\n            var curveSegments = defaultCurveSegments;\r\n            var k;\r\n            var i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point = [],lastPoint = [];\r\n            var lengthData = bezier_length_pool.newElement();\r\n            len = pt3.length;\r\n            for(k=0;k<curveSegments;k+=1){\r\n                perc = k/(curveSegments-1);\r\n                ptDistance = 0;\r\n                for(i=0;i<len;i+=1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint[i] !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                    lastPoint[i] = point[i];\r\n                }\r\n                if(ptDistance){\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                }\r\n                lengthData.percents[k] = perc;\r\n                lengthData.lengths[k] = addedLength;\r\n            }\r\n            lengthData.addedLength = addedLength;\r\n            return lengthData;\r\n        };\r\n    }());\r\n\r\n    function getSegmentsLength(shapeData) {\r\n        var segmentsLength = segments_length_pool.newElement();\r\n        var closed = shapeData.c;\r\n        var pathV = shapeData.v;\r\n        var pathO = shapeData.o;\r\n        var pathI = shapeData.i;\r\n        var i, len = shapeData._length;\r\n        var lengths = segmentsLength.lengths;\r\n        var totalLength = 0;\r\n        for(i=0;i<len-1;i+=1){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        if(closed && len){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        segmentsLength.totalLength = totalLength;\r\n        return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length){\r\n        this.segmentLength = 0;\r\n        this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial,point){\r\n        this.partialLength = partial;\r\n        this.point = point;\r\n    }\r\n\r\n    var buildBezierData = (function(){\r\n\r\n        var storedData = {};\r\n\r\n        return function (pt1, pt2, pt3, pt4){\r\n            var bezierName = (pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g, 'p');\r\n            if(!storedData[bezierName]){\r\n                var curveSegments = defaultCurveSegments;\r\n                var k, i, len;\r\n                var ptCoord,perc,addedLength = 0;\r\n                var ptDistance;\r\n                var point,lastPoint = null;\r\n                if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\r\n                    curveSegments = 2;\r\n                }\r\n                var bezierData = new BezierData(curveSegments);\r\n                len = pt3.length;\r\n                for (k = 0; k < curveSegments; k += 1) {\r\n                    point = createSizedArray(len);\r\n                    perc = k / (curveSegments - 1);\r\n                    ptDistance = 0;\r\n                    for (i = 0; i < len; i += 1){\r\n                        ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\r\n                        point[i] = ptCoord;\r\n                        if(lastPoint !== null){\r\n                            ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                        }\r\n                    }\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                    bezierData.points[k] = new PointData(ptDistance, point);\r\n                    lastPoint = point;\r\n                }\r\n                bezierData.segmentLength = addedLength;\r\n                storedData[bezierName] = bezierData;\r\n            }\r\n            return storedData[bezierName];\r\n        };\r\n    }());\r\n\r\n    function getDistancePerc(perc,bezierData){\r\n        var percents = bezierData.percents;\r\n        var lengths = bezierData.lengths;\r\n        var len = percents.length;\r\n        var initPos = bm_floor((len-1)*perc);\r\n        var lengthPos = perc*bezierData.addedLength;\r\n        var lPerc = 0;\r\n        if(initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]){\r\n            return percents[initPos];\r\n        }else{\r\n            var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n            var flag = true;\r\n            while(flag){\r\n                if(lengths[initPos] <= lengthPos && lengths[initPos+1] > lengthPos){\r\n                    lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos+1] - lengths[initPos]);\r\n                    flag = false;\r\n                }else{\r\n                    initPos += dir;\r\n                }\r\n                if(initPos < 0 || initPos >= len - 1){\r\n                    //FIX for TypedArrays that don't store floating point values with enough accuracy\r\n                    if(initPos === len - 1) {\r\n                        return percents[initPos];\r\n                    }\r\n                    flag = false;\r\n                }\r\n            }\r\n            return percents[initPos] + (percents[initPos+1] - percents[initPos])*lPerc;\r\n        }\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n        var t1 = getDistancePerc(percent,bezierData);\r\n        var u0 = 1;\r\n        var u1 = 1 - t1;\r\n        var ptX = Math.round((u1*u1*u1* pt1[0] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[0] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[0] + t1*t1*t1* pt2[0])* 1000) / 1000;\r\n        var ptY = Math.round((u1*u1*u1* pt1[1] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[1] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[1] + t1*t1*t1* pt2[1])* 1000) / 1000;\r\n        return [ptX, ptY];\r\n    }\r\n\r\n    function getSegmentArray() {\r\n\r\n    }\r\n\r\n    var bezier_segment_points = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\r\n\r\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\r\n        var t0 = getDistancePerc(startPerc,bezierData);\r\n        endPerc = endPerc > 1 ? 1 : endPerc;\r\n        var t1 = getDistancePerc(endPerc,bezierData);\r\n        var i, len = pt1.length;\r\n        var u0 = 1 - t0;\r\n        var u1 = 1 - t1;\r\n        var u0u0u0 = u0*u0*u0;\r\n        var t0u0u0_3 = t0*u0*u0*3;\r\n        var t0t0u0_3 = t0*t0*u0*3;\r\n        var t0t0t0 = t0*t0*t0;\r\n        //\r\n        var u0u0u1 = u0*u0*u1;\r\n        var t0u0u1_3 = t0*u0*u1 + u0*t0*u1 + u0*u0*t1;\r\n        var t0t0u1_3 = t0*t0*u1 + u0*t0*t1 + t0*u0*t1;\r\n        var t0t0t1 = t0*t0*t1;\r\n        //\r\n        var u0u1u1 = u0*u1*u1;\r\n        var t0u1u1_3 = t0*u1*u1 + u0*t1*u1 + u0*u1*t1;\r\n        var t0t1u1_3 = t0*t1*u1 + u0*t1*t1 + t0*u1*t1;\r\n        var t0t1t1 = t0*t1*t1;\r\n        //\r\n        var u1u1u1 = u1*u1*u1;\r\n        var t1u1u1_3 = t1*u1*u1 + u1*t1*u1 + u1*u1*t1;\r\n        var t1t1u1_3 = t1*t1*u1 + u1*t1*t1 + t1*u1*t1;\r\n        var t1t1t1 = t1*t1*t1;\r\n        for(i=0;i<len;i+=1){\r\n            bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n        }\r\n\r\n        return bezier_segment_points;\r\n    }\r\n\r\n    return {\r\n        getSegmentsLength : getSegmentsLength,\r\n        getNewSegment : getNewSegment,\r\n        getPointInSegment : getPointInSegment,\r\n        buildBezierData : buildBezierData,\r\n        pointOnLine2D : pointOnLine2D,\r\n        pointOnLine3D : pointOnLine3D\r\n    };\r\n}\r\n\r\nvar bez = bezFunction();\r\nfunction dataFunctionManager(){\r\n\r\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n    function completeLayers(layers, comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData) || layerData.completed){\r\n                continue;\r\n            }\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.layers = findCompLayers(layerData.refId, comps);\r\n                completeLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                completeShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                completeText(layerData, fontManager);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findCompLayers(id,comps){\r\n        var i = 0, len = comps.length;\r\n        while(i<len){\r\n            if(comps[i].id === id){\r\n                if(!comps[i].layers.__used) {\r\n                    comps[i].layers.__used = true;\r\n                    return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function completeShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                completeShapes(arr[i].it);\r\n            }\r\n        }\r\n        /*if(hasPaths){\r\n            //mx: distance\r\n            //ss: sensitivity\r\n            //dc: decay\r\n            arr.splice(arr.length-1,0,{\r\n                \"ty\": \"ms\",\r\n                \"mx\":20,\r\n                \"ss\":10,\r\n                 \"dc\":0.001,\r\n                \"maxDist\":200\r\n            });\r\n        }*/\r\n    }\r\n\r\n    function convertPathsToAbsoluteValues(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] += path.v[i][0];\r\n            path.i[i][1] += path.v[i][1];\r\n            path.o[i][0] += path.v[i][0];\r\n            path.o[i][1] += path.v[i][1];\r\n        }\r\n    }\r\n\r\n    function checkVersion(minimum,animVersionString){\r\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\r\n        if(minimum[0]>animVersion[0]){\r\n            return true;\r\n        } else if(animVersion[0] > minimum[0]){\r\n            return false;\r\n        }\r\n        if(minimum[1]>animVersion[1]){\r\n            return true;\r\n        } else if(animVersion[1] > minimum[1]){\r\n            return false;\r\n        }\r\n        if(minimum[2]>animVersion[2]){\r\n            return true;\r\n        } else if(animVersion[2] > minimum[2]){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var checkText = (function(){\r\n        var minimumVersion = [4,4,14];\r\n\r\n        function updateTextLayer(textLayer){\r\n            var documentData = textLayer.t.d;\r\n            textLayer.t.d = {\r\n                k: [\r\n                    {\r\n                        s:documentData,\r\n                        t:0\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 5){\r\n                    updateTextLayer(layers[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkChars = (function() {\r\n        var minimumVersion = [4,7,99];\r\n        return function (animationData){\r\n            if(animationData.chars && !checkVersion(minimumVersion,animationData.v)){\r\n                var i, len = animationData.chars.length, j, jLen, k, kLen;\r\n                var pathData, paths;\r\n                for(i = 0; i < len; i += 1) {\r\n                    if(animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                        paths = animationData.chars[i].data.shapes[0].it;\r\n                        jLen = paths.length;\r\n\r\n                        for(j = 0; j < jLen; j += 1) {\r\n                            pathData = paths[j].ks.k;\r\n                            if(!pathData.__converted) {\r\n                                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                                pathData.__converted = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkColors = (function(){\r\n        var minimumVersion = [4,1,9];\r\n\r\n        function iterateShapes(shapes){\r\n            var i, len = shapes.length;\r\n            var j, jLen;\r\n            for(i=0;i<len;i+=1){\r\n                if(shapes[i].ty === 'gr'){\r\n                    iterateShapes(shapes[i].it);\r\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\r\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\r\n                        jLen = shapes[i].c.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(shapes[i].c.k[j].s){\r\n                                shapes[i].c.k[j].s[0] /= 255;\r\n                                shapes[i].c.k[j].s[1] /= 255;\r\n                                shapes[i].c.k[j].s[2] /= 255;\r\n                                shapes[i].c.k[j].s[3] /= 255;\r\n                            }\r\n                            if(shapes[i].c.k[j].e){\r\n                                shapes[i].c.k[j].e[0] /= 255;\r\n                                shapes[i].c.k[j].e[1] /= 255;\r\n                                shapes[i].c.k[j].e[2] /= 255;\r\n                                shapes[i].c.k[j].e[3] /= 255;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        shapes[i].c.k[0] /= 255;\r\n                        shapes[i].c.k[1] /= 255;\r\n                        shapes[i].c.k[2] /= 255;\r\n                        shapes[i].c.k[3] /= 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 4){\r\n                    iterateShapes(layers[i].shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkShapes = (function(){\r\n        var minimumVersion = [4,4,18];\r\n\r\n\r\n\r\n        function completeShapes(arr){\r\n            var i, len = arr.length;\r\n            var j, jLen;\r\n            var hasPaths = false;\r\n            for(i=len-1;i>=0;i-=1){\r\n                if(arr[i].ty == 'sh'){\r\n                    if(arr[i].ks.k.i){\r\n                        arr[i].ks.k.c = arr[i].closed;\r\n                    }else{\r\n                        jLen = arr[i].ks.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(arr[i].ks.k[j].s){\r\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                            }\r\n                            if(arr[i].ks.k[j].e){\r\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                            }\r\n                        }\r\n                    }\r\n                    hasPaths = true;\r\n                }else if(arr[i].ty == 'gr'){\r\n                    completeShapes(arr[i].it);\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var layerData;\r\n            var i, len = layers.length;\r\n            var j, jLen, k, kLen;\r\n            for(i=0;i<len;i+=1){\r\n                layerData = layers[i];\r\n                if(layerData.hasMask){\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(maskProps[j].pt.k.i){\r\n                            maskProps[j].pt.k.c = maskProps[j].cl;\r\n                        }else{\r\n                            kLen = maskProps[j].pt.k.length;\r\n                            for(k=0;k<kLen;k+=1){\r\n                                if(maskProps[j].pt.k[k].s){\r\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                                }\r\n                                if(maskProps[j].pt.k[k].e){\r\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(layerData.ty === 4){\r\n                    completeShapes(layerData.shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    function completeData(animationData, fontManager){\r\n        if(animationData.__complete){\r\n            return;\r\n        }\r\n        checkColors(animationData);\r\n        checkText(animationData);\r\n        checkChars(animationData);\r\n        checkShapes(animationData);\r\n        completeLayers(animationData.layers, animationData.assets, fontManager);\r\n        animationData.__complete = true;\r\n        //blitAnimation(animationData, animationData.assets, fontManager);\r\n    }\r\n\r\n    function completeText(data, fontManager){\r\n        if(data.t.a.length === 0 && !('m' in data.t.p)){\r\n            data.singleShape = true;\r\n        }\r\n    }\r\n\r\n    var moduleOb = {};\r\n    moduleOb.completeData = completeData;\r\n    moduleOb.checkColors = checkColors;\r\n    moduleOb.checkChars = checkChars;\r\n    moduleOb.checkShapes = checkShapes;\r\n    moduleOb.completeLayers = completeLayers;\r\n\r\n    return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\nvar FontManager = (function(){\r\n\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n        w: 0,\r\n        size:0,\r\n        shapes:[]\r\n    };\r\n    var combinedCharacters = [];\r\n    //Hindi characters\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366\r\n    , 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379\r\n    , 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n    function trimFontOptions(font) {\r\n        var familyArray = font.split(',');\r\n        var i, len = familyArray.length;\r\n        var enabledFamilies = [];\r\n        for (i = 0; i < len; i += 1) {\r\n            if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n                enabledFamilies.push(familyArray[i]);\r\n            }\r\n        }\r\n        return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family){\r\n        var parentNode = createTag('span');\r\n        parentNode.style.fontFamily    = family;\r\n        var node = createTag('span');\r\n        // Characters that vary significantly among different fonts\r\n        node.innerText = 'giItT1WQy@!-/#';\r\n        // Visible - so we can measure it - but not on the screen\r\n        parentNode.style.position      = 'absolute';\r\n        parentNode.style.left          = '-10000px';\r\n        parentNode.style.top           = '-10000px';\r\n        // Large font size makes even subtle changes obvious\r\n        parentNode.style.fontSize      = '300px';\r\n        // Reset any font properties\r\n        parentNode.style.fontVariant   = 'normal';\r\n        parentNode.style.fontStyle     = 'normal';\r\n        parentNode.style.fontWeight    = 'normal';\r\n        parentNode.style.letterSpacing = '0';\r\n        parentNode.appendChild(node);\r\n        document.body.appendChild(parentNode);\r\n\r\n        // Remember width with no applied web font\r\n        var width = node.offsetWidth;\r\n        node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n        return {node:node, w:width, parent:parentNode};\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n        var i, len = this.fonts.length;\r\n        var node, w;\r\n        var loadedCount = len;\r\n        for(i=0;i<len; i+= 1){\r\n            if(this.fonts[i].loaded){\r\n                loadedCount -= 1;\r\n                continue;\r\n            }\r\n            if(this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0){\r\n                this.fonts[i].loaded = true;\r\n            } else{\r\n                node = this.fonts[i].monoCase.node;\r\n                w = this.fonts[i].monoCase.w;\r\n                if(node.offsetWidth !== w){\r\n                    loadedCount -= 1;\r\n                    this.fonts[i].loaded = true;\r\n                }else{\r\n                    node = this.fonts[i].sansCase.node;\r\n                    w = this.fonts[i].sansCase.w;\r\n                    if(node.offsetWidth !== w){\r\n                        loadedCount -= 1;\r\n                        this.fonts[i].loaded = true;\r\n                    }\r\n                }\r\n                if(this.fonts[i].loaded){\r\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\r\n            setTimeout(this.checkLoadedFontsBinded, 20);\r\n        }else{\r\n            setTimeout(this.setIsLoadedBinded, 10);\r\n\r\n        }\r\n    }\r\n\r\n    function createHelper(def, fontData){\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px';\r\n        //tHelper.style.fontFamily = fontData.fFamily;\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontData.fStyle);\r\n        tHelper.setAttribute('font-weight', fontData.fWeight);\r\n        tHelper.textContent = '1';\r\n        if(fontData.fClass){\r\n            tHelper.style.fontFamily = 'inherit';\r\n            tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n            tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n        def.appendChild(tHelper);\r\n        var tCanvasHelper = createTag('canvas').getContext('2d');\r\n        tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px '+ fontData.fFamily;\r\n        //tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n        return tHelper;\r\n    }\r\n\r\n    function addFonts(fontData, defs){\r\n        if(!fontData){\r\n            this.isLoaded = true;\r\n            return;\r\n        }\r\n        if(this.chars){\r\n            this.isLoaded = true;\r\n            this.fonts = fontData.list;\r\n            return;\r\n        }\r\n\r\n\r\n        var fontArr = fontData.list;\r\n        var i, len = fontArr.length;\r\n        var _pendingFonts = len;\r\n        for(i=0; i<len; i+= 1){\r\n            var shouldLoadFont = true;\r\n            var loadedSelector;\r\n            var j;\r\n            fontArr[i].loaded = false;\r\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\r\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\r\n            if(!fontArr[i].fPath) {\r\n                fontArr[i].loaded = true;\r\n                _pendingFonts -= 1;\r\n            }else if(fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3){\r\n                loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+ fontArr[i].fFamily +'\"], style[f-origin=\"3\"][f-family=\"'+ fontArr[i].fFamily +'\"]');\r\n\r\n                if (loadedSelector.length > 0) {\r\n                    shouldLoadFont = false;\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var s = createTag('style');\r\n                    s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    s.setAttribute('f-origin', fontArr[i].origin);\r\n                    s.setAttribute('f-family', fontArr[i].fFamily);\r\n                    s.type = \"text/css\";\r\n                    s.innerText = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\r\n                    defs.appendChild(s);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1){\r\n                loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var l = createTag('link');\r\n                    l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    l.setAttribute('f-origin', fontArr[i].origin);\r\n                    l.type = \"text/css\";\r\n                    l.rel = \"stylesheet\";\r\n                    l.href = fontArr[i].fPath;\r\n                    document.body.appendChild(l);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 't' || fontArr[i].origin === 2){\r\n                loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (fontArr[i].fPath === loadedSelector[j].src) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var sc = createTag('link');\r\n                    sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    sc.setAttribute('f-origin', fontArr[i].origin);\r\n                    sc.setAttribute('rel','stylesheet');\r\n                    sc.setAttribute('href',fontArr[i].fPath);\r\n                    defs.appendChild(sc);\r\n                }\r\n            }\r\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\r\n            fontArr[i].cache = {};\r\n            this.fonts.push(fontArr[i]);\r\n        }\r\n        if (_pendingFonts === 0) {\r\n            this.isLoaded = true;\r\n        } else {\r\n            //On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n            //Adding this timeout seems to fix it\r\n           setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n        }\r\n    }\r\n\r\n    function addChars(chars){\r\n        if(!chars){\r\n            return;\r\n        }\r\n        if(!this.chars){\r\n            this.chars = [];\r\n        }\r\n        var i, len = chars.length;\r\n        var j, jLen = this.chars.length, found;\r\n        for(i=0;i<len;i+=1){\r\n            j = 0;\r\n            found = false;\r\n            while(j<jLen){\r\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\r\n                    found = true;\r\n                }\r\n                j += 1;\r\n            }\r\n            if(!found){\r\n                this.chars.push(chars[i]);\r\n                jLen += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCharData(char, style, font){\r\n        var i = 0, len = this.chars.length;\r\n        while( i < len) {\r\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\r\n\r\n                return this.chars[i];\r\n            }\r\n            i+= 1;\r\n        }\r\n        if((typeof char === 'string' && char.charCodeAt(0) !== 13 || !char) && console && console.warn) {\r\n            console.warn('Missing character from exported characters list: ', char, style, font);\r\n        }\r\n        return emptyChar;\r\n    }\r\n\r\n    function measureText(char, fontName, size) {\r\n        var fontData = this.getFontByName(fontName);\r\n        var index = char.charCodeAt(0);\r\n        if(!fontData.cache[index + 1]) {\r\n            var tHelper = fontData.helper;\r\n            //Canvas version\r\n            //fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n            //SVG version\r\n            //console.log(tHelper.getBBox().width)\r\n            if (char === ' ') {\r\n                tHelper.textContent = '|' + char + '|';\r\n                var doubleSize = tHelper.getComputedTextLength();\r\n                tHelper.textContent = '||';\r\n                var singleSize = tHelper.getComputedTextLength();\r\n                fontData.cache[index + 1] = (doubleSize - singleSize)/100;\r\n            } else {\r\n                tHelper.textContent = char;\r\n                fontData.cache[index + 1] = (tHelper.getComputedTextLength())/100;\r\n            }\r\n        }\r\n        return fontData.cache[index + 1] * size;\r\n    }\r\n\r\n    function getFontByName(name){\r\n        var i = 0, len = this.fonts.length;\r\n        while(i<len){\r\n            if(this.fonts[i].fName === name) {\r\n                return this.fonts[i];\r\n            }\r\n            i += 1;\r\n        }\r\n        return this.fonts[0];\r\n    }\r\n\r\n    function getCombinedCharacterCodes() {\r\n        return combinedCharacters;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n        this.isLoaded = true\r\n    }\r\n\r\n    var Font = function(){\r\n        this.fonts = [];\r\n        this.chars = null;\r\n        this.typekitLoaded = 0;\r\n        this.isLoaded = false;\r\n        this.initTime = Date.now();\r\n        this.setIsLoadedBinded = this.setIsLoaded.bind(this)\r\n        this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this)\r\n    };\r\n    //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \r\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n    var fontPrototype = {\r\n        addChars: addChars,\r\n        addFonts: addFonts,\r\n        getCharData: getCharData,\r\n        getFontByName: getFontByName,\r\n        measureText: measureText,\r\n        checkLoadedFonts: checkLoadedFonts,\r\n        setIsLoaded: setIsLoaded,\r\n    }\r\n\r\n    Font.prototype = fontPrototype;\r\n\r\n    return Font;\r\n\r\n}());\r\n\r\nvar PropertyFactory = (function(){\r\n\r\n    var initFrame = initialDefaultFrame;\r\n    var math_abs = Math.abs;\r\n\r\n    function interpolateValue(frameNum, caching) {\r\n        var offsetTime = this.offsetTime;\r\n        var newValue;\r\n        if (this.propType === 'multidimensional') {\r\n            newValue = createTypedArray('float32', this.pv.length);\r\n        }\r\n        var iterationIndex = caching.lastIndex;\r\n        var i = iterationIndex;\r\n        var len = this.keyframes.length - 1, flag = true;\r\n        var keyData, nextKeyData;\r\n\r\n        while (flag) {\r\n            keyData = this.keyframes[i];\r\n            nextKeyData = this.keyframes[i + 1];\r\n            if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime){\r\n                if(keyData.h){\r\n                    keyData = nextKeyData;\r\n                }\r\n                iterationIndex = 0;\r\n                break;\r\n            }\r\n            if ((nextKeyData.t - offsetTime) > frameNum){\r\n                iterationIndex = i;\r\n                break;\r\n            }\r\n            if (i < len - 1){\r\n                i += 1;\r\n            } else {\r\n                iterationIndex = 0;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        var k, kLen, perc, jLen, j, fnc;\r\n        var nextKeyTime = nextKeyData.t - offsetTime;\r\n        var keyTime = keyData.t - offsetTime;\r\n        var endValue;\r\n        if (keyData.to) {\r\n            if (!keyData.bezierData) {\r\n                keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n            }\r\n            var bezierData = keyData.bezierData;\r\n            if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n                var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n                kLen = bezierData.points[ind].point.length;\r\n                for (k = 0; k < kLen; k += 1) {\r\n                    newValue[k] = bezierData.points[ind].point[k];\r\n                }\r\n                // caching._lastKeyframeIndex = -1;\r\n            } else {\r\n                if (keyData.__fnct) {\r\n                    fnc = keyData.__fnct;\r\n                } else {\r\n                    fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n                    keyData.__fnct = fnc;\r\n                }\r\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n                var distanceInLine = bezierData.segmentLength*perc;\r\n\r\n                var segmentPerc;\r\n                var addedLength =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n                j =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n                flag = true;\r\n                jLen = bezierData.points.length;\r\n                while (flag) {\r\n                    addedLength += bezierData.points[j].partialLength;\r\n                    if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k];\r\n                        }\r\n                        break;\r\n                    } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n                        segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (j < jLen - 1){\r\n                        j += 1;\r\n                    } else {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                caching._lastPoint = j;\r\n                caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n                caching._lastKeyframeIndex = i;\r\n            }\r\n        } else {\r\n            var outX, outY, inX, inY, keyValue;\r\n            len = keyData.s.length;\r\n            endValue = nextKeyData.s || keyData.e;\r\n            if (this.sh && keyData.h !== 1) {\r\n                if (frameNum >= nextKeyTime) {\r\n                    newValue[0] = endValue[0];\r\n                    newValue[1] = endValue[1];\r\n                    newValue[2] = endValue[2];\r\n                } else if (frameNum <= keyTime) {\r\n                    newValue[0] = keyData.s[0];\r\n                    newValue[1] = keyData.s[1];\r\n                    newValue[2] = keyData.s[2];\r\n                } else {\r\n                    var quatStart = createQuaternion(keyData.s);\r\n                    var quatEnd = createQuaternion(endValue);\r\n                    var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n                    quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n                }\r\n                \r\n            } else {\r\n                for(i = 0; i < len; i += 1) {\r\n                    if (keyData.h !== 1) {\r\n                        if (frameNum >= nextKeyTime) {\r\n                            perc = 1;\r\n                        } else if(frameNum < keyTime) {\r\n                            perc = 0;\r\n                        } else {\r\n                            if(keyData.o.x.constructor === Array) {\r\n                                if (!keyData.__fnct) {\r\n                                    keyData.__fnct = [];\r\n                                }\r\n                                if (!keyData.__fnct[i]) {\r\n                                    outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                                    outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                                    inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                                    inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct[i] = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct[i];\r\n                                }\r\n                            } else {\r\n                                if (!keyData.__fnct) {\r\n                                    outX = keyData.o.x;\r\n                                    outY = keyData.o.y;\r\n                                    inX = keyData.i.x;\r\n                                    inY = keyData.i.y;\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct;\r\n                                }\r\n                            }\r\n                            perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\r\n                        }\r\n                    }\r\n\r\n                    endValue = nextKeyData.s || keyData.e;\r\n                    keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n                    if (this.propType === 'multidimensional') {\r\n                        newValue[i] = keyValue;\r\n                    } else {\r\n                        newValue = keyValue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        caching.lastIndex = iterationIndex;\r\n        return newValue;\r\n    }\r\n\r\n    //based on @Toji's https://github.com/toji/gl-matrix/\r\n    function slerp(a, b, t) {\r\n        var out = [];\r\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3],\r\n        bx = b[0], by = b[1], bz = b[2], bw = b[3]\r\n\r\n        var omega, cosom, sinom, scale0, scale1;\r\n\r\n        cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n        if (cosom < 0.0) {\r\n            cosom = -cosom;\r\n            bx = -bx;\r\n            by = -by;\r\n            bz = -bz;\r\n            bw = -bw;\r\n        }\r\n        if ((1.0 - cosom) > 0.000001) {\r\n            omega = Math.acos(cosom);\r\n            sinom = Math.sin(omega);\r\n            scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n            scale1 = Math.sin(t * omega) / sinom;\r\n        } else {\r\n            scale0 = 1.0 - t;\r\n            scale1 = t;\r\n        }\r\n        out[0] = scale0 * ax + scale1 * bx;\r\n        out[1] = scale0 * ay + scale1 * by;\r\n        out[2] = scale0 * az + scale1 * bz;\r\n        out[3] = scale0 * aw + scale1 * bw;\r\n\r\n        return out;\r\n    }\r\n\r\n    function quaternionToEuler(out, quat) {\r\n        var qx = quat[0];\r\n        var qy = quat[1];\r\n        var qz = quat[2];\r\n        var qw = quat[3];\r\n        var heading = Math.atan2(2*qy*qw-2*qx*qz , 1 - 2*qy*qy - 2*qz*qz)\r\n        var attitude = Math.asin(2*qx*qy + 2*qz*qw) \r\n        var bank = Math.atan2(2*qx*qw-2*qy*qz , 1 - 2*qx*qx - 2*qz*qz);\r\n        out[0] = heading/degToRads;\r\n        out[1] = attitude/degToRads;\r\n        out[2] = bank/degToRads;\r\n    }\r\n\r\n    function createQuaternion(values) {\r\n        var heading = values[0] * degToRads;\r\n        var attitude = values[1] * degToRads;\r\n        var bank = values[2] * degToRads;\r\n        var c1 = Math.cos(heading / 2);\r\n        var c2 = Math.cos(attitude / 2);\r\n        var c3 = Math.cos(bank / 2);\r\n        var s1 = Math.sin(heading / 2);\r\n        var s2 = Math.sin(attitude / 2);\r\n        var s3 = Math.sin(bank / 2);\r\n        var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n        var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n        var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n        var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n        return [x,y,z,w];\r\n    }\r\n\r\n    function getValueAtCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length- 1].t-this.offsetTime;\r\n        if(!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))){\r\n            if(this._caching.lastFrame >= frameNum) {\r\n                this._caching._lastKeyframeIndex = -1;\r\n                this._caching.lastIndex = 0;\r\n            }\r\n\r\n            var renderResult = this.interpolateValue(frameNum, this._caching);\r\n            this.pv = renderResult;\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function setVValue(val) {\r\n        var multipliedValue;\r\n        if(this.propType === 'unidimensional') {\r\n            multipliedValue = val * this.mult;\r\n            if(math_abs(this.v - multipliedValue) > 0.00001) {\r\n                this.v = multipliedValue;\r\n                this._mdf = true;\r\n            }\r\n        } else {\r\n            var i = 0, len = this.v.length;\r\n            while (i < len) {\r\n                multipliedValue = val[i] * this.mult;\r\n                if (math_abs(this.v[i] - multipliedValue) > 0.00001) {\r\n                    this.v[i] = multipliedValue;\r\n                    this._mdf = true;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n            return;\r\n        }\r\n        if(this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = this._isFirstFrame;\r\n        var multipliedValue;\r\n        var i, len = this.effectsSequence.length;\r\n        var finalValue = this.kf ? this.pv : this.data.k;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this._isFirstFrame = false;\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    function ValueProperty(elem, data, mult, container){\r\n        this.propType = 'unidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this.v = mult ? data.k * mult : data.k;\r\n        this.pv = data.k;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.vel = 0;\r\n        this.effectsSequence = [];\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult, container) {\r\n        this.propType = 'multidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.frameId = -1;\r\n        var i, len = data.k.length;\r\n        this.v = createTypedArray('float32', len);\r\n        this.pv = createTypedArray('float32', len);\r\n        var arr = createTypedArray('float32', len);\r\n        this.vel = createTypedArray('float32', len);\r\n        for (i = 0; i < len; i += 1) {\r\n            this.v[i] = data.k[i] * this.mult;\r\n            this.pv[i] = data.k[i];\r\n        }\r\n        this._isFirstFrame = true;\r\n        this.effectsSequence = [];\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult, container) {\r\n        this.propType = 'unidimensional';\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.frameId = -1;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1};\r\n        this.k = true;\r\n        this.kf = true;\r\n        this.data = data;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.v = initFrame;\r\n        this.pv = initFrame;\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult, container){\r\n        this.propType = 'multidimensional';\r\n        var i, len = data.k.length;\r\n        var s, e,to,ti;\r\n        for (i = 0; i < len - 1; i += 1) {\r\n            if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n                s = data.k[i].s;\r\n                e = data.k[i + 1].s;\r\n                to = data.k[i].to;\r\n                ti = data.k[i].ti;\r\n                if((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0] + to[0],s[1] + to[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0] + ti[0],e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0] + to[0],s[1] + to[1],s[2] + to[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0] + ti[0],e[1] + ti[1],e[2] + ti[2]))){\r\n                    data.k[i].to = null;\r\n                    data.k[i].ti = null;\r\n                }\r\n                if(s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n                    if(s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n                        data.k[i].to = null;\r\n                        data.k[i].ti = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.k = true;\r\n        this.kf = true;\r\n        this._isFirstFrame = true;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.frameId = -1;\r\n        var arrLen = data.k[0].s.length;\r\n        this.v = createTypedArray('float32', arrLen);\r\n        this.pv = createTypedArray('float32', arrLen);\r\n        for (i = 0; i < arrLen; i += 1) {\r\n            this.v[i] = initFrame;\r\n            this.pv[i] = initFrame;\r\n        }\r\n        this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32', arrLen)};\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function getProp(elem,data,type, mult, container) {\r\n        var p;\r\n        if(!data.k.length){\r\n            p = new ValueProperty(elem,data, mult, container);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            p = new MultiDimensionalProperty(elem,data, mult, container);\r\n        }else{\r\n            switch(type){\r\n                case 0:\r\n                    p = new KeyframedValueProperty(elem,data,mult, container);\r\n                    break;\r\n                case 1:\r\n                    p = new KeyframedMultidimensionalProperty(elem,data,mult, container);\r\n                    break;\r\n            }\r\n        }\r\n        if(p.effectsSequence.length){\r\n            container.addDynamicProperty(p);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    var ob = {\r\n        getProp: getProp\r\n    };\r\n    return ob;\r\n}());\r\nvar TransformPropertyFactory = (function() {\r\n\r\n    var defaultVector = [0,0]\r\n\r\n    function applyToMatrix(mat) {\r\n        var _mdf = this._mdf;\r\n        this.iterateDynamicProperties();\r\n        this._mdf = this._mdf || _mdf;\r\n        if (this.a) {\r\n            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n        if (this.s) {\r\n            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n        if (this.sk) {\r\n            mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n        if (this.r) {\r\n            mat.rotate(-this.r.v);\r\n        } else {\r\n            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n        if (this.data.p.s) {\r\n            if (this.data.p.z) {\r\n                mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n            } else {\r\n                mat.translate(this.px.v, this.py.v, 0);\r\n            }\r\n        } else {\r\n            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n    }\r\n    function processKeys(forceRender){\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        }\r\n        if(this._isDirty) {\r\n            this.precalculateMatrix();\r\n            this._isDirty = false;\r\n        }\r\n\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf || forceRender) {\r\n            this.v.cloneFromProps(this.pre.props);\r\n            if (this.appliedTransformations < 1) {\r\n                this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            }\r\n            if(this.appliedTransformations < 2) {\r\n                this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            }\r\n            if (this.sk && this.appliedTransformations < 3) {\r\n                this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n            }\r\n            if (this.r && this.appliedTransformations < 4) {\r\n                this.v.rotate(-this.r.v);\r\n            } else if (!this.r && this.appliedTransformations < 4){\r\n                this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            }\r\n            if (this.autoOriented) {\r\n                var v1,v2, frameRate = this.elem.globalData.frameRate;\r\n                if(this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n                    if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n                    } else if(this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n                        v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n                    } else {\r\n                        v1 = this.p.pv;\r\n                        v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n                    }\r\n                } else if(this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n                    v1 = [];\r\n                    v2 = [];\r\n                    var px = this.px, py = this.py, frameRate;\r\n                    if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate,0);\r\n                    } else if(px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate),0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate),0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                    } else {\r\n                        v1 = [px.pv, py.pv];\r\n                        v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate,px.offsetTime);\r\n                        v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate,py.offsetTime);\r\n                    }\r\n                } else {\r\n                    v1 = v2 = defaultVector\r\n                }\r\n                this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n            }\r\n            if(this.data.p && this.data.p.s){\r\n                if(this.data.p.z) {\r\n                    this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n                } else {\r\n                    this.v.translate(this.px.v, this.py.v, 0);\r\n                }\r\n            }else{\r\n                this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n        if(!this.a.k) {\r\n            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            this.appliedTransformations = 1;\r\n        } else {\r\n            return;\r\n        }\r\n        if(!this.s.effectsSequence.length) {\r\n            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            this.appliedTransformations = 2;\r\n        } else {\r\n            return;\r\n        }\r\n        if(this.sk) {\r\n            if(!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n                this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n            this.appliedTransformations = 3;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        if (this.r) {\r\n            if(!this.r.effectsSequence.length) {\r\n                this.pre.rotate(-this.r.v);\r\n                this.appliedTransformations = 4;\r\n            } else {\r\n                return;\r\n            }\r\n        } else if(!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            this.appliedTransformations = 4;\r\n        }\r\n    }\r\n\r\n    function autoOrient(){\r\n        //\r\n        //var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n        this._addDynamicProperty(prop);\r\n        this.elem.addDynamicProperty(prop);\r\n        this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem,data,container){\r\n        this.elem = elem;\r\n        this.frameId = -1;\r\n        this.propType = 'transform';\r\n        this.data = data;\r\n        this.v = new Matrix();\r\n        //Precalculated matrix with non animated properties\r\n        this.pre = new Matrix();\r\n        this.appliedTransformations = 0;\r\n        this.initDynamicPropertyContainer(container || elem);\r\n        if(data.p && data.p.s){\r\n            this.px = PropertyFactory.getProp(elem,data.p.x,0,0,this);\r\n            this.py = PropertyFactory.getProp(elem,data.p.y,0,0,this);\r\n            if(data.p.z){\r\n                this.pz = PropertyFactory.getProp(elem,data.p.z,0,0,this);\r\n            }\r\n        }else{\r\n            this.p = PropertyFactory.getProp(elem,data.p || {k:[0,0,0]},1,0,this);\r\n        }\r\n        if(data.rx) {\r\n            this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n            this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n            this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n            if(data.or.k[0].ti) {\r\n                var i, len = data.or.k.length;\r\n                for(i=0;i<len;i+=1) {\r\n                    data.or.k[i].to = data.or.k[i].ti = null;\r\n                }\r\n            }\r\n            this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n            //sh Indicates it needs to be capped between -180 and 180\r\n            this.or.sh = true;\r\n        } else {\r\n            this.r = PropertyFactory.getProp(elem, data.r || {k: 0}, 0, degToRads, this);\r\n        }\r\n        if(data.sk){\r\n            this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n            this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n        }\r\n        this.a = PropertyFactory.getProp(elem,data.a || {k:[0,0,0]},1,0,this);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:[100,100,100]},1,0.01,this);\r\n        // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n        if(data.o){\r\n            this.o = PropertyFactory.getProp(elem,data.o,0,0.01,elem);\r\n        } else {\r\n            this.o = {_mdf:false,v:1};\r\n        }\r\n        this._isDirty = true;\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue(true);\r\n        }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n        applyToMatrix: applyToMatrix,\r\n        getValue: processKeys,\r\n        precalculateMatrix: precalculateMatrix,\r\n        autoOrient: autoOrient\r\n    }\r\n\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem,data,container){\r\n        return new TransformProperty(elem,data,container);\r\n    }\r\n\r\n    return {\r\n        getTransformProperty: getTransformProperty\r\n    };\r\n\r\n}());\r\nfunction ShapePath(){\r\n\tthis.c = false;\r\n\tthis._length = 0;\r\n\tthis._maxLength = 8;\r\n\tthis.v = createSizedArray(this._maxLength);\r\n\tthis.o = createSizedArray(this._maxLength);\r\n\tthis.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function(closed, len) {\r\n\tthis.c = closed;\r\n\tthis.setLength(len);\r\n\tvar i = 0;\r\n\twhile(i < len){\r\n\t\tthis.v[i] = point_pool.newElement();\r\n\t\tthis.o[i] = point_pool.newElement();\r\n\t\tthis.i[i] = point_pool.newElement();\r\n\t\ti += 1;\r\n\t}\r\n};\r\n\r\nShapePath.prototype.setLength = function(len) {\r\n\twhile(this._maxLength < len) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tthis._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function() {\r\n\tthis.v = this.v.concat(createSizedArray(this._maxLength));\r\n\tthis.i = this.i.concat(createSizedArray(this._maxLength));\r\n\tthis.o = this.o.concat(createSizedArray(this._maxLength));\r\n\tthis._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function(x, y, type, pos, replace) {\r\n\tvar arr;\r\n\tthis._length = Math.max(this._length, pos + 1);\r\n\tif(this._length >= this._maxLength) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tswitch(type){\r\n\t\tcase 'v':\r\n\t\t\tarr = this.v;\r\n\t\t\tbreak;\r\n\t\tcase 'i':\r\n\t\t\tarr = this.i;\r\n\t\t\tbreak;\r\n\t\tcase 'o':\r\n\t\t\tarr = this.o;\r\n\t\t\tbreak;\r\n\t}\r\n\tif(!arr[pos] || (arr[pos] && !replace)){\r\n\t\tarr[pos] = point_pool.newElement();\r\n\t}\r\n\tarr[pos][0] = x;\r\n\tarr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function(vX,vY,oX,oY,iX,iY,pos, replace) {\r\n\tthis.setXYAt(vX,vY,'v',pos, replace);\r\n\tthis.setXYAt(oX,oY,'o',pos, replace);\r\n\tthis.setXYAt(iX,iY,'i',pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function() {\r\n\tvar newPath = new ShapePath();\r\n\tnewPath.setPathData(this.c, this._length);\r\n\tvar vertices = this.v, outPoints = this.o, inPoints = this.i;\r\n\tvar init = 0;\r\n\tif (this.c) {\r\n\t\tnewPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n        init = 1;\r\n    }\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n\r\n    var i;\r\n    for (i = init; i < len; i += 1) {\r\n    \tnewPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n        cnt -= 1;\r\n    }\r\n    return newPath;\r\n};\r\nvar ShapePropertyFactory = (function(){\r\n\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n        var iterationIndex = caching.lastIndex;\r\n        var keyPropS,keyPropE,isHold, j, k, jLen, kLen, perc, vertexValue;\r\n        var kf = this.keyframes;\r\n        if(frameNum < kf[0].t-this.offsetTime){\r\n            keyPropS = kf[0].s[0];\r\n            isHold = true;\r\n            iterationIndex = 0;\r\n        }else if(frameNum >= kf[kf.length - 1].t-this.offsetTime){\r\n            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n            /*if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            }*/\r\n            isHold = true;\r\n        }else{\r\n            var i = iterationIndex;\r\n            var len = kf.length- 1,flag = true,keyData,nextKeyData;\r\n            while(flag){\r\n                keyData = kf[i];\r\n                nextKeyData = kf[i+1];\r\n                if((nextKeyData.t - this.offsetTime) > frameNum){\r\n                    break;\r\n                }\r\n                if(i < len - 1){\r\n                    i += 1;\r\n                }else{\r\n                    flag = false;\r\n                }\r\n            }\r\n            isHold = keyData.h === 1;\r\n            iterationIndex = i;\r\n            if(!isHold){\r\n                if(frameNum >= nextKeyData.t-this.offsetTime){\r\n                    perc = 1;\r\n                }else if(frameNum < keyData.t-this.offsetTime){\r\n                    perc = 0;\r\n                }else{\r\n                    var fnc;\r\n                    if(keyData.__fnct){\r\n                        fnc = keyData.__fnct;\r\n                    }else{\r\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\r\n                        keyData.__fnct = fnc;\r\n                    }\r\n                    perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\r\n                }\r\n                keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n            }\r\n            keyPropS = keyData.s[0];\r\n        }\r\n        jLen = previousValue._length;\r\n        kLen = keyPropS.i[0].length;\r\n        caching.lastIndex = iterationIndex;\r\n\r\n        for(j=0;j<jLen;j+=1){\r\n            for(k=0;k<kLen;k+=1){\r\n                vertexValue = isHold ? keyPropS.i[j][k] :  keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\r\n                previousValue.i[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.o[j][k] :  keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\r\n                previousValue.o[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.v[j][k] :  keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\r\n                previousValue.v[j][k] = vertexValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n        var lastFrame = this._caching.lastFrame;\r\n        if(!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))){\r\n            ////\r\n            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            this.interpolateShape(frameNum, this.pv, this._caching);\r\n            ////\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function resetShape(){\r\n        this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n        if(shape1._length !== shape2._length || shape1.c !== shape2.c){\r\n            return false;\r\n        }\r\n        var i, len = shape1._length;\r\n        for(i = 0; i < len; i += 1) {\r\n            if(shape1.v[i][0] !== shape2.v[i][0] \r\n            || shape1.v[i][1] !== shape2.v[i][1] \r\n            || shape1.o[i][0] !== shape2.o[i][0] \r\n            || shape1.o[i][1] !== shape2.o[i][1] \r\n            || shape1.i[i][0] !== shape2.i[i][0] \r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n        if(!shapesEqual(this.v, newPath)) {\r\n            this.v = shape_pool.clone(newPath);\r\n            this.localShapeCollection.releaseShapes();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this._mdf = true;\r\n            this.paths = this.localShapeCollection;\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        } else if (!this.effectsSequence.length) {\r\n            this._mdf = false;\r\n            return;\r\n        }\r\n        if (this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = false;\r\n        var finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\r\n        var i, len = this.effectsSequence.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    };\r\n\r\n    function ShapeProperty(elem, data, type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.container = elem;\r\n        this.elem = elem;\r\n        this.data = data;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this._mdf = false;\r\n        var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n        this.v = shape_pool.clone(pathData);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.reset = resetShape;\r\n        this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem,data,type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.elem = elem;\r\n        this.container = elem;\r\n        this.offsetTime = elem.data.st;\r\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n        this.k = true;\r\n        this.kf = true;\r\n        var i, len = this.keyframes[0].s[0].i.length;\r\n        var jLen = this.keyframes[0].s[0].i[0].length;\r\n        this.v = shape_pool.newElement();\r\n        this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.lastFrame = initFrame;\r\n        this.reset = resetShape;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0};\r\n        this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = (function(){\r\n\r\n        var cPoint = roundCorner;\r\n\r\n        function EllShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 4);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.paths = this.localShapeCollection;\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.d = data.d;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertEllToPath();\r\n            }\r\n        };\r\n\r\n        EllShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function (){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n\r\n                if(this._mdf){\r\n                    this.convertEllToPath();\r\n                }\r\n            },\r\n            convertEllToPath: function() {\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\r\n                var _cw = this.d !== 3;\r\n                var _v = this.v;\r\n                _v.v[0][0] = p0;\r\n                _v.v[0][1] = p1 - s1;\r\n                _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.v[1][1] = p1;\r\n                _v.v[2][0] = p0;\r\n                _v.v[2][1] = p1 + s1;\r\n                _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.v[3][1] = p1;\r\n                _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.i[0][1] = p1 - s1;\r\n                _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.i[1][1] = p1 - s1 * cPoint;\r\n                _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.i[2][1] = p1 + s1;\r\n                _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.i[3][1] = p1 + s1 * cPoint;\r\n                _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.o[0][1] = p1 - s1;\r\n                _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.o[1][1] = p1 + s1 * cPoint;\r\n                _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.o[2][1] = p1 + s1;\r\n                _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.o[3][1] = p1 - s1 * cPoint;\r\n            }\r\n        }\r\n\r\n        extendPrototype([DynamicPropertyContainer], EllShapeProperty);\r\n\r\n        return EllShapeProperty;\r\n    }());\r\n\r\n    var StarShapeProperty = (function() {\r\n\r\n        function StarShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 0);\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.data = data;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            if(data.sy === 1){\r\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this);\r\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this);\r\n                this.convertToPath = this.convertStarToPath;\r\n            } else {\r\n                this.convertToPath = this.convertPolygonToPath;\r\n            }\r\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this);\r\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this);\r\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertToPath();\r\n            }\r\n        };\r\n\r\n        StarShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function() {\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertToPath();\r\n                }\r\n            },\r\n            convertStarToPath: function() {\r\n                var numPts = Math.floor(this.pt.v)*2;\r\n                var angle = Math.PI*2/numPts;\r\n                /*this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts;*/\r\n                var longFlag = true;\r\n                var longRad = this.or.v;\r\n                var shortRad = this.ir.v;\r\n                var longRound = this.os.v;\r\n                var shortRound = this.is.v;\r\n                var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\r\n                var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\r\n                var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\r\n                currentAng += this.r.v;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    rad = longFlag ? longRad : shortRad;\r\n                    roundness = longFlag ? longRound : shortRound;\r\n                    perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n\r\n                    /*this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts;*/\r\n                    longFlag = !longFlag;\r\n                    currentAng += angle*dir;\r\n                }\r\n            },\r\n            convertPolygonToPath: function() {\r\n                var numPts = Math.floor(this.pt.v);\r\n                var angle = Math.PI*2/numPts;\r\n                var rad = this.or.v;\r\n                var roundness = this.os.v;\r\n                var perimSegment = 2*Math.PI*rad/(numPts*4);\r\n                var i, currentAng = -Math.PI/ 2;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                currentAng += this.r.v;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n                    currentAng += angle*dir;\r\n                }\r\n                this.paths.length = 0;\r\n                this.paths[0] = this.v;\r\n            }\r\n\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], StarShapeProperty);\r\n\r\n        return StarShapeProperty;\r\n    }());\r\n\r\n    var RectShapeProperty = (function() {\r\n\r\n         function RectShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.c = true;\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertRectToPath();\r\n            }\r\n        };\r\n\r\n        RectShapeProperty.prototype = {\r\n            convertRectToPath: function (){\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\r\n                var round = bm_min(v0,v1,this.r.v);\r\n                var cPoint = round*(1-roundCorner);\r\n                this.v._length = 0;\r\n\r\n                if(this.d === 2 || this.d === 1) {\r\n                    this.v.setTripleAt(p0+v0, p1-v1+round,p0+v0, p1-v1+round,p0+v0,p1-v1+cPoint,0, true);\r\n                    this.v.setTripleAt(p0+v0, p1+v1-round,p0+v0, p1+v1-cPoint,p0+v0, p1+v1-round,1, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round, p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);\r\n                    }\r\n                }else{\r\n                    this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3, true);\r\n\r\n                    }\r\n                }\r\n            },\r\n            getValue: function(frameNum){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertRectToPath();\r\n                }\r\n\r\n            },\r\n            reset: resetShape\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], RectShapeProperty);\r\n\r\n        return RectShapeProperty;\r\n    }());\r\n\r\n    function getShapeProp(elem,data,type){\r\n        var prop;\r\n        if(type === 3 || type === 4){\r\n            var dataProp = type === 3 ? data.pt : data.ks;\r\n            var keys = dataProp.k;\r\n            if(keys.length){\r\n                prop = new KeyframedShapeProperty(elem, data, type);\r\n            }else{\r\n                prop = new ShapeProperty(elem, data, type);\r\n            }\r\n        }else if(type === 5){\r\n            prop = new RectShapeProperty(elem, data);\r\n        }else if(type === 6){\r\n            prop = new EllShapeProperty(elem, data);\r\n        }else if(type === 7){\r\n            prop = new StarShapeProperty(elem, data);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n        return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n        return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n}());\r\nvar ShapeModifiers = (function(){\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm,factory){\r\n        if(!modifiers[nm]){\r\n            modifiers[nm] = factory;\r\n        }\r\n    }\r\n\r\n    function getModifier(nm,elem, data){\r\n        return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n}());\r\n\r\nfunction ShapeModifier(){}\r\nShapeModifier.prototype.initModifierProperties = function(){};\r\nShapeModifier.prototype.addShapeToModifier = function(){};\r\nShapeModifier.prototype.addShape = function(data){\r\n    if (!this.closed) {\r\n        // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n        data.sh.container.addDynamicProperty(data.sh);\r\n        var shapeData = {shape:data.sh, data: data, localShapeCollection:shapeCollection_pool.newShapeCollection()};\r\n        this.shapes.push(shapeData);\r\n        this.addShapeToModifier(shapeData);\r\n        if (this._isAnimated) {\r\n            data.setAsAnimated();\r\n        }\r\n    }\r\n};\r\nShapeModifier.prototype.init = function(elem,data){\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\nShapeModifier.prototype.processKeys = function(){\r\n    if(this.elem.globalData.frameId === this.frameId){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\nfunction TrimModifier(){\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function(elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function(shapeData){\r\n    shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function(s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n    if (e <= 1) {\r\n        segments.push({\r\n            s: s,\r\n            e: e\r\n        });\r\n    } else if (s >= 1) {\r\n        segments.push({\r\n            s: s - 1,\r\n            e: e - 1\r\n        });\r\n    } else {\r\n        segments.push({\r\n            s: s,\r\n            e: 1\r\n        });\r\n        segments.push({\r\n            s: 0,\r\n            e: e - 1\r\n        });\r\n    }\r\n    var shapeSegments = [];\r\n    var i, len = segments.length, segmentOb;\r\n    for (i = 0; i < len; i += 1) {\r\n        segmentOb = segments[i];\r\n        if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\r\n            \r\n        } else {\r\n            var shapeS, shapeE;\r\n            if (segmentOb.s * totalModifierLength <= addedLength) {\r\n                shapeS = 0;\r\n            } else {\r\n                shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n            }\r\n            if(segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n                shapeE = 1;\r\n            } else {\r\n                shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n            }\r\n            shapeSegments.push([shapeS, shapeE]);\r\n        }\r\n    }\r\n    if (!shapeSegments.length) {\r\n        shapeSegments.push([0, 0]);\r\n    }\r\n    return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function(pathsData) {\r\n    var i, len = pathsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        segments_length_pool.release(pathsData[i]);\r\n    }\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var s, e;\r\n    if (this._mdf || _isFirstFrame) {\r\n        var o = (this.o.v % 360) / 360;\r\n        if (o < 0) {\r\n            o += 1;\r\n        }\r\n        s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\r\n        e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\r\n        if (s === e) {\r\n\r\n        }\r\n        if (s > e) {\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        s = Math.round(s * 10000) * 0.0001;\r\n        e = Math.round(e * 10000) * 0.0001;\r\n        this.sValue = s;\r\n        this.eValue = e;\r\n    } else {\r\n        s = this.sValue;\r\n        e = this.eValue;\r\n    }\r\n    var shapePaths;\r\n    var i, len = this.shapes.length, j, jLen;\r\n    var pathsData, pathData, totalShapeLength, totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].localShapeCollection.releaseShapes();\r\n            this.shapes[i].shape._mdf = true;\r\n            this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n            if (this._mdf) {\r\n                this.shapes[i].pathsData.length = 0;\r\n            }\r\n        }\r\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))){\r\n        var segments = [], shapeData, localShapeCollection;\r\n        for (i = 0; i < len; i += 1) {\r\n            shapeData = this.shapes[i];\r\n            // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n                shapeData.shape.paths = shapeData.localShapeCollection;\r\n            } else {\r\n                shapePaths = shapeData.shape.paths;\r\n                jLen = shapePaths._length;\r\n                totalShapeLength = 0;\r\n                if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n                    totalShapeLength = shapeData.totalShapeLength;\r\n                } else {\r\n                    pathsData = this.releasePathsData(shapeData.pathsData);\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                        pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n                        pathsData.push(pathData);\r\n                        totalShapeLength += pathData.totalLength;\r\n                    }\r\n                    shapeData.totalShapeLength = totalShapeLength;\r\n                    shapeData.pathsData = pathsData;\r\n                }\r\n\r\n                totalModifierLength += totalShapeLength;\r\n                shapeData.shape._mdf = true;\r\n            }\r\n        }\r\n        var shapeS = s, shapeE = e, addedLength = 0, edges;\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n            shapeData = this.shapes[i];\r\n            if (shapeData.shape._mdf) {\r\n                localShapeCollection = shapeData.localShapeCollection;\r\n                localShapeCollection.releaseShapes();\r\n                //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n                if (this.m === 2 && len > 1) {\r\n                    edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n                    addedLength += shapeData.totalShapeLength;\r\n                } else {\r\n                    edges = [[shapeS, shapeE]];\r\n                }\r\n                jLen = edges.length;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    shapeS = edges[j][0];\r\n                    shapeE = edges[j][1];\r\n                    segments.length = 0;\r\n                    if (shapeE <= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength * shapeE\r\n                        });\r\n                    } else if (shapeS >= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * (shapeS - 1),\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    } else {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength\r\n                        });\r\n                        segments.push({\r\n                            s:0,\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    }\r\n                    var newShapesData = this.addShapes(shapeData,segments[0]);\r\n                    if (segments[0].s !== segments[0].e) {\r\n                        if (segments.length > 1) {\r\n                            var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n                            if (lastShapeInCollection.c) {\r\n                                var lastShape = newShapesData.pop();\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                            } else {\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1]);\r\n                            }\r\n                        } \r\n                        this.addPaths(newShapesData, localShapeCollection);\r\n                    }\r\n                    \r\n                }\r\n                shapeData.shape.paths = localShapeCollection;\r\n            }\r\n        }\r\n    } else if (this._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            //Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n            //Don't remove this even if it's losing cached info.\r\n            this.shapes[i].pathsData.length = 0;\r\n            this.shapes[i].shape._mdf = true;\r\n        }\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {\r\n    var i, len = newPaths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i, len = shapeData.shape.paths._length, j, jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData,segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n    if (!shapePath) {\r\n        shapePath = shape_pool.newElement();\r\n        segmentCount = 0;\r\n        initPos = 0;\r\n    } else {\r\n        segmentCount = shapePath._length;\r\n        initPos = shapePath._length;\r\n    }\r\n    shapes.push(shapePath);\r\n    for (i = 0; i < len; i += 1) {\r\n        lengths = pathsData[i].lengths;\r\n        shapePath.c = shapePaths[i].c;\r\n        jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n        for (j = 1; j < jLen; j +=1) {\r\n            currentLengthData = lengths[j-1];\r\n            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n                addedLength += currentLengthData.addedLength;\r\n                shapePath.c = false;\r\n            } else if(addedLength > shapeSegment.e) {\r\n                shapePath.c = false;\r\n                break;\r\n            } else {\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength,(shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n                addedLength += currentLengthData.addedLength;\r\n                segmentCount += 1;\r\n            }\r\n        }\r\n        if (shapePaths[i].c && lengths.length) {\r\n            currentLengthData = lengths[j - 1];\r\n            if (addedLength <= shapeSegment.e) {\r\n                var segmentLength = lengths[j - 1].addedLength;\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n            } else {\r\n                shapePath.c = false;\r\n            }\r\n            addedLength += currentLengthData.addedLength;\r\n            segmentCount += 1;\r\n        }\r\n        if (shapePath._length) {\r\n            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1],'o', shapePath._length - 1);\r\n        }\r\n        if (addedLength > shapeSegment.e) {\r\n            break;\r\n        }\r\n        if (i < len - 1) {\r\n            shapePath = shape_pool.newElement();\r\n            newShape = true;\r\n            shapes.push(shapePath);\r\n            segmentCount = 0;\r\n        }\r\n    }\r\n    return shapes;\r\n};\r\n\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\nfunction RoundCornersModifier(){}\r\nextendPrototype([ShapeModifier],RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function(path, round){\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var i, len = path._length;\r\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc,index = 0;\r\n    var vX,vY,oX,oY,iX,iY;\r\n    for(i=0;i<len;i+=1){\r\n        currentV = path.v[i];\r\n        currentO = path.o[i];\r\n        currentI = path.i[i];\r\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\r\n            if((i===0 || i === len - 1) && !path.c){\r\n                cloned_path.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);\r\n                /*cloned_path.v[index] = currentV;\r\n                cloned_path.o[index] = currentO;\r\n                cloned_path.i[index] = currentI;*/\r\n                index += 1;\r\n            } else {\r\n                if(i===0){\r\n                    closerV = path.v[len-1];\r\n                } else {\r\n                    closerV = path.v[i-1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\r\n                oX = vX-(vX-currentV[0])*roundCorner;\r\n                oY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n\r\n                if(i === len - 1){\r\n                    closerV = path.v[0];\r\n                } else {\r\n                    closerV = path.v[i+1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\r\n                iX = vX-(vX-currentV[0])*roundCorner;\r\n                iY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n            }\r\n        } else {\r\n            cloned_path.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);\r\n            index += 1;\r\n        }\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if(rd !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j],rd));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\r\nfunction PuckerAndBloatModifier(){}\r\nextendPrototype([ShapeModifier],PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem,data.a,0,null,this);\r\n    this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function(path, amount){\r\n    var percent = amount / 100;\r\n    var centerPoint = [0, 0];\r\n    var pathLength = path._length, i = 0;\r\n    for (i = 0; i < pathLength; i += 1) {\r\n        centerPoint[0] += path.v[i][0];\r\n        centerPoint[1] += path.v[i][1];\r\n    }\r\n    centerPoint[0] /= pathLength;\r\n    centerPoint[1] /= pathLength;\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var vX, vY, oX, oY, iX, iY;\r\n    for(i = 0; i < pathLength; i += 1) {\r\n        vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n        vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n        oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n        oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n        iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n        iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n        cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var amount = this.amount.v;\r\n\r\n    if(amount !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\nShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);\r\nfunction RepeaterModifier(){}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem,data.c,0,null,this);\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,null,this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem,data.tr,this);\r\n    this.so = PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);\r\n    this.eo = PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);\r\n    this.data = data;\r\n    if(!this.dynamicProperties.length){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform, perc, inv){\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function(elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,arr[pos]);\r\n    var cont = 0;\r\n    while(pos>0){\r\n        pos -= 1;\r\n        //this._elements.unshift(arr.splice(pos,1)[0]);\r\n        this._elements.unshift(arr[pos]);\r\n        cont += 1;\r\n    }\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function(elements){\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._processed = false;\r\n        if(elements[i].ty === 'gr'){\r\n            this.resetElements(elements[i].it);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function(elements){\r\n    var i, len = elements.length;\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._render = renderFlag;\r\n        if(elements[i].ty === 'gr') {\r\n            this.changeGroupRender(elements[i].it, renderFlag);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var items, itemsTransform, i, dir, cont;\r\n    if(this._mdf || _isFirstFrame){\r\n        var copies = Math.ceil(this.c.v);\r\n        if(this._groups.length < copies){\r\n            while(this._groups.length < copies){\r\n                var group = {\r\n                    it:this.cloneElements(this._elements),\r\n                    ty:'gr'\r\n                };\r\n                group.it.push({\"a\":{\"a\":0,\"ix\":1,\"k\":[0,0]},\"nm\":\"Transform\",\"o\":{\"a\":0,\"ix\":7,\"k\":100},\"p\":{\"a\":0,\"ix\":2,\"k\":[0,0]},\"r\":{\"a\":1,\"ix\":6,\"k\":[{s:0,e:0,t:0},{s:0,e:0,t:1}]},\"s\":{\"a\":0,\"ix\":3,\"k\":[100,100]},\"sa\":{\"a\":0,\"ix\":5,\"k\":0},\"sk\":{\"a\":0,\"ix\":4,\"k\":0},\"ty\":\"tr\"});\r\n                \r\n                this.arr.splice(0,0,group);\r\n                this._groups.splice(0,0,group);\r\n                this._currentCopies += 1;\r\n            }\r\n            this.elem.reloadShapes();\r\n        }\r\n        cont = 0;\r\n        var renderFlag;\r\n        for(i = 0; i  <= this._groups.length - 1; i += 1){\r\n            renderFlag = cont < copies;\r\n            this._groups[i]._render = renderFlag;\r\n            this.changeGroupRender(this._groups[i].it, renderFlag);\r\n            cont += 1;\r\n        }\r\n        \r\n        this._currentCopies = copies;\r\n        ////\r\n\r\n        var offset = this.o.v;\r\n        var offsetModulo = offset%1;\r\n        var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n        var k;\r\n        var tMat = this.tr.v.props;\r\n        var pProps = this.pMatrix.props;\r\n        var rProps = this.rMatrix.props;\r\n        var sProps = this.sMatrix.props;\r\n        this.pMatrix.reset();\r\n        this.rMatrix.reset();\r\n        this.sMatrix.reset();\r\n        this.tMatrix.reset();\r\n        this.matrix.reset();\r\n        var iteration = 0;\r\n\r\n        if(offset > 0) {\r\n            while(iteration<roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                iteration += 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n                iteration += offsetModulo;\r\n            }\r\n        } else if(offset < 0) {\r\n            while(iteration>roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n                iteration -= 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\r\n                iteration -= offsetModulo;\r\n            }\r\n        }\r\n        i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n        dir = this.data.m === 1 ? 1 : -1;\r\n        cont = this._currentCopies;\r\n        var j, jLen;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            jLen = itemsTransform.length;\r\n            items[items.length - 1].transform.mProps._mdf = true;\r\n            items[items.length - 1].transform.op._mdf = true;\r\n            items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n            if(iteration !== 0){\r\n                if((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)){\r\n                    this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                }\r\n                this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);\r\n                this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);\r\n                this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);\r\n                \r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n                this.matrix.reset();\r\n            } else {\r\n                this.matrix.reset();\r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n            }\r\n            iteration += 1;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    } else {\r\n        cont = this._currentCopies;\r\n        i = 0;\r\n        dir = 1;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            items[items.length - 1].transform.mProps._mdf = false;\r\n            items[items.length - 1].transform.op._mdf = false;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function(){};\r\n\r\nShapeModifiers.registerModifier('rp',RepeaterModifier);\r\nfunction ShapeCollection(){\r\n\tthis._length = 0;\r\n\tthis._maxLength = 4;\r\n\tthis.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function(shapeData){\r\n\tif(this._length === this._maxLength){\r\n\t\tthis.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n\t\tthis._maxLength *= 2;\r\n\t}\r\n\tthis.shapes[this._length] = shapeData;\r\n\tthis._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function(){\r\n\tvar i;\r\n\tfor(i = 0; i < this._length; i += 1) {\r\n\t\tshape_pool.release(this.shapes[i]);\r\n\t}\r\n\tthis._length = 0;\r\n};\r\nfunction DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32',  data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32',  1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i, len = data.length || 0, prop;\r\n    for(i = 0; i < len; i += 1) {\r\n        prop = PropertyFactory.getProp(elem,data[i].v,0, 0, this);\r\n        this.k = prop.k || this.k;\r\n        this.dataProps[i] = {n:data[i].n,p:prop};\r\n    }\r\n    if(!this.k){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function(forceRender) {\r\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n    if (this._mdf) {\r\n        var i = 0, len = this.dataProps.length;\r\n        if(this.renderer === 'svg') {\r\n            this.dashStr = '';\r\n        }\r\n        for(i=0;i<len;i+=1){\r\n            if(this.dataProps[i].n != 'o'){\r\n                if(this.renderer === 'svg') {\r\n                    this.dashStr += ' ' + this.dataProps[i].p.v;\r\n                }else{\r\n                    this.dashArray[i] = this.dataProps[i].p.v;\r\n                }\r\n            }else{\r\n                this.dashoffset[0] = this.dataProps[i].p.v;\r\n            }\r\n        }\r\n    }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\nfunction GradientProperty(elem,data,container){\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p*4);\r\n    var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem,data.k,1,null,this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function(values, points) {\r\n    var i = 0, len = this.o.length/2, diff;\r\n    while(i < len) {\r\n        diff = Math.abs(values[i*4] - values[points*4 + i*2]);\r\n        if(diff > 0.01){\r\n            return false;\r\n        }\r\n        i += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function() {\r\n    if (this.o.length/2 !== this.c.length/4) {\r\n        return false;\r\n    }\r\n    if (this.data.k.k[0].s) {\r\n        var i = 0, len = this.data.k.k.length;\r\n        while (i < len) {\r\n            if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n                return false;\r\n            }\r\n            i += 1;\r\n        }\r\n    } else if(!this.comparePoints(this.data.k.k, this.data.p)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function(forceRender){\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    if(this.prop._mdf || forceRender){\r\n        var i, len = this.data.p*4;\r\n        var mult, val;\r\n        for(i=0;i<len;i+=1){\r\n            mult = i%4 === 0 ? 100 : 255;\r\n            val = Math.round(this.prop.v[i]*mult);\r\n            if(this.c[i] !== val){\r\n                this.c[i] = val;\r\n                this._cmdf = !forceRender;\r\n            }\r\n        }\r\n        if(this.o.length){\r\n            len = this.prop.v.length;\r\n            for(i=this.data.p*4;i<len;i+=1){\r\n                mult = i%2 === 0 ? 100 : 1;\r\n                val = i%2 === 0 ?  Math.round(this.prop.v[i]*100):this.prop.v[i];\r\n                if(this.o[i-this.data.p*4] !== val){\r\n                    this.o[i-this.data.p*4] = val;\r\n                    this._omdf = !forceRender;\r\n                }\r\n            }\r\n        }\r\n        this._mdf = !forceRender;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\nvar buildShapeString = function(pathNodes, length, closed, mat) {\r\n\tif(length === 0) {\r\n            return '';\r\n        }\r\n        var _o = pathNodes.o;\r\n        var _i = pathNodes.i;\r\n        var _v = pathNodes.v;\r\n        var i, shapeString = \" M\" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n        for(i = 1; i < length; i += 1) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[i][0], _i[i][1]) + \" \" + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n        }\r\n        if (closed && length) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[0][0], _i[0][1]) + \" \" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n            shapeString += 'z';\r\n        }\r\n        return shapeString;\r\n}\r\nvar audioControllerFactory = (function() {\r\n\r\n\tfunction AudioController(audioFactory) {\r\n\t\tthis.audios = [];\r\n\t\tthis.audioFactory = audioFactory;\r\n\t\tthis._volume = 1;\r\n\t\tthis._isMuted = false;\r\n\t}\r\n\r\n\tAudioController.prototype = {\r\n\t\taddAudio: function(audio) {\r\n\t\t\tthis.audios.push(audio);\r\n\t\t},\r\n\t\tpause: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].pause()\r\n\t\t\t}\r\n\t\t},\r\n\t\tresume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].resume()\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetRate: function(rateValue) {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].setRate(rateValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateAudio: function(assetPath) {\r\n\t\t\tif (this.audioFactory) {\r\n\t\t\t\treturn this.audioFactory(assetPath);\r\n\t\t\t} else if (Howl) {\r\n\t\t\t\treturn new Howl({\r\n\t\t\t\t\tsrc: [assetPath]\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisPlaying: false,\r\n\t\t\t\t\tplay: function(){this.isPlaying = true},\r\n\t\t\t\t\tseek: function(){this.isPlaying = false},\r\n\t\t\t\t\tplaying: function(){},\r\n\t\t\t\t\trate: function(){},\r\n\t\t\t\t\tsetVolume: function(){},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAudioFactory: function(audioFactory) {\r\n\t\t\tthis.audioFactory = audioFactory;\r\n\t\t},\r\n\t\tsetVolume: function(value) {\r\n\t\t\tthis._volume = value;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tmute: function() {\r\n\t\t\tthis._isMuted = true;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tunmute: function() {\r\n\t\t\tthis._isMuted = false;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tgetVolume: function(value) {\r\n\t\t\treturn this._volume;\r\n\t\t},\r\n\t\t_updateVolume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].volume(this._volume * (this._isMuted ? 0 : 1))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn function() {\r\n\t\treturn new AudioController()\r\n\t}\r\n\r\n}())\r\nvar ImagePreloader = (function(){\r\n\r\n    var proxyImage = (function(){\r\n        var canvas = createTag('canvas');\r\n        canvas.width = 1;\r\n        canvas.height = 1;\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = 'rgba(0,0,0,0)';\r\n        ctx.fillRect(0, 0, 1, 1);\r\n        return canvas;\r\n    }())\r\n\r\n    function imageLoaded(){\r\n        this.loadedAssets += 1;\r\n        if(this.loadedAssets === this.totalImages){\r\n            if(this.imagesLoadedCb) {\r\n                this.imagesLoadedCb(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, original_path) {\r\n        var path = '';\r\n        if (assetData.e) {\r\n            path = assetData.p;\r\n        } else if(assetsPath) {\r\n            var imagePath = assetData.p;\r\n            if (imagePath.indexOf('images/') !== -1) {\r\n                imagePath = imagePath.split('/')[1];\r\n            }\r\n            path = assetsPath + imagePath;\r\n        } else {\r\n            path = original_path;\r\n            path += assetData.u ? assetData.u : '';\r\n            path += assetData.p;\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createNS('image');\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.setAttributeNS('http://www.w3.org/1999/xlink','href', path);\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createTag('img');\r\n        img.crossOrigin = 'anonymous';\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.src = path;\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb){\r\n        this.imagesLoadedCb = cb;\r\n        var i, len = assets.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!assets[i].layers){\r\n                this.totalImages += 1;\r\n                this.images.push(this._createImageData(assets[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    function setPath(path){\r\n        this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path){\r\n        this.assetsPath = path || '';\r\n    }\r\n\r\n    function getImage(assetData) {\r\n        var i = 0, len = this.images.length;\r\n        while (i < len) {\r\n            if (this.images[i].assetData === assetData) {\r\n                return this.images[i].img;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function destroy() {\r\n        this.imagesLoadedCb = null;\r\n        this.images.length = 0;\r\n    }\r\n\r\n    function loaded() {\r\n        return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function setCacheType(type) {\r\n        if (type === 'svg') {\r\n            this._createImageData = this.createImageData.bind(this);\r\n        } else {\r\n            this._createImageData = this.createImgData.bind(this);\r\n        }\r\n    }\r\n\r\n    function ImagePreloader(type){\r\n        this._imageLoaded = imageLoaded.bind(this);\r\n        this.assetsPath = '';\r\n        this.path = '';\r\n        this.totalImages = 0;\r\n        this.loadedAssets = 0;\r\n        this.imagesLoadedCb = null;\r\n        this.images = [];\r\n    };\r\n\r\n    ImagePreloader.prototype = {\r\n        loadAssets: loadAssets,\r\n        setAssetsPath: setAssetsPath,\r\n        setPath: setPath,\r\n        loaded: loaded,\r\n        destroy: destroy,\r\n        getImage: getImage,\r\n        createImgData: createImgData,\r\n        createImageData: createImageData,\r\n        imageLoaded: imageLoaded,\r\n        setCacheType: setCacheType,\r\n    }\r\n\r\n    return ImagePreloader;\r\n}());\r\nvar featureSupport = (function(){\r\n\tvar ob = {\r\n\t\tmaskType: true\r\n\t};\r\n\tif (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n\t   ob.maskType = false;\r\n\t}\r\n\treturn ob;\r\n}());\r\nvar filtersFactory = (function(){\r\n\tvar ob = {};\r\n\tob.createFilter = createFilter;\r\n\tob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n\tfunction createFilter(filId){\r\n        \tvar fil = createNS('filter');\r\n        \tfil.setAttribute('id',filId);\r\n                fil.setAttribute('filterUnits','objectBoundingBox');\r\n                fil.setAttribute('x','0%');\r\n                fil.setAttribute('y','0%');\r\n                fil.setAttribute('width','100%');\r\n                fil.setAttribute('height','100%');\r\n                return fil;\r\n\t}\r\n\r\n\tfunction createAlphaToLuminanceFilter(){\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type','matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n                feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n                return feColorMatrix;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar assetLoader = (function(){\r\n\r\n\tfunction formatResponse(xhr) {\r\n\t\tif(xhr.response && typeof xhr.response === 'object') {\r\n\t\t\treturn xhr.response;\r\n\t\t} else if(xhr.response && typeof xhr.response === 'string') {\r\n\t\t\treturn JSON.parse(xhr.response);\r\n\t\t} else if(xhr.responseText) {\r\n\t\t\treturn JSON.parse(xhr.responseText);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadAsset(path, callback, errorCallback) {\r\n\t\tvar response;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', path, true);\r\n\t\t// set responseType after calling open or IE will break.\r\n\t\ttry {\r\n\t\t    // This crashes on Android WebView prior to KitKat\r\n\t\t    xhr.responseType = \"json\";\r\n\t\t} catch (err) {}\r\n\t    xhr.send();\r\n\t    xhr.onreadystatechange = function () {\r\n\t        if (xhr.readyState == 4) {\r\n\t            if(xhr.status == 200){\r\n\t            \tresponse = formatResponse(xhr);\r\n\t            \tcallback(response);\r\n\t            }else{\r\n\t                try{\r\n\t            \t\tresponse = formatResponse(xhr);\r\n\t            \t\tcallback(response);\r\n\t                }catch(err){\r\n\t                \tif(errorCallback) {\r\n\t                \t\terrorCallback(err);\r\n\t                \t}\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t}\r\n\treturn {\r\n\t\tload: loadAsset\r\n\t}\r\n}())\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem){\r\n    this._isFirstFrame = true;\r\n\tthis._hasMaskedPath = false;\r\n\tthis._frameId = -1;\r\n\tthis._textData = textData;\r\n\tthis._renderType = renderType;\r\n    this._elem = elem;\r\n\tthis._animatorsData = createSizedArray(this._textData.a.length);\r\n\tthis._pathData = {};\r\n\tthis._moreOptions = {\r\n\t\talignment: {}\r\n\t};\r\n\tthis.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function(){\r\n    var i, len = this._textData.a.length, animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n    for(i=0;i<len;i+=1){\r\n        animatorProps = this._textData.a[i];\r\n        this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n    if(this._textData.p && 'm' in this._textData.p){\r\n        this._pathData = {\r\n            f: getProp(this._elem,this._textData.p.f,0,0,this),\r\n            l: getProp(this._elem,this._textData.p.l,0,0,this),\r\n            r: this._textData.p.r,\r\n            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n        };\r\n        this._hasMaskedPath = true;\r\n    } else {\r\n        this._hasMaskedPath = false;\r\n    }\r\n    this._moreOptions.alignment = getProp(this._elem,this._textData.m.a,1,0,this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag){\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n    if(!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n        return;\r\n    }\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var data = this.data;\r\n    var xPos,yPos;\r\n    var i, len;\r\n    var letters = documentData.l, pathInfo, currentLength, currentPoint, segmentLength, flag, pointInd, segmentInd, prevPoint, points, segments, partialLength, totalLength, perc, tanAngle, mask;\r\n    if(this._hasMaskedPath) {\r\n        mask = this._pathData.m;\r\n        if(!this._pathData.n || this._pathData._mdf){\r\n            var paths = mask.v;\r\n            if(this._pathData.r){\r\n                paths = paths.reverse();\r\n            }\r\n            // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n            pathInfo = {\r\n                tLength: 0,\r\n                segments: []\r\n            };\r\n            len = paths._length - 1;\r\n            var bezierData;\r\n            totalLength = 0;\r\n            for (i = 0; i < len; i += 1) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[i + 1]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            i = len;\r\n            if (mask.v.c) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[0]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            this._pathData.pi = pathInfo;\r\n        }\r\n        pathInfo = this._pathData.pi;\r\n\r\n        currentLength = this._pathData.f.v;\r\n        segmentInd = 0;\r\n        pointInd = 1;\r\n        segmentLength = 0;\r\n        flag = true;\r\n        segments = pathInfo.segments;\r\n        if (currentLength < 0 && mask.v.c) {\r\n            if (pathInfo.tLength < Math.abs(currentLength)) {\r\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n            }\r\n            segmentInd = segments.length - 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n            while (currentLength < 0) {\r\n                currentLength += points[pointInd].partialLength;\r\n                pointInd -= 1;\r\n                if (pointInd < 0) {\r\n                    segmentInd -= 1;\r\n                    points = segments[segmentInd].points;\r\n                    pointInd = points.length - 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps, animatorSelector;\r\n    var j, jLen;\r\n    var letterValue;\r\n\r\n    jLen = animators.length;\r\n    var lastLetter;\r\n\r\n    var mult, ind = -1, offf, xPathPos, yPathPos;\r\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\r\n    var elemOpacity;\r\n    var sc,sw,fc,k;\r\n    var lineLength = 0;\r\n    var letterSw, letterSc, letterFc, letterM = '', letterP = this.defaultPropsArray, letterO;\r\n\r\n    //\r\n    if(documentData.j === 2 || documentData.j === 1) {\r\n        var animatorJustifyOffset = 0;\r\n        var animatorFirstCharOffset = 0;\r\n        var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n        var lastIndex = 0;\r\n        var isNewLine = true;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n            if (letters[i].n) {\r\n                if(animatorJustifyOffset) {\r\n                    animatorJustifyOffset += animatorFirstCharOffset;\r\n                }\r\n                while (lastIndex < i) {\r\n                    letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n                    lastIndex += 1;\r\n                }\r\n                animatorJustifyOffset = 0;\r\n                isNewLine = true;\r\n            } else {\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.t.propType) {\r\n                        if (isNewLine && documentData.j === 2) {\r\n                            animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n                        }\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n                        if (mult.length) {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult[0] * justifyOffsetMult;\r\n                        } else {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult * justifyOffsetMult;\r\n                        }\r\n                    }\r\n                }\r\n                isNewLine = false;\r\n            }\r\n        }\r\n        if(animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while(lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n        }\r\n    }\r\n    //\r\n\r\n    for( i = 0; i < len; i += 1) {\r\n\r\n        matrixHelper.reset();\r\n        elemOpacity = 1;\r\n        if(letters[i].n) {\r\n            xPos = 0;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            currentLength = initPathPos ;\r\n            firstLine = false;\r\n            lineLength = 0;\r\n            if(this._hasMaskedPath) {\r\n                segmentInd = initSegmentInd;\r\n                pointInd = initPointInd;\r\n                points = segments[segmentInd].points;\r\n                prevPoint = points[pointInd - 1];\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n                segmentLength = 0;\r\n            }\r\n            letterO = letterSw = letterFc = letterM = '';\r\n            letterP = this.defaultPropsArray;\r\n        }else{\r\n            if(this._hasMaskedPath) {\r\n                if(currentLine !== letters[i].line){\r\n                    switch(documentData.j){\r\n                        case 1:\r\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                            break;\r\n                        case 2:\r\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\r\n                            break;\r\n                    }\r\n                    currentLine = letters[i].line;\r\n                }\r\n                if (ind !== letters[i].ind) {\r\n                    if (letters[ind]) {\r\n                        currentLength += letters[ind].extra;\r\n                    }\r\n                    currentLength += letters[i].an / 2;\r\n                    ind = letters[i].ind;\r\n                }\r\n                currentLength += alignment[0] * letters[i].an / 200;\r\n                var animatorOffset = 0;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.p.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.p.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                    if (animatorProps.a.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.a.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.a.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                flag = true;\r\n                while (flag) {\r\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n                        matrixHelper.translate(-alignment[0]*letters[i].an/200, -(alignment[1] * yOff / 100));\r\n                        flag = false;\r\n                    } else if (points) {\r\n                        segmentLength += currentPoint.partialLength;\r\n                        pointInd += 1;\r\n                        if (pointInd >= points.length) {\r\n                            pointInd = 0;\r\n                            segmentInd += 1;\r\n                            if (!segments[segmentInd]) {\r\n                                if (mask.v.c) {\r\n                                    pointInd = 0;\r\n                                    segmentInd = 0;\r\n                                    points = segments[segmentInd].points;\r\n                                } else {\r\n                                    segmentLength -= currentPoint.partialLength;\r\n                                    points = null;\r\n                                }\r\n                            } else {\r\n                                points = segments[segmentInd].points;\r\n                            }\r\n                        }\r\n                        if (points) {\r\n                            prevPoint = currentPoint;\r\n                            currentPoint = points[pointInd];\r\n                            partialLength = currentPoint.partialLength;\r\n                        }\r\n                    }\r\n                }\r\n                offf = letters[i].an / 2 - letters[i].add;\r\n                matrixHelper.translate(-offf, 0, 0);\r\n            } else {\r\n                offf = letters[i].an/2 - letters[i].add;\r\n                matrixHelper.translate(-offf,0,0);\r\n\r\n                // Grouping alignment\r\n                matrixHelper.translate(-alignment[0]*letters[i].an/200, -alignment[1]*yOff/100, 0);\r\n            }\r\n\r\n            lineLength += letters[i].l/2;\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.t.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    //This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n                    if(xPos !== 0 || documentData.j !== 0) {\r\n                        if(this._hasMaskedPath) {\r\n                            if(mult.length) {\r\n                                currentLength += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                currentLength += animatorProps.t.v*mult;\r\n                            }\r\n                        }else{\r\n                            if(mult.length) {\r\n                                xPos += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                xPos += animatorProps.t.v*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            lineLength += letters[i].l/2;\r\n            if(documentData.strokeWidthAnim) {\r\n                sw = documentData.sw || 0;\r\n            }\r\n            if(documentData.strokeColorAnim) {\r\n                if(documentData.sc){\r\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n                }else{\r\n                    sc = [0,0,0];\r\n                }\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc) {\r\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.a.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n\r\n                    if(mult.length){\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\r\n                    } else {\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.s.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(mult.length){\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\r\n                    } else {\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1) {\r\n                animatorProps = animators[j].a;\r\n                animatorSelector = animators[j].s;\r\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                if (animatorProps.sk.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n                    } else {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.r.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n                    } else {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.ry.propType) {\r\n\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\r\n                    }else{\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.rx.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\r\n                    } else {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.o.propType) {\r\n                    if(mult.length) {\r\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\r\n                    } else {\r\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n                    if(mult.length) {\r\n                        sw += animatorProps.sw.v*mult[0];\r\n                    } else {\r\n                        sw += animatorProps.sw.v*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n                    for(k=0;k<3;k+=1){\r\n                        if(mult.length) {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0];\r\n                        } else {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult;\r\n                        }\r\n                    }\r\n                }\r\n                if (documentData.fillColorAnim && documentData.fc) {\r\n                    if(animatorProps.fc.propType){\r\n                        for(k=0;k<3;k+=1){\r\n                            if(mult.length) {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\r\n                            } else {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(animatorProps.fh.propType){\r\n                        if(mult.length) {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\r\n                        } else {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fs.propType){\r\n                        if(mult.length) {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\r\n                        } else {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fb.propType){\r\n                        if(mult.length) {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\r\n                        } else {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n\r\n                if (animatorProps.p.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n                        } else {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n                        } else {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(documentData.strokeWidthAnim){\r\n                letterSw = sw < 0 ? 0 : sw;\r\n            }\r\n            if(documentData.strokeColorAnim){\r\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc){\r\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\r\n            }\r\n\r\n            if(this._hasMaskedPath) {\r\n                matrixHelper.translate(0,-documentData.ls);\r\n\r\n                matrixHelper.translate(0, alignment[1]*yOff/100 + yPos,0);\r\n                if (textData.p.p) {\r\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\r\n                        rot += 180;\r\n                    }\r\n                    matrixHelper.rotate(-rot * Math.PI / 180);\r\n                }\r\n                matrixHelper.translate(xPathPos, yPathPos, 0);\r\n                currentLength -= alignment[0]*letters[i].an/200;\r\n                if(letters[i+1] && ind !== letters[i+1].ind){\r\n                    currentLength += letters[i].an / 2;\r\n                    currentLength += documentData.tr/1000*documentData.finalSize;\r\n                }\r\n            }else{\r\n\r\n                matrixHelper.translate(xPos,yPos,0);\r\n\r\n                if(documentData.ps){\r\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n                }\r\n                switch(documentData.j){\r\n                    case 1:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\r\n                        break;\r\n                    case 2:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\r\n                        break;\r\n                }\r\n                matrixHelper.translate(0,-documentData.ls);\r\n                matrixHelper.translate(offf,0,0);\r\n                matrixHelper.translate(alignment[0]*letters[i].an/200,alignment[1]*yOff/100,0);\r\n                xPos += letters[i].l + documentData.tr/1000*documentData.finalSize;\r\n            }\r\n            if(renderType === 'html'){\r\n                letterM = matrixHelper.toCSS();\r\n            }else if(renderType === 'svg'){\r\n                letterM = matrixHelper.to2dCSS();\r\n            }else{\r\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\r\n            }\r\n            letterO = elemOpacity;\r\n        }\r\n\r\n        if(renderedLettersCount <= i) {\r\n            letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\r\n            this.renderedLetters.push(letterValue);\r\n            renderedLettersCount += 1;\r\n            this.lettersChangedFlag = true;\r\n        } else {\r\n            letterValue = this.renderedLetters[i];\r\n            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n        }\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function(){\r\n\tif(this._elem.globalData.frameId === this._frameId){\r\n        return;\r\n    }\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n\tvar defaultData = {propType:false};\r\n\tvar getProp = PropertyFactory.getProp;\r\n\tvar textAnimator_animatables = animatorProps.a;\r\n\tthis.a = {\r\n\t\tr: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, container) : defaultData,\r\n\t\trx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, container) : defaultData,\r\n\t\try: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, container) : defaultData,\r\n\t\tsk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, container) : defaultData,\r\n\t\tsa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, container) : defaultData,\r\n\t\ts: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, container) : defaultData,\r\n\t\ta: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, container) : defaultData,\r\n\t\to: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, container) : defaultData,\r\n\t\tp: textAnimator_animatables.p ? getProp(elem,textAnimator_animatables.p, 1, 0, container) : defaultData,\r\n\t\tsw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, container) : defaultData,\r\n\t\tsc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, container) : defaultData,\r\n\t\tfc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, container) : defaultData,\r\n\t\tfh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, container) : defaultData,\r\n\t\tfs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, container) : defaultData,\r\n\t\tfb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, container) : defaultData,\r\n\t\tt: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, container) : defaultData\r\n\t};\r\n\r\n\tthis.s = TextSelectorProp.getTextSelectorProp(elem,animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n}\r\nfunction LetterProps(o, sw, sc, fc, m, p){\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n    \to: true,\r\n    \tsw: !!sw,\r\n    \tsc: !!sc,\r\n    \tfc: !!fc,\r\n    \tm: true,\r\n    \tp: true\r\n    };\r\n}\r\n\r\nLetterProps.prototype.update = function(o, sw, sc, fc, m, p) {\r\n\tthis._mdf.o = false;\r\n\tthis._mdf.sw = false;\r\n\tthis._mdf.sc = false;\r\n\tthis._mdf.fc = false;\r\n\tthis._mdf.m = false;\r\n\tthis._mdf.p = false;\r\n\tvar updated = false;\r\n\r\n\tif(this.o !== o) {\r\n\t\tthis.o = o;\r\n\t\tthis._mdf.o = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sw !== sw) {\r\n\t\tthis.sw = sw;\r\n\t\tthis._mdf.sw = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sc !== sc) {\r\n\t\tthis.sc = sc;\r\n\t\tthis._mdf.sc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.fc !== fc) {\r\n\t\tthis.fc = fc;\r\n\t\tthis._mdf.fc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.m !== m) {\r\n\t\tthis.m = m;\r\n\t\tthis._mdf.m = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n\t\tthis.p = p;\r\n\t\tthis._mdf.p = true;\r\n\t\tupdated = true;\r\n\t}\r\n\treturn updated;\r\n};\r\nfunction TextProperty(elem, data){\r\n\tthis._frameId = initialDefaultFrame;\r\n\tthis.pv = '';\r\n\tthis.v = '';\r\n\tthis.kf = false;\r\n\tthis._isFirstFrame = true;\r\n\tthis._mdf = false;\r\n    this.data = data;\r\n\tthis.elem = elem;\r\n    this.comp = this.elem.comp;\r\n\tthis.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n\tthis.currentData = {\r\n\t\tascent: 0,\r\n        boxWidth: this.defaultBoxWidth,\r\n        f: '',\r\n        fStyle: '',\r\n        fWeight: '',\r\n        fc: '',\r\n        j: '',\r\n        justifyOffset: '',\r\n        l: [],\r\n        lh: 0,\r\n        lineWidths: [],\r\n        ls: '',\r\n        of: '',\r\n        s: '',\r\n        sc: '',\r\n        sw: 0,\r\n        t: 0,\r\n        tr: 0,\r\n        sz:0,\r\n        ps:null,\r\n        fillColorAnim: false,\r\n        strokeColorAnim: false,\r\n        strokeWidthAnim: false,\r\n        yOffset: 0,\r\n        finalSize:0,\r\n        finalText:[],\r\n        finalLineHeight: 0,\r\n        __complete: false\r\n\r\n\t};\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if(!this.searchProperty()) {\r\n        this.completeTextData(this.currentData);\r\n    }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0,0];\r\n\r\nTextProperty.prototype.copyData = function(obj, data) {\r\n    for(var s in data) {\r\n        if(data.hasOwnProperty(s)) {\r\n            obj[s] = data[s];\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n\r\nTextProperty.prototype.setCurrentData = function(data){\r\n    if(!data.__complete) {\r\n        this.completeTextData(data);\r\n    }\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function() {\r\n    return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function() {\r\n    this.kf = this.data.d.k.length > 1;\r\n    if(this.kf) {\r\n        this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n    return this.kf;\r\n}\r\n\r\nTextProperty.prototype.addEffect = function(effectFunction) {\r\n\tthis.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function(_finalValue) {\r\n    if((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n        return;\r\n    }\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n    if(this.lock) {\r\n        this.setCurrentData(this.currentData);\r\n        return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var multipliedValue;\r\n    var i, len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n    for(i = 0; i < len; i += 1) {\r\n        //Checking if index changed to prevent creating a new object every time the expression updates.\r\n        if(currentIndex !== this.keysIndex) {\r\n            finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n        } else {\r\n            finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n        }\r\n    }\r\n    if(currentValue !== finalValue) {\r\n        this.setCurrentData(finalValue);\r\n    }\r\n    this.pv = this.v = this.currentData;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n}\r\n\r\nTextProperty.prototype.getKeyframeValue = function() {\r\n    var textKeys = this.data.d.k, textDocumentData;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0, len = textKeys.length;\r\n    while(i <= len - 1) {\r\n        textDocumentData = textKeys[i].s;\r\n        if(i === len - 1 || textKeys[i+1].t > frameNum){\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(this.keysIndex !== i) {\r\n        this.keysIndex = i;\r\n    }\r\n    return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function(text) {\r\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n    var charactersArray = [];\r\n    var i = 0, len = text.length;\r\n    var charCode;\r\n    while (i < len) {\r\n        charCode = text.charCodeAt(i);\r\n        if (combinedCharacters.indexOf(charCode) !== -1) {\r\n            charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        } else {\r\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n                charCode = text.charCodeAt(i + 1);\r\n                if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n                    charactersArray.push(text.substr(i, 2));\r\n                    ++i;\r\n                } else {\r\n                    charactersArray.push(text.charAt(i));\r\n                }\r\n            } else {\r\n                charactersArray.push(text.charAt(i));\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n    return charactersArray;\r\n}\r\n\r\nTextProperty.prototype.completeTextData = function(documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i, len;\r\n    var newLineFlag, index = 0, val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j, jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData, cLength = 0;\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n    var fWeight = 'normal', fStyle = 'normal';\r\n    len = styles.length;\r\n    var styleName;\r\n    for(i=0;i<len;i+=1){\r\n        styleName = styles[i].toLowerCase();\r\n        switch(styleName) {\r\n            case 'italic':\r\n            fStyle = 'italic';\r\n            break;\r\n            case 'bold':\r\n            fWeight = '700';\r\n            break;\r\n            case 'black':\r\n            fWeight = '900';\r\n            break;\r\n            case 'medium':\r\n            fWeight = '500';\r\n            break;\r\n            case 'regular':\r\n            case 'normal':\r\n            fWeight = '400';\r\n            break;\r\n            case 'light':\r\n            case 'thin':\r\n            fWeight = '200';\r\n            break;\r\n        }\r\n    }\r\n    documentData.fWeight = fontData.fWeight || fWeight;\r\n    documentData.fStyle = fStyle;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var charCode;\r\n    if(documentData.sz){\r\n        var flag = true;\r\n        var boxWidth = documentData.sz[0];\r\n        var boxHeight = documentData.sz[1];\r\n        var currentHeight, finalText;\r\n        while(flag) {\r\n            finalText = this.buildFinalText(documentData.t);\r\n            currentHeight = 0;\r\n            lineWidth = 0;\r\n            len = finalText.length;\r\n            trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n            var lastSpaceIndex = -1;\r\n            for(i=0;i<len;i+=1){\r\n                charCode = finalText[i].charCodeAt(0);\r\n                newLineFlag = false;\r\n                if(finalText[i] === ' '){\r\n                    lastSpaceIndex = i;\r\n                }else if(charCode === 13 || charCode === 3){\r\n                    lineWidth = 0;\r\n                    newLineFlag = true;\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                }\r\n                if(fontManager.chars){\r\n                    charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n                    cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n                }else{\r\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n                    cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n                }\r\n                if(lineWidth + cLength > boxWidth && finalText[i] !== ' '){\r\n                    if(lastSpaceIndex === -1){\r\n                        len += 1;\r\n                    } else {\r\n                        i = lastSpaceIndex;\r\n                    }\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                    finalText.splice(i, lastSpaceIndex === i ? 1 : 0,\"\\r\");\r\n                    //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n                    lastSpaceIndex = -1;\r\n                    lineWidth = 0;\r\n                }else {\r\n                    lineWidth += cLength;\r\n                    lineWidth += trackingOffset;\r\n                }\r\n            }\r\n            currentHeight += fontData.ascent*documentData.finalSize/100;\r\n            if(this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n                documentData.finalSize -= 1;\r\n                documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n            } else {\r\n                documentData.finalText = finalText;\r\n                len = documentData.finalText.length;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n    }\r\n    lineWidth = - trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n    for (i = 0;i < len ;i += 1) {\r\n        newLineFlag = false;\r\n        currentChar = documentData.finalText[i];\r\n        charCode = currentChar.charCodeAt(0);\r\n        if (charCode === 13 || charCode === 3) {\r\n            uncollapsedSpaces = 0;\r\n            lineWidths.push(lineWidth);\r\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n            lineWidth = - 2 * trackingOffset;\r\n            val = '';\r\n            newLineFlag = true;\r\n            currentLine += 1;\r\n        }else{\r\n            val = currentChar;\r\n        }\r\n        if(fontManager.chars){\r\n            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n        }else{\r\n            //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n            //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n            cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        }\r\n\r\n        //\r\n        if(currentChar === ' '){\r\n            uncollapsedSpaces += cLength + trackingOffset;\r\n        } else {\r\n            lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n            uncollapsedSpaces = 0;\r\n        }\r\n        letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine, animatorJustifyOffset: 0});\r\n        if(anchorGrouping == 2){\r\n            currentSize += cLength;\r\n            if(val === '' || val === ' ' || i === len - 1){\r\n                if(val === '' || val === ' '){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                index += 1;\r\n                currentSize = 0;\r\n            }\r\n        }else if(anchorGrouping == 3){\r\n            currentSize += cLength;\r\n            if(val === '' || i === len - 1){\r\n                if(val === ''){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                currentSize = 0;\r\n                index += 1;\r\n            }\r\n        }else{\r\n            letters[index].ind = index;\r\n            letters[index].extra = 0;\r\n            index += 1;\r\n        }\r\n    }\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n    if(documentData.sz){\r\n        documentData.boxWidth = documentData.sz[0];\r\n        documentData.justifyOffset = 0;\r\n    }else{\r\n        documentData.boxWidth = maxLineWidth;\r\n        switch(documentData.j){\r\n            case 1:\r\n                documentData.justifyOffset = - documentData.boxWidth;\r\n                break;\r\n            case 2:\r\n                documentData.justifyOffset = - documentData.boxWidth/2;\r\n                break;\r\n            default:\r\n                documentData.justifyOffset = 0;\r\n        }\r\n    }\r\n    documentData.lineWidths = lineWidths;\r\n\r\n    var animators = data.a, animatorData, letterData;\r\n    jLen = animators.length;\r\n    var based, ind, indexes = [];\r\n    for(j=0;j<jLen;j+=1){\r\n        animatorData = animators[j];\r\n        if(animatorData.a.sc){\r\n            documentData.strokeColorAnim = true;\r\n        }\r\n        if(animatorData.a.sw){\r\n            documentData.strokeWidthAnim = true;\r\n        }\r\n        if(animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb){\r\n            documentData.fillColorAnim = true;\r\n        }\r\n        ind = 0;\r\n        based = animatorData.s.b;\r\n        for(i=0;i<len;i+=1){\r\n            letterData = letters[i];\r\n            letterData.anIndexes[j] = ind;\r\n            if((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))){\r\n                if(animatorData.s.rn === 1){\r\n                    indexes.push(ind);\r\n                }\r\n                ind += 1;\r\n            }\r\n        }\r\n        data.a[j].s.totalChars = ind;\r\n        var currentInd = -1, newInd;\r\n        if(animatorData.s.rn === 1){\r\n            for(i = 0; i < len; i += 1){\r\n                letterData = letters[i];\r\n                if(currentInd != letterData.anIndexes[j]){\r\n                    currentInd = letterData.anIndexes[j];\r\n                    newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\r\n                }\r\n                letterData.anIndexes[j] = newInd;\r\n            }\r\n        }\r\n    }\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize*1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent*documentData.finalSize/100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function(newData, index) {\r\n\tindex = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function(index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n}\r\n\r\nTextProperty.prototype.canResizeFont = function(_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function(_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nvar TextSelectorProp = (function(){\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorProp(elem,data){\r\n        this._currentTextLength = -1;\r\n        this.k = false;\r\n        this.data = data;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.finalS = 0;\r\n        this.finalE = 0;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:0},0,0,this);\r\n        if('e' in data){\r\n            this.e = PropertyFactory.getProp(elem,data.e,0,0,this);\r\n        }else{\r\n            this.e = {v:100};\r\n        }\r\n        this.o = PropertyFactory.getProp(elem,data.o || {k:0},0,0,this);\r\n        this.xe = PropertyFactory.getProp(elem,data.xe || {k:0},0,0,this);\r\n        this.ne = PropertyFactory.getProp(elem,data.ne || {k:0},0,0,this);\r\n        this.a = PropertyFactory.getProp(elem,data.a,0,0.01,this);\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue();\r\n        }\r\n    }\r\n\r\n    TextSelectorProp.prototype = {\r\n        getMult: function(ind) {\r\n            if(this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n                this.getValue();\r\n            }\r\n            //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n            var x1 = 0;\r\n            var y1 = 0;\r\n            var x2 = 1;\r\n            var y2 = 1;\r\n            if(this.ne.v > 0) {\r\n                x1 = this.ne.v / 100.0;\r\n            }\r\n            else {\r\n                y1 = -this.ne.v / 100.0;\r\n            }\r\n            if(this.xe.v > 0) {\r\n                x2 = 1.0 - this.xe.v / 100.0;\r\n            }\r\n            else {\r\n                y2 = 1.0 + this.xe.v / 100.0;\r\n            }\r\n            var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n            var mult = 0;\r\n            var s = this.finalS;\r\n            var e = this.finalE;\r\n            var type = this.data.sh;\r\n            if (type === 2){\r\n                if (e === s) {\r\n                    mult = ind >= e ? 1 : 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                }\r\n                mult = easer(mult);\r\n            } else if(type === 3) {\r\n                if (e === s) {\r\n                    mult = ind >= e ? 0 : 1;\r\n                }else{\r\n                    mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s),1));\r\n                }\r\n\r\n                mult = easer(mult);\r\n            } else if (type === 4) {\r\n                if (e === s) {\r\n                    mult = 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                    if (mult < 0.5) {\r\n                        mult *= 2;\r\n                    } else {\r\n                        mult = 1 - 2 * (mult - 0.5);\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 5) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    var tot = e - s;\r\n                    /*ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    var x = -tot/2+ind;\r\n                    var a = tot/2;\r\n                    mult = Math.sqrt(1 - (x * x) / (a * a));\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 6) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2;\r\n                }\r\n                mult = easer(mult);\r\n            } else {\r\n                if (ind >= floor(s)) {\r\n                    if (ind - s < 0) {\r\n                        mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n                    } else {\r\n                        mult = max(0, min(e - ind, 1));\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            }\r\n            return mult*this.a.v;\r\n        },\r\n        getValue: function(newCharsFlag) {\r\n            this.iterateDynamicProperties();\r\n            this._mdf = newCharsFlag || this._mdf;\r\n            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n            if(newCharsFlag && this.data.r === 2) {\r\n                this.e.v = this._currentTextLength;\r\n            }\r\n            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n            var o = this.o.v/divisor;\r\n            var s = this.s.v/divisor + o;\r\n            var e = (this.e.v/divisor) + o;\r\n            if(s>e){\r\n                var _s = s;\r\n                s = e;\r\n                e = _s;\r\n            }\r\n            this.finalS = s;\r\n            this.finalE = e;\r\n        }\r\n    }\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorProp);\r\n\r\n    function getTextSelectorProp(elem, data,arr) {\r\n        return new TextSelectorProp(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n        getTextSelectorProp: getTextSelectorProp\r\n    };\r\n}());\r\n\r\n    \r\nvar pool_factory = (function() {\r\n\treturn function(initialLength, _create, _release, _clone) {\r\n\r\n\t\tvar _length = 0;\r\n\t\tvar _maxLength = initialLength;\r\n\t\tvar pool = createSizedArray(_maxLength);\r\n\r\n\t\tvar ob = {\r\n\t\t\tnewElement: newElement,\r\n\t\t\trelease: release\r\n\t\t};\r\n\r\n\t\tfunction newElement(){\r\n\t\t\tvar element;\r\n\t\t\tif(_length){\r\n\t\t\t\t_length -= 1;\r\n\t\t\t\telement = pool[_length];\r\n\t\t\t} else {\r\n\t\t\t\telement = _create();\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tfunction release(element) {\r\n\t\t\tif(_length === _maxLength) {\r\n\t\t\t\tpool = pooling.double(pool);\r\n\t\t\t\t_maxLength = _maxLength*2;\r\n\t\t\t}\r\n\t\t\tif (_release) {\r\n\t\t\t\t_release(element);\r\n\t\t\t}\r\n\t\t\tpool[_length] = element;\r\n\t\t\t_length += 1;\r\n\t\t}\r\n\r\n\t\tfunction clone() {\r\n\t\t\tvar clonedElement = newElement();\r\n\t\t\treturn _clone(clonedElement);\r\n\t\t}\r\n\r\n\t\treturn ob;\r\n\t};\r\n}());\r\n\r\nvar pooling = (function(){\r\n\r\n\tfunction double(arr){\r\n\t\treturn arr.concat(createSizedArray(arr.length));\r\n\t}\r\n\r\n\treturn {\r\n\t\tdouble: double\r\n\t};\r\n}());\r\nvar point_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn createTypedArray('float32', 2);\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nvar shape_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn new ShapePath();\r\n\t}\r\n\r\n\tfunction release(shapePath) {\r\n\t\tvar len = shapePath._length, i;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tpoint_pool.release(shapePath.v[i]);\r\n\t\t\tpoint_pool.release(shapePath.i[i]);\r\n\t\t\tpoint_pool.release(shapePath.o[i]);\r\n\t\t\tshapePath.v[i] = null;\r\n\t\t\tshapePath.i[i] = null;\r\n\t\t\tshapePath.o[i] = null;\r\n\t\t}\r\n\t\tshapePath._length = 0;\r\n\t\tshapePath.c = false;\r\n\t}\r\n\r\n\tfunction clone(shape) {\r\n\t\tvar cloned = factory.newElement();\r\n\t\tvar i, len = shape._length === undefined ? shape.v.length : shape._length;\r\n\t\tcloned.setLength(len);\r\n\t\tcloned.c = shape.c;\r\n\t\tvar pt;\r\n\t\t\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tcloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1], i);\r\n\t\t}\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tvar factory = pool_factory(4, create, release);\r\n\tfactory.clone = clone;\r\n\r\n\treturn factory;\r\n}());\r\nvar shapeCollection_pool = (function(){\r\n\tvar ob = {\r\n\t\tnewShapeCollection: newShapeCollection,\r\n\t\trelease: release\r\n\t};\r\n\r\n\tvar _length = 0;\r\n\tvar _maxLength = 4;\r\n\tvar pool = createSizedArray(_maxLength);\r\n\r\n\tfunction newShapeCollection(){\r\n\t\tvar shapeCollection;\r\n\t\tif(_length){\r\n\t\t\t_length -= 1;\r\n\t\t\tshapeCollection = pool[_length];\r\n\t\t} else {\r\n\t\t\tshapeCollection = new ShapeCollection();\r\n\t\t}\r\n\t\treturn shapeCollection;\r\n\t}\r\n\r\n\tfunction release(shapeCollection) {\r\n\t\tvar i, len = shapeCollection._length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tshape_pool.release(shapeCollection.shapes[i]);\r\n\t\t}\r\n\t\tshapeCollection._length = 0;\r\n\r\n\t\tif(_length === _maxLength) {\r\n\t\t\tpool = pooling.double(pool);\r\n\t\t\t_maxLength = _maxLength*2;\r\n\t\t}\r\n\t\tpool[_length] = shapeCollection;\r\n\t\t_length += 1;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar segments_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n\t\t\tlengths: [],\r\n\t\t\ttotalLength: 0\r\n\t\t};\r\n\t}\r\n\r\n\tfunction release(element) {\r\n\t\tvar i, len = element.lengths.length;\r\n\t\tfor(i=0;i<len;i+=1) {\r\n\t\t\tbezier_length_pool.release(element.lengths[i]);\r\n\t\t}\r\n\t\telement.lengths.length = 0;\r\n\t}\r\n\r\n\treturn pool_factory(8, create, release);\r\n}());\r\nvar bezier_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n            addedLength: 0,\r\n            percents: createTypedArray('float32', defaultCurveSegments),\r\n            lengths: createTypedArray('float32', defaultCurveSegments),\r\n        };\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nfunction BaseRenderer(){}\r\nBaseRenderer.prototype.checkLayers = function(num){\r\n    var i, len = this.layers.length, data;\r\n    this.completeLayers = true;\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if (!this.elements[i]) {\r\n            data = this.layers[i];\r\n            if(data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\r\n            {\r\n                this.buildItem(i);\r\n            }\r\n        }\r\n        this.completeLayers = this.elements[i] ? this.completeLayers:false;\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function(layer){\r\n    switch(layer.ty){\r\n        case 2:\r\n            return this.createImage(layer);\r\n        case 0:\r\n            return this.createComp(layer);\r\n        case 1:\r\n            return this.createSolid(layer);\r\n        case 3:\r\n            return this.createNull(layer);\r\n        case 4:\r\n            return this.createShape(layer);\r\n        case 5:\r\n            return this.createText(layer);\r\n        case 6:\r\n            return this.createAudio(layer);\r\n        case 13:\r\n            return this.createCamera(layer);\r\n    }\r\n    return this.createNull(layer);\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function(){\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function(data){\r\n    return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function(){\r\n    var i, len = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.buildItem(i);\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function(newLayers){\r\n    this.completeLayers = false;\r\n    var i, len = newLayers.length;\r\n    var j, jLen = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        j = 0;\r\n        while(j<jLen){\r\n            if(this.layers[j].id == newLayers[i].id){\r\n                this.layers[j] = newLayers[i];\r\n                break;\r\n            }\r\n            j += 1;\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function(pInterface){\r\n    this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function(){\r\n    if(!this.globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i=0, len = layers.length;\r\n    while (i < len) {\r\n        if (layers[i].ind == parentName) {\r\n            if (!elements[i] || elements[i] === true) {\r\n                this.buildItem(i);\r\n                this.addPendingElement(element);\r\n            } else {\r\n                hierarchy.push(elements[i]);\r\n                elements[i].setAsParent();\r\n                if(layers[i].parent !== undefined) {\r\n                    this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n                } else {\r\n                    element.setHierarchy(hierarchy);\r\n                }\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function(element){\r\n    this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i]);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function(animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.audioController = this.animationItem.audioController;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    }\r\n}\r\nfunction SVGRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n    if (config && config.title) {\r\n        var titleElement = createNS('title');\r\n        var titleId = createElementID();\r\n        titleElement.setAttribute('id', titleId);\r\n        titleElement.textContent = config.title;\r\n        this.svgElement.appendChild(titleElement);\r\n        ariaLabel += titleId;\r\n    }\r\n    if (config && config.description) {\r\n        var descElement = createNS('desc');\r\n        var descId = createElementID();\r\n        descElement.setAttribute('id', descId);\r\n        descElement.textContent = config.description;\r\n        this.svgElement.appendChild(descElement);\r\n        ariaLabel += ' ' + descId;\r\n    }\r\n    if (ariaLabel) {\r\n        this.svgElement.setAttribute('aria-labelledby', ariaLabel)\r\n    }\r\n    var defs = createNS( 'defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n        viewBoxSize: (config && config.viewBoxSize) || false,\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n        focusable: config && config.focusable,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '100%',\r\n            height: config && config.filterSize && config.filterSize.height || '100%',\r\n            x: config && config.filterSize && config.filterSize.x || '0%',\r\n            y: config && config.filterSize && config.filterSize.y || '0%',\r\n        }\r\n    };\r\n\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        defs: defs,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n    return new NullElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n    return new SVGTextElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n    return new IImageElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function(animData){\r\n    this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n    if(this.renderConfig.viewBoxSize) {\r\n        this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);\r\n    } else {\r\n        this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);\r\n    }\r\n\r\n    if(!this.renderConfig.viewBoxOnly) {\r\n        this.svgElement.setAttribute('width',animData.w);\r\n        this.svgElement.setAttribute('height',animData.h);\r\n        this.svgElement.style.width = '100%';\r\n        this.svgElement.style.height = '100%';\r\n        this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    if (this.renderConfig.className) {\r\n        this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n        this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n    if (this.renderConfig.focusable !== undefined) {\r\n        this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n    this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);\r\n    //this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n    this.animationItem.wrapper.appendChild(this.svgElement);\r\n    //Mask animation\r\n    var defs = this.globalData.defs;\r\n\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n\r\n    var maskElement = createNS( 'clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width',animData.w);\r\n    rect.setAttribute('height',animData.h);\r\n    rect.setAttribute('x',0);\r\n    rect.setAttribute('y',0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\"+maskId+\")\");\r\n\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerText = '';\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem  = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n\r\n    elements[pos] = element;\r\n    if(expressionsPlugin){\r\n        if(this.layers[pos].ty === 0){\r\n            this.globalData.projectInterface.registerComposition(element);\r\n        }\r\n        element.initExpressions();\r\n    }\r\n    this.appendElementInPos(element,pos);\r\n    if(this.layers[pos].tt){\r\n        if(!this.elements[pos - 1] || this.elements[pos - 1] === true){\r\n            this.buildItem(pos - 1);\r\n            this.addPendingElement(element);\r\n        } else {\r\n            element.setMatte(elements[pos - 1].layerId);\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n        if(element.data.tt){\r\n            var i = 0, len = this.elements.length;\r\n            while(i<len){\r\n                if(this.elements[i] === element){\r\n                    element.setMatte(this.elements[i - 1].layerId);\r\n                    break;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function(num){\r\n    if(this.renderedFrame === num || this.destroyed){\r\n        return;\r\n    }\r\n    if(num === null){\r\n        num = this.renderedFrame;\r\n    }else{\r\n        this.renderedFrame = num;\r\n    }\r\n    // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newElement = element.getBaseElement();\r\n    if(!newElement){\r\n        return;\r\n    }\r\n    var i = 0;\r\n    var nextElement;\r\n    while(i<pos){\r\n        if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement()){\r\n            nextElement = this.elements[i].getBaseElement();\r\n        }\r\n        i += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(newElement);\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function(){\r\n    this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function(){\r\n    this.layerElement.style.display = 'block';\r\n};\r\n\r\nfunction CanvasRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n        context: (config && config.context) || null,\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n    };\r\n    this.renderConfig.dpr = (config && config.dpr) || 1;\r\n    if (this.animationItem.wrapper) {\r\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n    }\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n        frameNum: -1,\r\n        _mdf: false,\r\n        renderConfig: this.renderConfig,\r\n        currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer],CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function(props){\r\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\r\n        return;\r\n    }\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\r\n        return;\r\n    }\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);\r\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function(op){\r\n    /*if(op === 1){\r\n        return;\r\n    }*/\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n        return;\r\n    }\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n    if(this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n        this.canvasContext.globalAlpha = this.contextData.cO;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function(){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.save();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.save();\r\n    }\r\n    var props = this.contextData.cTr.props;\r\n    if(this.contextData._length <= this.contextData.cArrPos) {\r\n        this.contextData.duplicate();\r\n    }\r\n    var i, arr = this.contextData.saved[this.contextData.cArrPos];\r\n    for (i = 0; i < 16; i += 1) {\r\n        arr[i] = props[i];\r\n    }\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.restore();\r\n        this.globalData.blendMode = 'source-over';\r\n    }\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i,arr = this.contextData.cTr.props;\r\n    for(i=0;i<16;i+=1){\r\n        arr[i] = popped[i];\r\n    }\r\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n    if(this.globalData.currentGlobalAlpha !== popped) {\r\n        this.canvasContext.globalAlpha = popped;\r\n        this.globalData.currentGlobalAlpha = popped;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function(animData){\r\n    if(this.animationItem.wrapper){\r\n        this.animationItem.container = createTag('canvas');\r\n        this.animationItem.container.style.width = '100%';\r\n        this.animationItem.container.style.height = '100%';\r\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\r\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\r\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\r\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n        this.canvasContext = this.animationItem.container.getContext('2d');\r\n        if(this.renderConfig.className) {\r\n            this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n        }\r\n        if(this.renderConfig.id) {\r\n            this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n        }\r\n    }else{\r\n        this.canvasContext = this.renderConfig.context;\r\n    }\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n        w: animData.w,\r\n        h:animData.h,\r\n        sx:0,\r\n        sy:0,\r\n        tx:0,\r\n        ty:0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n\r\n    this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n    this.reset();\r\n    var elementWidth,elementHeight;\r\n    if(this.animationItem.wrapper && this.animationItem.container){\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\r\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\r\n    }else{\r\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n    }\r\n    var elementRel,animationRel;\r\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\r\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n        var fillType = par[1] || 'meet';\r\n        var pos = par[0] || 'xMidYMid';\r\n        var xPos = pos.substr(0,4);\r\n        var yPos = pos.substr(4);\r\n        elementRel = elementWidth/elementHeight;\r\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\r\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\r\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        }else{\r\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n        }\r\n\r\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\r\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.tx = 0;\r\n        }\r\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\r\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.ty = 0;\r\n        }\r\n\r\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\r\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }else{\r\n        this.transformCanvas.sx = this.renderConfig.dpr;\r\n        this.transformCanvas.sy = this.renderConfig.dpr;\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }\r\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\r\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n\r\n    this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n    if(this.renderConfig.clearCanvas) {\r\n        this.animationItem.wrapper.innerText = '';\r\n    }\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = len - 1; i >= 0; i-=1) {\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function(num, forceRender){\r\n    if((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1){\r\n        return;\r\n    }\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n\r\n     // console.log('--------');\r\n     // console.log('NEW: ',num);\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i++) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        if(this.renderConfig.clearCanvas === true){\r\n            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n        }else{\r\n            this.save();\r\n        }\r\n        for (i = len - 1; i >= 0; i-=1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n        if(this.renderConfig.clearCanvas !== true){\r\n            this.restore();\r\n        }\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    var element = this.createItem(this.layers[pos], this,this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function(){\r\n    this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function(){\r\n    this.animationItem.container.style.display = 'block';\r\n};\r\n\r\nfunction MaskElement(data,element,globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i, len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n\r\n\r\n    var path, properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j, jLen;\r\n    var layerId = createElementID();\r\n    var rect, expansor, feMorph,x;\r\n    var maskType = 'clipPath', maskRef = 'clip-path';\r\n    for (i = 0; i < len; i++) {\r\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x){\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n        }\r\n\r\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0){\r\n            rect = createNS( 'rect');\r\n            rect.setAttribute('fill', '#ffffff');\r\n            rect.setAttribute('width', this.element.comp.data.w || 0);\r\n            rect.setAttribute('height', this.element.comp.data.h || 0);\r\n            currentMasks.push(rect);\r\n        } else {\r\n            rect = null;\r\n        }\r\n\r\n        path = createNS( 'path');\r\n        if(properties[i].mode == 'n') {\r\n            // TODO move this to a factory or to a constructor\r\n            this.viewData[i] = {\r\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n                elem: path,\r\n                lastPath: ''\r\n            };\r\n            defs.appendChild(path);\r\n            continue;\r\n        }\r\n        count += 1;\r\n\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        path.setAttribute('clip-rule','nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);\r\n            filterID = createElementID();\r\n            expansor = createNS('filter');\r\n            expansor.setAttribute('id',filterID);\r\n            feMorph = createNS('feMorphology');\r\n            feMorph.setAttribute('operator','erode');\r\n            feMorph.setAttribute('in','SourceGraphic');\r\n            feMorph.setAttribute('radius','0');\r\n            expansor.appendChild(feMorph);\r\n            defs.appendChild(expansor);\r\n            path.setAttribute('stroke', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        } else {\r\n            feMorph = null;\r\n            x = null;\r\n        }\r\n\r\n        // TODO move this to a factory or to a constructor\r\n        this.storedData[i] = {\r\n             elem: path,\r\n             x: x,\r\n             expan: feMorph,\r\n            lastPath: '',\r\n            lastOperator:'',\r\n            filterId:filterID,\r\n            lastRadius:0\r\n        };\r\n        if(properties[i].mode == 'i'){\r\n            jLen = currentMasks.length;\r\n            var g = createNS('g');\r\n            for(j=0;j<jLen;j+=1){\r\n                g.appendChild(currentMasks[j]);\r\n            }\r\n            var mask = createNS('mask');\r\n            mask.setAttribute('mask-type','alpha');\r\n            mask.setAttribute('id',layerId+'_'+count);\r\n            mask.appendChild(path);\r\n            defs.appendChild(mask);\r\n            g.setAttribute('mask','url(' + locationHref + '#'+layerId+'_'+count+')');\r\n\r\n            currentMasks.length = 0;\r\n            currentMasks.push(g);\r\n        }else{\r\n            currentMasks.push(path);\r\n        }\r\n        if(properties[i].inv && !this.solidPath){\r\n            this.solidPath = this.createLayerSolidPath();\r\n        }\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n            elem: path,\r\n            lastPath: '',\r\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n            invRect: rect\r\n        };\r\n        if(!this.viewData[i].prop.k){\r\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n    }\r\n\r\n    this.maskElement = createNS( maskType);\r\n\r\n    len = currentMasks.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if(count > 0){\r\n        this.maskElement.setAttribute('id', layerId);\r\n        this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\r\n        defs.appendChild(this.maskElement);\r\n    }\r\n    if (this.viewData.length) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function(pos){\r\n    return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i, len = this.masksProperties.length;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.viewData[i].prop._mdf || isFirstFrame){\r\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n        if(this.viewData[i].op._mdf || isFirstFrame){\r\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\r\n        }\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)){\r\n                this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS())\r\n            }\r\n            if(this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)){\r\n                var feMorph = this.storedData[i].expan;\r\n                if(this.storedData[i].x.v < 0){\r\n                    if(this.storedData[i].lastOperator !== 'erode'){\r\n                        this.storedData[i].lastOperator = 'erode';\r\n                        this.storedData[i].elem.setAttribute('filter','url(' + locationHref + '#'+this.storedData[i].filterId+')');\r\n                    }\r\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\r\n                }else{\r\n                    if(this.storedData[i].lastOperator !== 'dilate'){\r\n                        this.storedData[i].lastOperator = 'dilate';\r\n                        this.storedData[i].elem.setAttribute('filter',null);\r\n                    }\r\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function(){\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w ;\r\n    path += ' v' + this.globalData.compSize.h ;\r\n    path += ' h-' + this.globalData.compSize.w ;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\r\n    var pathString = \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    var i, len;\r\n    len = pathNodes._length;\r\n    for(i=1;i<len;i+=1){\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    }\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    if(pathNodes.c && len > 1){\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    }\r\n    //pathNodes.__renderedString = pathString;\r\n\r\n    if(viewData.lastPath !== pathString){\r\n        var pathShapeValue = '';\r\n        if(viewData.elem){\r\n            if(pathNodes.c){\r\n                pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n            }\r\n            viewData.elem.setAttribute('d',pathShapeValue);\r\n        }\r\n        viewData.lastPath = pathString;\r\n    }\r\n};\r\n\r\nMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file \r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement(){}\r\n\r\nHierarchyElement.prototype = {\r\n\t/**\r\n     * @function \r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n\tinitHierarchy: function() {\r\n\t\t//element's parent list\r\n\t    this.hierarchy = [];\r\n\t    //if element is parent of another layer _isParent will be true\r\n\t    this._isParent = false;\r\n\t    this.checkParenting();\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */ \r\n\tsetHierarchy: function(hierarchy){\r\n\t    this.hierarchy = hierarchy;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer as parent.\r\n     *\r\n     */ \r\n\tsetAsParent: function() {\r\n\t    this._isParent = true;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Searches layer's parenting chain\r\n     *\r\n     */ \r\n\tcheckParenting: function(){\r\n\t    if (this.data.parent !== undefined){\r\n\t        this.comp.buildElementParenting(this, this.data.parent, []);\r\n\t    }\r\n\t}\r\n};\r\n/**\r\n * @file \r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement(){}\r\n\r\nFrameElement.prototype = {\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n    initFrame: function(){\r\n        //set to true when inpoint is rendered\r\n        this._isFirstFrame = false;\r\n        //list of animated properties\r\n        this.dynamicProperties = [];\r\n        // If layer has been modified in current tick this will be true\r\n        this._mdf = false;\r\n    },\r\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\r\n    prepareProperties: function(num, isVisible) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for (i = 0;i < len; i += 1) {\r\n            if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n                this.dynamicProperties[i].getValue();\r\n                if (this.dynamicProperties[i]._mdf) {\r\n                    this.globalData._mdf = true;\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    addDynamicProperty: function(prop) {\r\n        if(this.dynamicProperties.indexOf(prop) === -1) {\r\n            this.dynamicProperties.push(prop);\r\n        }\r\n    }\r\n};\r\nfunction TransformElement(){}\r\n\r\nTransformElement.prototype = {\r\n    initTransform: function() {\r\n        this.finalTransform = {\r\n            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {o:0},\r\n            _matMdf: false,\r\n            _opMdf: false,\r\n            mat: new Matrix()\r\n        };\r\n        if (this.data.ao) {\r\n            this.finalTransform.mProp.autoOriented = true;\r\n        }\r\n\r\n        //TODO: check TYPE 11: Guided elements\r\n        if (this.data.ty !== 11) {\r\n            //this.createElements();\r\n        }\r\n    },\r\n    renderTransform: function() {\r\n\r\n        this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n        this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n        if (this.hierarchy) {\r\n            var mat;\r\n            var finalMat = this.finalTransform.mat;\r\n            var i = 0, len = this.hierarchy.length;\r\n            //Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n            if (!this.finalTransform._matMdf) {\r\n                while (i < len) {\r\n                    if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n                        this.finalTransform._matMdf = true;\r\n                        break;\r\n                    }\r\n                    i += 1;\r\n                }\r\n            }\r\n            \r\n            if (this.finalTransform._matMdf) {\r\n                mat = this.finalTransform.mProp.v.props;\r\n                finalMat.cloneFromProps(mat);\r\n                for (i = 0; i < len; i += 1) {\r\n                    mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n                    finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    globalToLocal: function(pt) {\r\n        var transforms = [];\r\n        transforms.push(this.finalTransform);\r\n        var flag = true;\r\n        var comp = this.comp;\r\n        while (flag) {\r\n            if (comp.finalTransform) {\r\n                if (comp.data.hasMask) {\r\n                    transforms.splice(0, 0, comp.finalTransform);\r\n                }\r\n                comp = comp.comp;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        var i, len = transforms.length,ptNew;\r\n        for (i = 0; i < len; i += 1) {\r\n            ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n            //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n            pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n        }\r\n        return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nfunction RenderableElement(){\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n    initRenderable: function() {\r\n        //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n        this.isInRange = false;\r\n        //layer's display state\r\n        this.hidden = false;\r\n        // If layer's transparency equals 0, it can be hidden\r\n        this.isTransparent = false;\r\n        //list of animated components\r\n        this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) === -1) {\r\n            this.renderableComponents.push(component);\r\n        }\r\n    },\r\n    removeRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) !== -1) {\r\n            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n        }\r\n    },\r\n    prepareRenderableFrame: function(num) {\r\n        this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function(){\r\n        if(this.finalTransform.mProp.o.v <= 0) {\r\n            if(!this.isTransparent && this.globalData.renderConfig.hideOnTransparent){\r\n                this.isTransparent = true;\r\n                this.hide();\r\n            }\r\n        } else if(this.isTransparent) {\r\n            this.isTransparent = false;\r\n            this.show();\r\n        }\r\n    },\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\r\n    checkLayerLimits: function(num) {\r\n        if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\r\n        {\r\n            if(this.isInRange !== true){\r\n                this.globalData._mdf = true;\r\n                this._mdf = true;\r\n                this.isInRange = true;\r\n                this.show();\r\n            }\r\n        } else {\r\n            if(this.isInRange !== false){\r\n                this.globalData._mdf = true;\r\n                this.isInRange = false;\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n    renderRenderable: function() {\r\n        var i, len = this.renderableComponents.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n        }\r\n        /*this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame);*/\r\n    },\r\n    sourceRectAtTime: function(){\r\n        return {\r\n            top:0,\r\n            left:0,\r\n            width:100,\r\n            height:100\r\n        };\r\n    },\r\n    getLayerSize: function(){\r\n        if(this.data.ty === 5){\r\n            return {w:this.data.textData.width,h:this.data.textData.height};\r\n        }else{\r\n            return {w:this.data.width,h:this.data.height};\r\n        }\r\n    }\r\n};\r\nfunction RenderableDOMElement() {}\r\n\r\n(function(){\r\n    var _prototype = {\r\n        initElement: function(data,globalData,comp) {\r\n            this.initFrame();\r\n            this.initBaseData(data, globalData, comp);\r\n            this.initTransform(data, globalData, comp);\r\n            this.initHierarchy();\r\n            this.initRenderable();\r\n            this.initRendererElement();\r\n            this.createContainerElements();\r\n            this.createRenderableComponents();\r\n            this.createContent();\r\n            this.hide();\r\n        },\r\n        hide: function(){\r\n            if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n                var elem = this.baseElement || this.layerElement;\r\n                elem.style.display = 'none';\r\n                this.hidden = true;\r\n            }\r\n        },\r\n        show: function(){\r\n            if (this.isInRange && !this.isTransparent){\r\n                if (!this.data.hd) {\r\n                    var elem = this.baseElement || this.layerElement;\r\n                    elem.style.display = 'block';\r\n                }\r\n                this.hidden = false;\r\n                this._isFirstFrame = true;\r\n            }\r\n        },\r\n        renderFrame: function() {\r\n            //If it is exported as hidden (data.hd === true) no need to render\r\n            //If it is not visible no need to render\r\n            if (this.data.hd || this.hidden) {\r\n                return;\r\n            }\r\n            this.renderTransform();\r\n            this.renderRenderable();\r\n            this.renderElement();\r\n            this.renderInnerContent();\r\n            if (this._isFirstFrame) {\r\n                this._isFirstFrame = false;\r\n            }\r\n        },\r\n        renderInnerContent: function() {},\r\n        prepareFrame: function(num) {\r\n            this._mdf = false;\r\n            this.prepareRenderableFrame(num);\r\n            this.prepareProperties(num, this.isInRange);\r\n            this.checkTransparency();\r\n        },\r\n        destroy: function(){\r\n            this.innerElem =  null;\r\n            this.destroyBaseElement();\r\n        }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\nfunction ProcessedElement(element, position) {\r\n\tthis.elem = element;\r\n\tthis.pos = position;\r\n}\r\nfunction SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level;\r\n    //TODO find if there are some cases where _isAnimated can be false. \r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n    this._isAnimated = !!shape.k;\r\n    // TODO: commenting this for now since all shapes are animated\r\n    var i = 0, len = transformers.length;\r\n    while(i < len) {\r\n    \tif(transformers[i].mProps.dynamicProperties.length) {\r\n    \t\tthis._isAnimated = true;\r\n    \t\tbreak;\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function() {\r\n    this._isAnimated = true;\r\n}\r\nfunction ShapeGroupData() {\r\n\tthis.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n}\r\nfunction ShapeTransformManager() {\r\n\tthis.sequences = {};\r\n\tthis.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n\taddTransformSequence: function(transforms) {\r\n\t\tvar i, len = transforms.length;\r\n\t\tvar key = '_';\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tkey += transforms[i].transform.key + '_';\r\n\t\t}\r\n\t\tvar sequence = this.sequences[key];\r\n\t\tif(!sequence) {\r\n\t\t\tsequence = {\r\n\t\t\t\ttransforms: [].concat(transforms),\r\n\t\t\t\tfinalTransform: new Matrix(),\r\n\t\t\t\t_mdf: false\r\n\t\t\t};\r\n\t\t\tthis.sequences[key] = sequence;\r\n\t\t\tthis.sequenceList.push(sequence);\r\n\t\t}\r\n\t\treturn sequence;\r\n\t},\r\n\tprocessSequence: function(sequence, isFirstFrame) {\r\n\t\tvar i = 0, len = sequence.transforms.length, _mdf = isFirstFrame;\r\n\t\twhile (i < len && !isFirstFrame) {\r\n\t\t\tif (sequence.transforms[i].transform.mProps._mdf) {\r\n\t\t\t\t_mdf = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ti += 1\r\n\t\t}\r\n\t\tif (_mdf) {\r\n\t\t\tvar props;\r\n\t\t\tsequence.finalTransform.reset();\r\n\t\t\tfor (i = len - 1; i >= 0; i -= 1) {\r\n\t\t        props = sequence.transforms[i].transform.mProps.v.props;\r\n\t\t        sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsequence._mdf = _mdf;\r\n\t\t\r\n\t},\r\n\tprocessSequences: function(isFirstFrame) {\r\n\t\tvar i, len = this.sequenceList.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tthis.processSequence(this.sequenceList[i], isFirstFrame);\r\n\t\t}\r\n\r\n\t},\r\n\tgetNewKey: function() {\r\n\t\treturn '_' + this.transform_key_count++;\r\n\t}\r\n}\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0,0,0,0,0,0];\r\n    var ty = 4;\r\n    if(data.ty == 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty == 'el'){\r\n        ty = 6;\r\n    }else if(data.ty == 'sr'){\r\n        ty = 7;\r\n    }\r\n    this.sh = ShapePropertyFactory.getShapeProp(element,data,ty,element);\r\n    var i , len = styles.length,styledShape;\r\n    for (i = 0; i < len; i += 1) {\r\n        if (!styles[i].closed) {\r\n            styledShape = {\r\n                transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n                trNodes: []\r\n            }\r\n            this.styledShapes.push(styledShape);\r\n            styles[i].elements.push(styledShape);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\nfunction BaseElement(){\r\n}\r\n\r\nBaseElement.prototype = {\r\n    checkMasks: function(){\r\n        if(!this.data.hasMask){\r\n            return false;\r\n        }\r\n        var i = 0, len = this.data.masksProperties.length;\r\n        while(i<len) {\r\n            if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n                return true;\r\n            }\r\n            i += 1;\r\n        }\r\n        return false;\r\n    },\r\n    initExpressions: function(){\r\n        this.layerInterface = LayerExpressionInterface(this);\r\n        if(this.data.hasMask && this.maskManager) {\r\n            this.layerInterface.registerMaskInterface(this.maskManager);\r\n        }\r\n        var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\r\n        this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n        if(this.data.ty === 0 || this.data.xt){\r\n            this.compInterface = CompExpressionInterface(this);\r\n        } else if(this.data.ty === 4){\r\n            this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);\r\n            this.layerInterface.content = this.layerInterface.shapeInterface;\r\n        } else if(this.data.ty === 5){\r\n            this.layerInterface.textInterface = TextExpressionInterface(this);\r\n            this.layerInterface.text = this.layerInterface.textInterface;\r\n        }\r\n    },\r\n    setBlendMode: function(){\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        var elem = this.baseElement || this.layerElement;\r\n\r\n        elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function(data, globalData, comp){\r\n        this.globalData = globalData;\r\n        this.comp = comp;\r\n        this.data = data;\r\n        this.layerId = createElementID();\r\n        \r\n        //Stretch factor for old animations missing this property.\r\n        if(!this.data.sr){\r\n            this.data.sr = 1;\r\n        }\r\n        // effects manager\r\n        this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties);\r\n        \r\n    },\r\n    getType: function(){\r\n        return this.type;\r\n    }\r\n    ,sourceRectAtTime: function(){}\r\n}\r\nfunction NullElement(data,globalData,comp){\r\n    this.initFrame();\r\n\tthis.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function() {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nNullElement.prototype.destroy = function() {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nNullElement.prototype.hide = function() {\r\n};\r\n\r\nextendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement], NullElement);\r\n\r\nfunction SVGBaseElement(){\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n    initRendererElement: function() {\r\n        this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function(){\r\n        this.matteElement = createNS('g');\r\n        this.transformedElement = this.layerElement;\r\n        this.maskedElement = this.layerElement;\r\n        this._sizeChanged = false;\r\n        var layerElementParent = null;\r\n        //If this layer acts as a mask for the following layer\r\n        var filId, fil, gg;\r\n        if (this.data.td) {\r\n            if (this.data.td == 3 || this.data.td == 1) {\r\n                var masker = createNS('mask');\r\n                masker.setAttribute('id', this.layerId);\r\n                masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\r\n                masker.appendChild(this.layerElement);\r\n                layerElementParent = masker;\r\n                this.globalData.defs.appendChild(masker);\r\n                // This is only for IE and Edge when mask if of type alpha\r\n                if (!featureSupport.maskType && this.data.td == 1) {\r\n                    masker.setAttribute('mask-type', 'luminance');\r\n                    filId = createElementID();\r\n                    fil = filtersFactory.createFilter(filId);\r\n                    this.globalData.defs.appendChild(fil);\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    masker.appendChild(gg);\r\n                    gg.setAttribute('filter','url(' + locationHref + '#' + filId + ')');\r\n                }\r\n            } else if(this.data.td == 2) {\r\n                var maskGroup = createNS('mask');\r\n                maskGroup.setAttribute('id', this.layerId);\r\n                maskGroup.setAttribute('mask-type','alpha');\r\n                var maskGrouper = createNS('g');\r\n                maskGroup.appendChild(maskGrouper);\r\n                filId = createElementID();\r\n                fil = filtersFactory.createFilter(filId);\r\n                ////\r\n\r\n                // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n                /*var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix);*/\r\n                ////\r\n                var feCTr = createNS('feComponentTransfer');\r\n                feCTr.setAttribute('in','SourceGraphic');\r\n                fil.appendChild(feCTr);\r\n                var feFunc = createNS('feFuncA');\r\n                feFunc.setAttribute('type','table');\r\n                feFunc.setAttribute('tableValues','1.0 0.0');\r\n                feCTr.appendChild(feFunc);\r\n                ////\r\n                this.globalData.defs.appendChild(fil);\r\n                var alphaRect = createNS('rect');\r\n                alphaRect.setAttribute('width',  this.comp.data.w);\r\n                alphaRect.setAttribute('height', this.comp.data.h);\r\n                alphaRect.setAttribute('x','0');\r\n                alphaRect.setAttribute('y','0');\r\n                alphaRect.setAttribute('fill','#ffffff');\r\n                alphaRect.setAttribute('opacity','0');\r\n                maskGrouper.setAttribute('filter', 'url(' + locationHref + '#'+filId+')');\r\n                maskGrouper.appendChild(alphaRect);\r\n                maskGrouper.appendChild(this.layerElement);\r\n                layerElementParent = maskGrouper;\r\n                if (!featureSupport.maskType) {\r\n                    maskGroup.setAttribute('mask-type', 'luminance');\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    maskGrouper.appendChild(alphaRect);\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    maskGrouper.appendChild(gg);\r\n                }\r\n                this.globalData.defs.appendChild(maskGroup);\r\n            }\r\n        } else if (this.data.tt) {\r\n            this.matteElement.appendChild(this.layerElement);\r\n            layerElementParent = this.matteElement;\r\n            this.baseElement = this.matteElement;\r\n        } else {\r\n            this.baseElement = this.layerElement;\r\n        }\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id', this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n        if (this.data.ty === 0 && !this.data.hd) {\r\n            var cp = createNS( 'clipPath');\r\n            var pt = createNS('path');\r\n            pt.setAttribute('d','M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n            var clipId = createElementID();\r\n            cp.setAttribute('id',clipId);\r\n            cp.appendChild(pt);\r\n            this.globalData.defs.appendChild(cp);\r\n\r\n            if (this.checkMasks()) {\r\n                var cpGroup = createNS('g');\r\n                cpGroup.setAttribute('clip-path','url(' + locationHref + '#'+clipId + ')');\r\n                cpGroup.appendChild(this.layerElement);\r\n                this.transformedElement = cpGroup;\r\n                if (layerElementParent) {\r\n                    layerElementParent.appendChild(this.transformedElement);\r\n                } else {\r\n                    this.baseElement = this.transformedElement;\r\n                }\r\n            } else {\r\n                this.layerElement.setAttribute('clip-path','url(' + locationHref + '#'+clipId+')');\r\n            }\r\n            \r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n\r\n    },\r\n    renderElement: function() {\r\n        if (this.finalTransform._matMdf) {\r\n            this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n        }\r\n        if (this.finalTransform._opMdf) {\r\n            this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n        }\r\n    },\r\n    destroyBaseElement: function() {\r\n        this.layerElement = null;\r\n        this.matteElement = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function() {\r\n        if (this.data.hd) {\r\n            return null;\r\n        }\r\n        return this.baseElement;\r\n    },\r\n    createRenderableComponents: function() {\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n        this.renderableEffectsManager = new SVGEffects(this);\r\n    },\r\n    setMatte: function(id) {\r\n        if (!this.matteElement) {\r\n            return;\r\n        }\r\n        this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\r\n    }\r\n};\r\nfunction IShapeElement(){\r\n}\r\n\r\nIShapeElement.prototype = {\r\n    addShapeToModifiers: function(data) {\r\n        var i, len = this.shapeModifiers.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapeModifiers[i].addShape(data);\r\n        }\r\n    },\r\n    isShapeInAnimatedModifiers: function(data) {\r\n        var i = 0, len = this.shapeModifiers.length;\r\n        while(i < len) {\r\n            if(this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    renderModifiers: function() {\r\n        if(!this.shapeModifiers.length){\r\n            return;\r\n        }\r\n        var i, len = this.shapes.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapes[i].sh.reset();\r\n        }\r\n\r\n        len = this.shapeModifiers.length;\r\n        for(i=len-1;i>=0;i-=1){\r\n            this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n        }\r\n    },\r\n    lcEnum: {\r\n        '1': 'butt',\r\n        '2': 'round',\r\n        '3': 'square'\r\n    },\r\n    ljEnum: {\r\n        '1': 'miter',\r\n        '2': 'round',\r\n        '3': 'bevel'\r\n    },\r\n    searchProcessedElement: function(elem){\r\n        var elements = this.processedElements;\r\n        var i = 0, len = elements.length;\r\n        while (i < len) {\r\n            if (elements[i].elem === elem) {\r\n                return elements[i].pos;\r\n            }\r\n            i += 1;\r\n        }\r\n        return 0;\r\n    },\r\n    addProcessedElement: function(elem, pos){\r\n        var elements = this.processedElements;\r\n        var i = elements.length;\r\n        while(i) {\r\n            i -= 1;\r\n            if (elements[i].elem === elem) {\r\n                elements[i].pos = pos;\r\n                return;\r\n            }\r\n        }\r\n        elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function(num) {\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n    }\r\n};\r\nfunction ITextElement(){\r\n}\r\n\r\nITextElement.prototype.initElement = function(data,globalData,comp){\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function(num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n        this.buildNewText();\r\n        this.textProperty._isFirstFrame = false;\r\n        this.textProperty._mdf = false;\r\n    }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\r\n    var j,jLen = shapes.length;\r\n    var k, kLen, pathNodes;\r\n    var shapeStr = '';\r\n    for(j=0;j<jLen;j+=1){\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n    }\r\n    return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function(newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function(_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function(_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if(documentData.ps){\r\n        matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n    }\r\n    matrixHelper.translate(0,-documentData.ls,0);\r\n    switch(documentData.j){\r\n        case 1:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]),0,0);\r\n            break;\r\n        case 2:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber] )/2,0,0);\r\n            break;\r\n    }\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\n\r\nITextElement.prototype.buildColor = function(colorData) {\r\n    return 'rgb(' + Math.round(colorData[0]*255) + ',' + Math.round(colorData[1]*255) + ',' + Math.round(colorData[2]*255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function(){\r\n    \r\n};\r\nfunction ICompElement(){}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function(data,globalData,comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    if(this.data.xt || !globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n    this.hide();\r\n};\r\n\r\n/*ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n};*/\r\n\r\nICompElement.prototype.prepareFrame = function(num){\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(!this.isInRange && !this.data.xt){\r\n        return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        if(timeRemapped === this.data.op){\r\n            timeRemapped = this.data.op - 1;\r\n        }\r\n        this.renderedFrame = timeRemapped;\r\n    } else {\r\n        this.renderedFrame = num/this.data.sr;\r\n    }\r\n    var i,len = this.elements.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(this.renderedFrame);\r\n    }\r\n    //This iteration needs to be backwards because of how expressions connect between each other\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n            if(this.elements[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i += 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.setElements = function(elems){\r\n    this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function(){\r\n    return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.destroy = function(){\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n};\r\n\r\nfunction IImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n    this.sourceRect = {top:0,left:0,width:this.assetData.w,height:this.assetData.h};\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function(){\r\n\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\r\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\r\n    this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n    \r\n    this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function() {\r\n\treturn this.sourceRect;\r\n}\r\nfunction ISolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function(){\r\n\r\n    var rect = createNS('rect');\r\n    ////rect.style.width = this.data.sw;\r\n    ////rect.style.height = this.data.sh;\r\n    ////rect.style.fill = this.data.sc;\r\n    rect.setAttribute('width',this.data.sw);\r\n    rect.setAttribute('height',this.data.sh);\r\n    rect.setAttribute('fill',this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n};\r\nfunction AudioElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n\tthis.initBaseData(data, globalData, comp);\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n\tvar assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.audio = this.globalData.audioController.createAudio(assetPath);\r\n    this._currentTime = 0;\r\n    this.globalData.audioController.addAudio(this);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function(num) {\r\n    this.prepareRenderableFrame(num, true);\r\n    this.prepareProperties(num, true);\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        this._currentTime = timeRemapped;\r\n    } else {\r\n        this._currentTime = num / this.data.sr;\r\n    }\r\n};\r\n\r\nextendPrototype([RenderableElement,BaseElement,FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function() {\r\n\tif (this.isInRange && this._canPlay) {\r\n\t\tif (!this._isPlaying) {\r\n\t\t\tthis.audio.play();\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate);\r\n\t\t\tthis._isPlaying = true;\r\n\t\t} else if (!this.audio.playing()\r\n\t\t\t|| Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n\t\t) {\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate)\r\n\t\t}\r\n\t}\r\n};\r\n\r\nAudioElement.prototype.show = function() {\r\n\t// this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function() {\r\n\tthis._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function(rateValue) {\r\n\tthis.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function(volumeValue) {\r\n\tthis.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function() {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function() {\r\n};\r\n\r\n\r\nfunction SVGShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function() {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function(){};\r\n\r\nSVGShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function(){\r\n    var i, len = this.shapes.length, shape;\r\n    var j, jLen = this.stylesList.length;\r\n    var style, count = 0;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n    for(j = 0; j < jLen; j += 1) {\r\n        style = this.stylesList[j];\r\n        areAnimated = false;\r\n        tempShapes.length = 0;\r\n        for(i = 0; i < len; i += 1) {\r\n            shape = this.shapes[i];\r\n            if(shape.styles.indexOf(style) !== -1) {\r\n                tempShapes.push(shape);\r\n                areAnimated = shape._isAnimated || areAnimated;\r\n            }\r\n        }\r\n        if(tempShapes.length > 1 && areAnimated) {\r\n            this.setShapesAsAnimated(tempShapes);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function(shapes){\r\n    var i, len = shapes.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        shapes[i].setAsAnimated();\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.createStyleElement = function(data, level){\r\n    //TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n\r\n    var pathElement = styleOb.pElem;\r\n    if(data.ty === 'st') {\r\n        elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'fl') {\r\n        elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'gf' || data.ty === 'gs') {\r\n        var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n        elementData = new gradientConstructor(this, data, styleOb);\r\n        this.globalData.defs.appendChild(elementData.gf);\r\n        if (elementData.maskId) {\r\n            this.globalData.defs.appendChild(elementData.ms);\r\n            this.globalData.defs.appendChild(elementData.of);\r\n            pathElement.setAttribute('mask','url(' + locationHref + '#' + elementData.maskId + ')');\r\n        }\r\n    }\r\n    \r\n    if(data.ty === 'st' || data.ty === 'gs') {\r\n        pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n        pathElement.setAttribute('stroke-linejoin',this.ljEnum[data.lj] || 'round');\r\n        pathElement.setAttribute('fill-opacity','0');\r\n        if(data.lj === 1) {\r\n            pathElement.setAttribute('stroke-miterlimit',data.ml);\r\n        }\r\n    }\r\n\r\n    if(data.r === 2) {\r\n        pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if(data.ln){\r\n        pathElement.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        pathElement.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = new ShapeGroupData();\r\n    if(data.ln){\r\n        elementData.gr.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        elementData.gr.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function(data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this,data,this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function(data, ownTransformers, level) {\r\n    var ty = 4;\r\n    if(data.ty === 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty === 'el'){\r\n        ty = 6;\r\n    }else if(data.ty === 'sr'){\r\n        ty = 7;\r\n    }\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this,data,ty,this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function(data, element) {\r\n    var i = 0, len = this.animatedContents.length;\r\n    while(i < len) {\r\n        if(this.animatedContents[i].element === element) {\r\n            return;\r\n        }\r\n        i += 1;\r\n    }\r\n    this.animatedContents.push({\r\n        fn: SVGElementsRenderer.createRenderFunction(data),\r\n        element: element,\r\n        data: data\r\n    });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function(elementData){\r\n    var arr = elementData.styles;\r\n    var j, jLen = this.stylesList.length;\r\n    for (j = 0; j < jLen; j += 1) {\r\n        if (!this.stylesList[j].closed) {\r\n            arr.push(this.stylesList[j]);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for( i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function(arr,itemsData,prevViewData,container, level, transformers, render){\r\n    var ownTransformers = [].concat(transformers);\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], styleOb, currentTransform, modifier, processedPos;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], level);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].style.pElem);\r\n            }\r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr, level + 1, ownTransformers, render);\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].gr);\r\n            }\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], container);\r\n            }\r\n            currentTransform = itemsData[i].transform;\r\n            ownTransformers.push(currentTransform);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n            }\r\n            this.setElementStyles(itemsData[i]);\r\n\r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownStyles.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownStyles[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function() {\r\n    this.renderModifiers();\r\n    var i, len = this.stylesList.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.stylesList[i].reset();\r\n    }\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n        if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n            if(this.stylesList[i].msElem){\r\n                this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n                //Adding M0 0 fixes same mask bug on all browsers\r\n                this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n            }\r\n            this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function() {\r\n    var i, len = this.animatedContents.length;\r\n    var animatedContent;\r\n    for(i = 0; i < len; i += 1) {\r\n        animatedContent = this.animatedContents[i];\r\n        if((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.destroy = function(){\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n};\r\n\r\nfunction CVContextData() {\r\n\tthis.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i, len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n    for(i=0;i<len;i+=1){\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function() {\r\n\tvar newLength = this._length * 2;\r\n\tvar currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n    for(i = this._length; i < newLength; i += 1) {\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function() {\r\n\tthis.cArrPos = 0;\r\n\tthis.cTr.reset();\r\n    this.cO = 1;\r\n};\r\nfunction CVBaseElement(){\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n    createElements: function(){},\r\n    initRendererElement: function(){},\r\n    createContainerElements: function(){\r\n        this.canvasContext = this.globalData.canvasContext;\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function(){},\r\n    setBlendMode: function(){\r\n        var globalData = this.globalData;\r\n        if(globalData.blendMode !== this.data.bm) {\r\n            globalData.blendMode = this.data.bm;\r\n            var blendModeValue = getBlendMode(this.data.bm);\r\n            globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new CVMaskElement(this.data, this);\r\n    },\r\n    hideElement: function(){\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n            this.hidden = true;\r\n        }\r\n    },\r\n    showElement: function(){\r\n        if (this.isInRange && !this.isTransparent){\r\n            this.hidden = false;\r\n            this._isFirstFrame = true;\r\n            this.maskManager._isFirstFrame = true;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        if (this.hidden || this.data.hd) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.setBlendMode();\r\n        var forceRealStack = this.data.ty === 0;\r\n        this.globalData.renderer.save(forceRealStack);\r\n        this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n        this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n        this.renderInnerContent();\r\n        this.globalData.renderer.restore(forceRealStack);\r\n        if(this.maskManager.hasMasks) {\r\n            this.globalData.renderer.restore(true);\r\n        }\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.canvasContext = null;\r\n        this.data = null;\r\n        this.globalData = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\nfunction CVImageElement(data, globalData, comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getImage(this.assetData);\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function(){\r\n\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n        var canvas = createTag('canvas');\r\n        canvas.width = this.assetData.w;\r\n        canvas.height = this.assetData.h;\r\n        var ctx = canvas.getContext('2d');\r\n\r\n        var imgW = this.img.width;\r\n        var imgH = this.img.height;\r\n        var imgRel = imgW / imgH;\r\n        var canvasRel = this.assetData.w/this.assetData.h;\r\n        var widthCrop, heightCrop;\r\n        var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n        if((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n            heightCrop = imgH;\r\n            widthCrop = heightCrop*canvasRel;\r\n        } else {\r\n            widthCrop = imgW;\r\n            heightCrop = widthCrop/canvasRel;\r\n        }\r\n        ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);\r\n        this.img = canvas;\r\n    }\r\n\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function(parentMatrix){\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function(){\r\n    this.img = null;\r\n};\r\nfunction CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate, this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.layers = null;\r\n    this.elements = null;\r\n};\r\n\r\nfunction CVMaskElement(data,element){\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i, len = this.masksProperties.length, hasMasks = false;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            hasMasks = true;\r\n        }\r\n        this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);\r\n    }\r\n    this.hasMasks = hasMasks;\r\n    if(hasMasks) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n    if(!this.hasMasks){\r\n        return;\r\n    }\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i, len = this.masksProperties.length;\r\n    var pt,pts,data;\r\n    ctx.beginPath();\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if (this.masksProperties[i].inv) {\r\n                ctx.moveTo(0, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, 0);\r\n            }\r\n            data = this.viewData[i].v;\r\n            pt = transform.applyToPointArray(data.v[0][0],data.v[0][1],0);\r\n            ctx.moveTo(pt[0], pt[1]);\r\n            var j, jLen = data._length;\r\n            for (j = 1; j < jLen; j++) {\r\n                pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n                ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n            }\r\n            pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n    }\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n};\r\nfunction CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = {opacity:1,_opMdf:false};\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function(data, transforms) {\r\n    var styleElem = {\r\n        data: data,\r\n        type: data.ty,\r\n        preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n        transforms: [],\r\n        elements: [],\r\n        closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n    if(data.ty == 'fl' || data.ty == 'st'){\r\n        elementData.c = PropertyFactory.getProp(this,data.c,1,255,this);\r\n        if(!elementData.c.k){\r\n            styleElem.co = 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\r\n        }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n        elementData.s = PropertyFactory.getProp(this,data.s,1,null,this);\r\n        elementData.e = PropertyFactory.getProp(this,data.e,1,null,this);\r\n        elementData.h = PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);\r\n        elementData.a = PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);\r\n        elementData.g = new GradientProperty(this,data.g,this);\r\n    }\r\n    elementData.o = PropertyFactory.getProp(this,data.o,0,0.01,this);\r\n    if(data.ty == 'st' || data.ty == 'gs') {\r\n        styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n        styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n        if(data.lj == 1) {\r\n            styleElem.ml = data.ml;\r\n        }\r\n        elementData.w = PropertyFactory.getProp(this,data.w,0,null,this);\r\n        if(!elementData.w.k){\r\n            styleElem.wi = elementData.w.v;\r\n        }\r\n        if(data.d){\r\n            var d = new DashProperty(this,data.d,'canvas', this);\r\n            elementData.d = d;\r\n            if(!elementData.d.k){\r\n                styleElem.da = elementData.d.dashArray;\r\n                styleElem.do = elementData.d.dashoffset[0];\r\n            }\r\n        }\r\n    } else {\r\n        styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = {\r\n        it: [],\r\n        prevViewData: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function(data) {\r\n    var elementData = {\r\n        transform : {\r\n            opacity: 1,\r\n            _opMdf:false,\r\n            key: this.transformsManager.getNewKey(),\r\n            op: PropertyFactory.getProp(this,data.o,0,0.01,this),\r\n            mProps: TransformPropertyFactory.getTransformProperty(this,data,this)\r\n        }\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function(data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    \r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function() {\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function(transform) {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.push(transform);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function() {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.pop();\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.closeStyles = function(styles) {\r\n    var i, len = styles.length, j, jLen;\r\n    for (i = 0; i < len; i += 1) {\r\n        styles[i].closed = true;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.searchShapes = function(arr,itemsData, prevViewData, shouldRender, transforms){\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], processedPos, modifier, currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._shouldRender = shouldRender;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            \r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                currentTransform = this.createTransformElement(arr[i]);\r\n                itemsData[i] = currentTransform;\r\n            }\r\n            ownTransforms.push(itemsData[i]);\r\n            this.addTransformToStyleList(itemsData[i]);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i]);\r\n            }\r\n            \r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        } else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                shouldRender = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function() {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {\r\n    var props, groupMatrix;\r\n    if(parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n        groupTransform.opacity = parentTransform.opacity;\r\n        groupTransform.opacity *= groupTransform.op.v;\r\n        groupTransform._opMdf = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function() {\r\n    var i, len = this.stylesList.length;\r\n    var j, jLen, k, kLen,elems,nodes, renderer = this.globalData.renderer, ctx = this.globalData.canvasContext, type, currentStyle;\r\n    for(i=0;i<len;i+=1){\r\n        currentStyle = this.stylesList[i];\r\n        type = currentStyle.type;\r\n\r\n        //Skipping style when\r\n        //Stroke width equals 0\r\n        //style should not be rendered (extra unused repeaters)\r\n        //current opacity equals 0\r\n        //global opacity equals 0\r\n        if(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0){\r\n            continue;\r\n        }\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n        if(type === 'st' || type === 'gs'){\r\n            ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n            ctx.lineWidth = currentStyle.wi;\r\n            ctx.lineCap = currentStyle.lc;\r\n            ctx.lineJoin = currentStyle.lj;\r\n            ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n            ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.beginPath();\r\n        }\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n        for(j=0;j<jLen;j+=1){\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.beginPath();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(currentStyle.da);\r\n                    ctx.lineDashOffset = currentStyle.do;\r\n                }\r\n            }\r\n            nodes = elems[j].trNodes;\r\n            kLen = nodes.length;\r\n\r\n            for(k=0;k<kLen;k+=1){\r\n                if(nodes[k].t == 'm'){\r\n                    ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);\r\n                }else if(nodes[k].t == 'c'){\r\n                    ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);\r\n                }else{\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.stroke();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(this.dashResetter);\r\n                }\r\n            }\r\n        }\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.fill(currentStyle.r);\r\n        }\r\n        renderer.restore();\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function(parentTransform,items,data,isMain){\r\n    var i, len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n    for(i=len;i>=0;i-=1){\r\n        if(items[i].ty == 'tr'){\r\n            groupTransform = data[i].transform;\r\n            this.renderShapeTransform(parentTransform, groupTransform);\r\n        }else if(items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr'){\r\n            this.renderPath(items[i],data[i]);\r\n        }else if(items[i].ty == 'fl'){\r\n            this.renderFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'st'){\r\n            this.renderStroke(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gf' || items[i].ty == 'gs'){\r\n            this.renderGradientFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gr'){\r\n            this.renderShape(groupTransform,items[i].it,data[i].it);\r\n        }else if(items[i].ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n    if(isMain){\r\n        this.drawLayer();\r\n    }\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function(styledShape, shape){\r\n    if(this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n        var shapeNodes = styledShape.trNodes;\r\n        var paths = shape.paths;\r\n        var i, len, j, jLen = paths._length;\r\n        shapeNodes.length = 0;\r\n        var groupTransformMat = styledShape.transforms.finalTransform;\r\n        for (j = 0; j < jLen; j += 1) {\r\n            var pathNodes = paths.shapes[j];\r\n            if(pathNodes && pathNodes.v){\r\n                len = pathNodes._length;\r\n                for (i = 1; i < len; i += 1) {\r\n                    if (i === 1) {\r\n                        shapeNodes.push({\r\n                            t: 'm',\r\n                            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                        });\r\n                    }\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n                    });\r\n                }\r\n                if (len === 1) {\r\n                    shapeNodes.push({\r\n                        t: 'm',\r\n                        p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                    });\r\n                }\r\n                if (pathNodes.c && len) {\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n                    });\r\n                    shapeNodes.push({\r\n                        t: 'z'\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        styledShape.trNodes = shapeNodes;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.renderPath = function(pathData,itemData){\r\n    if(pathData.hd !== true && pathData._shouldRender) {\r\n        var i, len = itemData.styledShapes.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n        }\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n        styleElem.co = 'rgb(' \r\n        + bm_floor(itemData.c.v[0]) + ',' \r\n        + bm_floor(itemData.c.v[1]) + ',' \r\n        + bm_floor(itemData.c.v[2]) + ')';\r\n    }\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n        styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    if(!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n        var ctx = this.globalData.canvasContext;\r\n        var grd;\r\n        var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n        if (styleData.t === 1) {\r\n            grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n        } else {\r\n            var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n            var dist = rad * percent;\r\n            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n            var grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n        }\r\n\r\n        var i, len = styleData.g.p;\r\n        var cValues = itemData.g.c;\r\n        var opacity = 1;\r\n\r\n        for (i = 0; i < len; i += 1){\r\n            if(itemData.g._hasOpacity && itemData.g._collapsable) {\r\n                opacity = itemData.g.o[i*2 + 1];\r\n            }\r\n            grd.addColorStop(cValues[i * 4] / 100,'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\r\n        }\r\n        styleElem.grd = grd;\r\n    }\r\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if(d && (d._mdf  || this._isFirstFrame)){\r\n        styleElem.da = d.dashArray;\r\n        styleElem.do = d.dashoffset[0];\r\n    }\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.wi = itemData.w.v;\r\n    }\r\n};\r\n\r\n\r\nCVShapeElement.prototype.destroy = function(){\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n};\r\n\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n};\r\nfunction CVTextElement(data, globalData, comp){\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n        fill: 'rgba(0,0,0,0)',\r\n        stroke: 'rgba(0,0,0,0)',\r\n        sWidth: 0,\r\n        fValue: ''\r\n    };\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n    var hasFill = false;\r\n    if(documentData.fc) {\r\n        hasFill = true;\r\n        this.values.fill = this.buildColor(documentData.fc);\r\n    }else{\r\n        this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n    if(documentData.sc){\r\n        hasStroke = true;\r\n        this.values.stroke = this.buildColor(documentData.sc);\r\n        this.values.sWidth = documentData.sw;\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i, len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px '+ this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length;\r\n    //this.tHelper.font = this.values.fValue;\r\n    var charData, shapeData, k, kLen, shapes, j, jLen, pathNodes, commands, pathArr, singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var cnt = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = charData && charData.data || {};\r\n        matrixHelper.reset();\r\n        if(singleShape && letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n        }\r\n\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        jLen = shapes.length;\r\n        matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n        if(singleShape){\r\n            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        }\r\n        commands = createSizedArray(jLen);\r\n        for(j=0;j<jLen;j+=1){\r\n            kLen = shapes[j].ks.k.i.length;\r\n            pathNodes = shapes[j].ks.k;\r\n            pathArr = [];\r\n            for(k=1;k<kLen;k+=1){\r\n                if(k==1){\r\n                    pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n                }\r\n                pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));\r\n            }\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n            commands[j] = pathArr;\r\n        }\r\n        if(singleShape){\r\n            xPos += letters[i].l;\r\n            xPos += trackingOffset;\r\n        }\r\n        if(this.textSpans[cnt]){\r\n            this.textSpans[cnt].elem = commands;\r\n        } else {\r\n            this.textSpans[cnt] = {elem: commands};\r\n        }\r\n        cnt +=1;\r\n    }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function(){\r\n    var ctx = this.canvasContext;\r\n    var finalMat = this.finalTransform.mat.props;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var  i,len, j, jLen, k, kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null, lastStroke = null, lastStrokeW = null, commands, pathArr;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            continue;\r\n        }\r\n        renderedLetter = renderedLetters[i];\r\n        if(renderedLetter){\r\n            this.globalData.renderer.save();\r\n            this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n            this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n        if(this.fill){\r\n            if(renderedLetter && renderedLetter.fc){\r\n                if(lastFill !== renderedLetter.fc){\r\n                    lastFill = renderedLetter.fc;\r\n                    ctx.fillStyle = renderedLetter.fc;\r\n                }\r\n            }else if(lastFill !== this.values.fill){\r\n                lastFill = this.values.fill;\r\n                ctx.fillStyle = this.values.fill;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.fill();\r\n            ///ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n        if(this.stroke){\r\n            if(renderedLetter && renderedLetter.sw){\r\n                if(lastStrokeW !== renderedLetter.sw){\r\n                    lastStrokeW = renderedLetter.sw;\r\n                    ctx.lineWidth = renderedLetter.sw;\r\n                }\r\n            }else if(lastStrokeW !== this.values.sWidth){\r\n                lastStrokeW = this.values.sWidth;\r\n                ctx.lineWidth = this.values.sWidth;\r\n            }\r\n            if(renderedLetter && renderedLetter.sc){\r\n                if(lastStroke !== renderedLetter.sc){\r\n                    lastStroke = renderedLetter.sc;\r\n                    ctx.strokeStyle = renderedLetter.sc;\r\n                }\r\n            }else if(lastStroke !== this.values.stroke){\r\n                lastStroke = this.values.stroke;\r\n                ctx.strokeStyle = this.values.stroke;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.stroke();\r\n            ///ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n        if(renderedLetter) {\r\n            this.globalData.renderer.restore();\r\n        }\r\n    }\r\n};\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function(){};\r\nvar animationManager = (function(){\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev){\r\n        var i = 0;\r\n        var animItem = ev.target;\r\n        while(i<len) {\r\n            if (registeredAnimations[i].animation === animItem) {\r\n                registeredAnimations.splice(i, 1);\r\n                i -= 1;\r\n                len -= 1;\r\n                if(!animItem.isPaused){\r\n                    subtractPlayingCount();\r\n                }\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function registerAnimation(element, animationData){\r\n        if(!element){\r\n            return null;\r\n        }\r\n        var i=0;\r\n        while(i<len){\r\n            if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\r\n                return registeredAnimations[i].animation;\r\n            }\r\n            i+=1;\r\n        }\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, element);\r\n        animItem.setData(element, animationData);\r\n        return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n        var i, len = registeredAnimations.length;\r\n        var animations = [];\r\n        for(i = 0; i < len; i += 1) {\r\n            animations.push(registeredAnimations[i].animation);\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    function addPlayingCount(){\r\n        playingAnimationsNum += 1;\r\n        activate();\r\n    }\r\n\r\n    function subtractPlayingCount(){\r\n        playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element){\r\n        animItem.addEventListener('destroy',removeElement);\r\n        animItem.addEventListener('_active',addPlayingCount);\r\n        animItem.addEventListener('_idle',subtractPlayingCount);\r\n        registeredAnimations.push({elem: element,animation:animItem});\r\n        len += 1;\r\n    }\r\n\r\n    function loadAnimation(params){\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, null);\r\n        animItem.setParams(params);\r\n        return animItem;\r\n    }\r\n\r\n\r\n    function setSpeed(val,animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setSpeed(val, animation);\r\n        }\r\n    }\r\n\r\n    function setDirection(val, animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setDirection(val, animation);\r\n        }\r\n    }\r\n\r\n    function play(animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.play(animation);\r\n        }\r\n    }\r\n    function resume(nowTime) {\r\n        var elapsedTime = nowTime - initTime;\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n        }\r\n        initTime = nowTime;\r\n        if(playingAnimationsNum && !_isFrozen) {\r\n            window.requestAnimationFrame(resume);\r\n        } else {\r\n            _stopped = true;\r\n        }\r\n    }\r\n\r\n    function first(nowTime){\r\n        initTime = nowTime;\r\n        window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.pause(animation);\r\n        }\r\n    }\r\n\r\n    function goToAndStop(value,isFrame,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\r\n        }\r\n    }\r\n\r\n    function stop(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.stop(animation);\r\n        }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.togglePause(animation);\r\n        }\r\n    }\r\n\r\n    function destroy(animation) {\r\n        var i;\r\n        for(i=(len-1);i>=0;i-=1){\r\n            registeredAnimations[i].animation.destroy(animation);\r\n        }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer){\r\n        var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n                  [].slice.call(document.getElementsByClassName('bodymovin')));\r\n        var i, len = animElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(renderer){\r\n                animElements[i].setAttribute('data-bm-type',renderer);\r\n            }\r\n            registerAnimation(animElements[i], animationData);\r\n        }\r\n        if(standalone && len === 0){\r\n            if(!renderer){\r\n                renderer = 'svg';\r\n            }\r\n            var body = document.getElementsByTagName('body')[0];\r\n            body.innerText = '';\r\n            var div = createTag('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.setAttribute('data-bm-type',renderer);\r\n            body.appendChild(div);\r\n            registerAnimation(div, animationData);\r\n        }\r\n    }\r\n\r\n    function resize(){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.resize();\r\n        }\r\n    }\r\n\r\n    function activate(){\r\n        if(!_isFrozen && playingAnimationsNum){\r\n            if(_stopped) {\r\n                window.requestAnimationFrame(first);\r\n                _stopped = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function freeze() {\r\n        _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n        _isFrozen = false;\r\n        activate();\r\n    }\r\n\r\n    function setVolume(val,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setVolume(val, animation);\r\n        }\r\n    }\r\n\r\n    function mute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.mute(animation);\r\n        }\r\n    }\r\n\r\n    function unmute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.unmute(animation);\r\n        }\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize;\r\n    //moduleOb.start = start;\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.setVolume = setVolume;\r\n    moduleOb.mute = mute;\r\n    moduleOb.unmute = unmute;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n}());\r\n\r\nvar AnimationItem = function () {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = subframeEnabled;\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.audioController = audioControllerFactory();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function(params) {\r\n    if(params.wrapper || params.container){\r\n        this.wrapper = params.wrapper || params.container;\r\n    }\r\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\r\n    switch(animType){\r\n        case 'canvas':\r\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n            break;\r\n        case 'svg':\r\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n            break;\r\n        default:\r\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n            break;\r\n    }\r\n    this.imagePreloader.setCacheType(animType);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n    if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true)\r\n    {\r\n        this.loop = true;\r\n    } else if (params.loop === false) {\r\n        this.loop = false;\r\n    } else {\r\n        this.loop = parseInt(params.loop);\r\n    }\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name :  '';\r\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n    if (params.audioFactory) {\r\n        this.audioController.setAudioFactory(params.audioFactory);\r\n    }\r\n    if (params.animationData) {\r\n        this.configAnimation(params.animationData);\r\n    } else if(params.path){\r\n\r\n        if( params.path.lastIndexOf('\\\\') !== -1){\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\r\n        } else {\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\r\n        }\r\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\r\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\r\n\r\n        assetLoader.load(params.path, this.configAnimation.bind(this), function() {\r\n            this.trigger('data_failed');\r\n        }.bind(this));\r\n    }\r\n\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    var params = {\r\n        wrapper: wrapper,\r\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n    if(loop === ''){\r\n    }else if(loop === 'false'){\r\n        params.loop = false;\r\n    }else if(loop === 'true'){\r\n        params.loop = true;\r\n    }else{\r\n        params.loop = parseInt(loop);\r\n    }\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== \"false\";\r\n\r\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if(prerender === 'false'){\r\n        params.prerender = false;\r\n    }\r\n    this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function(data) {\r\n    if(data.op > this.animationData.op){\r\n        this.animationData.op = data.op;\r\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n    var layers = this.animationData.layers;\r\n    var i, len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j, jLen = newLayers.length;\r\n    for(j=0;j<jLen;j+=1){\r\n        i = 0;\r\n        while(i<len){\r\n            if(layers[i].id == newLayers[j].id){\r\n                layers[i] = newLayers[j];\r\n                break;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n    if(data.chars || data.fonts){\r\n        this.renderer.globalData.fontManager.addChars(data.chars);\r\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n    if(data.assets){\r\n        len = data.assets.length;\r\n        for(i = 0; i < len; i += 1){\r\n            this.animationData.assets.push(data.assets[i]);\r\n        }\r\n    }\r\n    this.animationData.__complete = false;\r\n    dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n    this.renderer.includeLayers(data.layers);\r\n    if(expressionsPlugin){\r\n        expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\r\n        this.trigger('data_ready');\r\n        this.timeCompleted = this.totalFrames;\r\n        return;\r\n    }\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    assetLoader.load(segmentPath, this.includeLayers.bind(this), function() {\r\n        this.trigger('data_failed');\r\n    }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments) {\r\n        this.timeCompleted = this.totalFrames;\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function() {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded()\r\n}\r\n\r\nAnimationItem.prototype.preloadImages = function() {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n}\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n    if(!this.renderer){\r\n        return;\r\n    }\r\n    try {\r\n        this.animationData = animData;\r\n\r\n        if (this.initialSegment) {\r\n            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n            this.firstFrame = Math.round(this.initialSegment[0]);\r\n        } else {\r\n            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n            this.firstFrame = Math.round(this.animationData.ip);\r\n        }\r\n        this.renderer.configAnimation(animData);\r\n        if(!animData.assets){\r\n            animData.assets = [];\r\n        }\r\n\r\n        this.assets = this.animationData.assets;\r\n        this.frameRate = this.animationData.fr;\r\n        this.frameMult = this.animationData.fr / 1000;\r\n        this.renderer.searchExtraCompositions(animData.assets);\r\n        this.trigger('config_ready');\r\n        this.preloadImages();\r\n        this.loadSegments();\r\n        this.updaFrameModifier();\r\n        this.waitForFontsLoaded();\r\n        if (this.isPaused) {\r\n            this.audioController.pause();\r\n        }\r\n    } catch(error) {\r\n        this.triggerConfigError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function(){\r\n    if(!this.renderer) {\r\n        return;\r\n    }\r\n    if(this.renderer.globalData.fontManager.isLoaded){\r\n        this.checkLoaded();\r\n    }else{\r\n        setTimeout(this.waitForFontsLoaded.bind(this),20);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded \r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')\r\n    ) {\r\n        this.isLoaded = true;\r\n        dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n        if(expressionsPlugin){\r\n            expressionsPlugin.initExpressions(this);\r\n        }\r\n        this.renderer.initItems();\r\n        setTimeout(function() {\r\n            this.trigger('DOMLoaded');\r\n        }.bind(this), 0);\r\n        this.gotoFrame();\r\n        if(this.autoplay){\r\n            this.play();\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n    this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function(flag){\r\n    this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\r\n\r\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\r\n        this.currentFrame = this.timeCompleted;\r\n    }\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n    if(this.isLoaded === false){\r\n        return;\r\n    }\r\n    try {\r\n        this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch(error) {\r\n        this.triggerRenderFrameError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if (this.isPaused === true) {\r\n        this.isPaused = false;\r\n        this.audioController.resume();\r\n        if(this._idle){\r\n            this._idle = false;\r\n            this.trigger('_active');\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === false){\r\n        this.isPaused = true;\r\n        this._idle = true;\r\n        this.trigger('_idle');\r\n        this.audioController.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.play();\r\n    }else{\r\n        this.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(isFrame){\r\n        this.setCurrentRawFrameValue(value);\r\n    }else{\r\n        this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n    this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    this.goToAndStop(value, isFrame, name);\r\n    this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n        return;\r\n    }\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false;\r\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n        if (!this.loop || this.playCount === this.loop) {\r\n            if (!this.checkSegments(nextValue >  this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n                _isComplete = true;\r\n                nextValue = this.totalFrames - 1;\r\n            }\r\n        } else if (nextValue >= this.totalFrames) {\r\n            this.playCount += 1;\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n                this._completedLoop = true;\r\n                this.trigger('loopComplete');\r\n            }\r\n        } else {\r\n            this.setCurrentRawFrameValue(nextValue);\r\n        }\r\n    } else if(nextValue < 0) {\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n                this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n                if(!this._completedLoop) {\r\n                    this._completedLoop = true;\r\n                } else {\r\n                    this.trigger('loopComplete');\r\n                }\r\n            } else {\r\n                _isComplete = true;\r\n                nextValue = 0;\r\n            }\r\n        }\r\n    } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n    if (_isComplete) {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n        this.pause();\r\n        this.trigger('complete');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function(arr, offset){\r\n    this.playCount = 0;\r\n    if(arr[1] < arr[0]){\r\n        if(this.frameModifier > 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(-1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[0] - arr[1];\r\n        this.firstFrame = arr[1];\r\n        this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if(arr[1] > arr[0]){\r\n        if(this.frameModifier < 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[1] - arr[0];\r\n        this.firstFrame = arr[0];\r\n        this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n    this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init,end) {\r\n    var pendingFrame = -1;\r\n    if(this.isPaused) {\r\n        if (this.currentRawFrame + this.firstFrame < init) {\r\n            pendingFrame = init;\r\n        } else if (this.currentRawFrame + this.firstFrame > end) {\r\n            pendingFrame = end - init;\r\n        }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.timeCompleted = this.totalFrames = end - init;\r\n    if(pendingFrame !== -1) {\r\n        this.goToAndStop(pendingFrame,true);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n        this.segments.length = 0;\r\n    }\r\n    if (typeof arr[0] === 'object') {\r\n        var i, len = arr.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.segments.push(arr[i]);\r\n        }\r\n    } else {\r\n        this.segments.push(arr);\r\n    }\r\n    if (this.segments.length && forceFlag) {\r\n        this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n    if (this.isPaused) {\r\n        this.play();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip,this.animationData.op]);\r\n    //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n    if (forceFlag) {\r\n        this.checkSegments(0);\r\n    }\r\n};\r\nAnimationItem.prototype.checkSegments = function(offset) {\r\n    if (this.segments.length) {\r\n        this.adjustSegment(this.segments.shift(), offset);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n    if ((name && this.name != name) || !this.renderer) {\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\r\n    this.renderer = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n    return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n    if(name && this.name !== name){\r\n        return;\r\n    }\r\n    this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n    this.audioController.setRate(this.playSpeed * this.playDirection)\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n    if(assetData.e) {\r\n        path = assetData.p;\r\n    } else if(this.assetsPath){\r\n        var imagePath = assetData.p;\r\n        if(imagePath.indexOf('images/') !== -1){\r\n            imagePath = imagePath.split('/')[1];\r\n        }\r\n        path = this.assetsPath + imagePath;\r\n    } else {\r\n        path = this.path;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n    }\r\n    return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0, len = this.assets.length;\r\n    while (i < len) {\r\n        if(id == this.assets[i].id){\r\n            return this.assets[i];\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function(name){\r\n    if(this._cbs && this._cbs[name]){\r\n        switch(name){\r\n            case 'enterFrame':\r\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));\r\n                break;\r\n            case 'loopComplete':\r\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n                break;\r\n            case 'complete':\r\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\r\n                break;\r\n            case 'segmentStart':\r\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n                break;\r\n            case 'destroy':\r\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\r\n                break;\r\n            default:\r\n                this.triggerEvent(name);\r\n        }\r\n    }\r\n    if(name === 'enterFrame' && this.onEnterFrame){\r\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n    }\r\n    if(name === 'loopComplete' && this.onLoopComplete){\r\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n    }\r\n    if(name === 'complete' && this.onComplete){\r\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\r\n    }\r\n    if(name === 'segmentStart' && this.onSegmentStart){\r\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n    }\r\n    if(name === 'destroy' && this.onDestroy){\r\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function(nativeError) {\r\n\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.triggerConfigError = function(nativeError) {\r\n\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\nvar Expressions = (function(){\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n\r\n    function initExpressions(animation){\r\n\r\n    \tvar stackCount = 0;\r\n    \tvar registers = [];\r\n\r\n    \tfunction pushExpression() {\r\n\t\t\tstackCount += 1;\r\n    \t}\r\n\r\n    \tfunction popExpression() {\r\n\t\t\tstackCount -= 1;\r\n\t\t\tif (stackCount === 0) {\r\n\t\t\t\treleaseInstances();\r\n\t\t\t}\r\n    \t}\r\n\r\n    \tfunction registerExpressionProperty(expression) {\r\n    \t\tif (registers.indexOf(expression) === -1) {\r\n\t\t\t\tregisters.push(expression)\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfunction releaseInstances() {\r\n    \t\tvar i, len = registers.length;\r\n    \t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\t\tregisters[i].release();\r\n    \t\t}\r\n    \t\tregisters.length = 0;\r\n    \t}\r\n\r\n        animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n        animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n        animation.renderer.globalData.pushExpression = pushExpression;\r\n        animation.renderer.globalData.popExpression = popExpression;\r\n        animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n   return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\nvar ExpressionManager = (function(){\r\n    'use strict';\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n        return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n        return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n    }\r\n\r\n    function $bm_neg(a){\r\n        var tOfA = typeof a;\r\n        if(tOfA === 'number' || tOfA === 'boolean'  || a instanceof Number ){\r\n            return -a;\r\n        }\r\n        if($bm_isInstanceOfArray(a)){\r\n            var i, lenA = a.length;\r\n            var retArr = [];\r\n            for(i=0;i<lenA;i+=1){\r\n                retArr[i] = -a[i];\r\n            }\r\n            return retArr;\r\n        }\r\n        if (a.propType) {\r\n            return a.v;\r\n        }\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333,0,.833,.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167,0.167,.667,1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(.33,0,.667,1, 'easeInOut').get;\r\n\r\n    function sum(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(tOfA === 'string' || tOfB === 'string'){\r\n            return a + b;\r\n        }\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a + b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] + b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a + b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            \r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] + b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n    var add = sum;\r\n\r\n    function sub(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            if(tOfA === 'string') {\r\n                a = parseInt(a);\r\n            }\r\n            if(tOfB === 'string') {\r\n                b = parseInt(b);\r\n            }\r\n            return a - b;\r\n        }\r\n        if( $bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] - b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) &&  $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a - b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] - b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function mul(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a * b;\r\n        }\r\n\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] * b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a * b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function div(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a / b;\r\n        }\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] / b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a / b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n    function mod(a,b) {\r\n        if(typeof a === 'string') {\r\n            a = parseInt(a);\r\n        }\r\n        if(typeof b === 'string') {\r\n            b = parseInt(b);\r\n        }\r\n        return a % b;\r\n    }\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n        if(min > max){\r\n            var mm = max;\r\n            max = min;\r\n            min = mm;\r\n        }\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n        return val/degToRads;\r\n    }\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n        return val*degToRads;\r\n    }\r\n    var degrees_to_radians = radiansToDegrees;\r\n\r\n    var helperLengthArray = [0,0,0,0,0,0];\r\n\r\n    function length(arr1, arr2) {\r\n        if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n            arr2 = arr2 || 0;\r\n            return Math.abs(arr1 - arr2);\r\n        }\r\n        if(!arr2) {\r\n            arr2 = helperLengthArray;\r\n        }\r\n        var i, len = Math.min(arr1.length, arr2.length);\r\n        var addedLength = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n            addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n        }\r\n        return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n        return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n        var r = val[0]; var g = val[1]; var b = val[2];\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min){\r\n            h = s = 0; // achromatic\r\n        }else{\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max){\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n\r\n        return [h, s, l,val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    function hslToRgb(val){\r\n        var h = val[0];\r\n        var s = val[1];\r\n        var l = val[2];\r\n\r\n        var r, g, b;\r\n\r\n        if(s === 0){\r\n            r = g = b = l; // achromatic\r\n        }else{\r\n\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return [r, g , b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2){\r\n        if(value1 === undefined || value2 === undefined){\r\n            value1 = tMin;\r\n            value2 = tMax;\r\n            tMin = 0;\r\n            tMax = 1;\r\n        }\r\n        if(tMax < tMin) {\r\n            var _tMin = tMax;\r\n            tMax = tMin;\r\n            tMin = _tMin;\r\n        }\r\n        if(t <= tMin) {\r\n            return value1;\r\n        }else if(t >= tMax){\r\n            return value2;\r\n        }\r\n        var perc = tMax === tMin ? 0 : (t-tMin)/(tMax-tMin);\r\n        if(!value1.length){\r\n            return value1 + (value2-value1)*perc;\r\n        }\r\n        var i, len = value1.length;\r\n        var arr = createTypedArray('float32', len);\r\n        for(i=0;i<len;i+=1){\r\n            arr[i] = value1[i] + (value2[i]-value1[i])*perc;\r\n        }\r\n        return arr;\r\n    }\r\n    function random(min,max){\r\n        if(max === undefined){\r\n            if(min === undefined){\r\n                min = 0;\r\n                max = 1;\r\n            } else {\r\n                max = min;\r\n                min = undefined;\r\n            }\r\n        }\r\n        if(max.length){\r\n            var i, len = max.length;\r\n            if(!min){\r\n                min = createTypedArray('float32', len);\r\n            }\r\n            var arr = createTypedArray('float32', len);\r\n            var rnd = BMMath.random();\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = min[i] + rnd*(max[i]-min[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        if(min === undefined){\r\n            min = 0;\r\n        }\r\n        var rndm = BMMath.random();\r\n        return min + rndm*(max-min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n        var i, len = points.length;\r\n        var path = shape_pool.newElement();\r\n        path.setPathData(!!closed, len);\r\n        var arrPlaceholder = [0,0], inVertexPoint, outVertexPoint;\r\n        for(i = 0; i < len; i += 1) {\r\n            inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n            outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n            path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0] + points[i][0],outVertexPoint[1] + points[i][1],inVertexPoint[0] + points[i][0],inVertexPoint[1] + points[i][1],i,true);\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function initiateExpression(elem,data,property){\r\n        var val = data.x;\r\n        var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n        var _needsRandom = val.indexOf('random') !== -1;\r\n        var elemType = elem.data.ty;\r\n        var transform,$bm_transform,content,effect;\r\n        var thisProperty = property;\r\n        thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n        Object.defineProperty(thisProperty, 'value', {\r\n            get: function() {\r\n                return thisProperty.v\r\n            }\r\n        })\r\n        elem.comp.frameDuration = 1/elem.comp.globalData.frameRate;\r\n        elem.comp.displayStartTime = 0;\r\n        var inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        var outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        var width = elem.data.sw ? elem.data.sw : 0;\r\n        var height = elem.data.sh ? elem.data.sh : 0;\r\n        var name = elem.data.nm;\r\n        var loopIn, loop_in, loopOut, loop_out, smooth;\r\n        var toWorld,fromWorld,fromComp,toComp,fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp,mask,valueAtTime,velocityAtTime;\r\n        var __expression_functions = [];\r\n        if(data.xf) {\r\n            var i, len = data.xf.length;\r\n            for(i = 0; i < len; i += 1) {\r\n                __expression_functions[i] = eval('(function(){ return ' + data.xf[i] + '}())');\r\n            }\r\n        }\r\n\r\n        var scoped_bm_rt;\r\n        var expression_function = eval('[function _expression_function(){' + val+';scoped_bm_rt=$bm_rt}' + ']')[0];\r\n        var numKeys = property.kf ? data.k.length : 0;\r\n\r\n        var active = !this.data || this.data.hd !== true;\r\n\r\n        var wiggle = function wiggle(freq,amp){\r\n            var i,j, len = this.pv.length ? this.pv.length : 1;\r\n            var addedAmps = createTypedArray('float32', len);\r\n            freq = 5;\r\n            var iterations = Math.floor(time*freq);\r\n            i = 0;\r\n            j = 0;\r\n            while(i<iterations){\r\n                //var rnd = BMMath.random();\r\n                for(j=0;j<len;j+=1){\r\n                    addedAmps[j] += -amp + amp*2*BMMath.random();\r\n                    //addedAmps[j] += -amp + amp*2*rnd;\r\n                }\r\n                i += 1;\r\n            }\r\n            //var rnd2 = BMMath.random();\r\n            var periods = time*freq;\r\n            var perc = periods - Math.floor(periods);\r\n            var arr = createTypedArray('float32', len);\r\n            if(len>1){\r\n                for(j=0;j<len;j+=1){\r\n                    arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*BMMath.random())*perc;\r\n                    //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n                    //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n                }\r\n                return arr;\r\n            } else {\r\n                return this.pv + addedAmps[0] + (-amp + amp*2*BMMath.random())*perc;\r\n            }\r\n        }.bind(this);\r\n\r\n        if(thisProperty.loopIn) {\r\n            loopIn = thisProperty.loopIn.bind(thisProperty);\r\n            loop_in = loopIn;\r\n        }\r\n\r\n        if(thisProperty.loopOut) {\r\n            loopOut = thisProperty.loopOut.bind(thisProperty);\r\n            loop_out = loopOut;\r\n        }\r\n\r\n        if(thisProperty.smooth) {\r\n            smooth = thisProperty.smooth.bind(thisProperty);\r\n        }\r\n\r\n        function loopInDuration(type,duration){\r\n            return loopIn(type,duration,true);\r\n        }\r\n\r\n        function loopOutDuration(type,duration){\r\n            return loopOut(type,duration,true);\r\n        }\r\n\r\n        if(this.getValueAtTime) {\r\n            valueAtTime = this.getValueAtTime.bind(this);\r\n        }\r\n\r\n        if(this.getVelocityAtTime) {\r\n            velocityAtTime = this.getVelocityAtTime.bind(this);\r\n        }\r\n\r\n        var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n        function lookAt(elem1,elem2){\r\n            var fVec = [elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];\r\n            var pitch = Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;\r\n            var yaw = -Math.atan2(fVec[1],fVec[2])/degToRads;\r\n            return [yaw,pitch,0];\r\n        }\r\n\r\n        function easeOut(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function easeIn(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function ease(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            t = t > 1 ? 1 : t < 0 ? 0 : t;\r\n            var mult = fn(t);\r\n            if($bm_isInstanceOfArray(val1)) {\r\n                var i, len = val1.length;\r\n                var arr = createTypedArray('float32', len);\r\n                for (i = 0; i < len; i += 1) {\r\n                    arr[i] = (val2[i] - val1[i]) * mult + val1[i];\r\n                }\r\n                return arr;\r\n            } else {\r\n                return (val2 - val1) * mult + val1;\r\n            }\r\n        }\r\n\r\n        function nearestKey(time){\r\n            var i, len = data.k.length,index,keyTime;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                index = 0;\r\n                keyTime = 0;\r\n            } else {\r\n                index = -1;\r\n                time *= elem.comp.globalData.frameRate;\r\n                if (time < data.k[0].t) {\r\n                    index = 1;\r\n                    keyTime = data.k[0].t;\r\n                } else {\r\n                    for(i=0;i<len-1;i+=1){\r\n                        if(time === data.k[i].t){\r\n                            index = i + 1;\r\n                            keyTime = data.k[i].t;\r\n                            break;\r\n                        }else if(time>data.k[i].t && time<data.k[i+1].t){\r\n                            if(time-data.k[i].t > data.k[i+1].t - time){\r\n                                index = i + 2;\r\n                                keyTime = data.k[i+1].t;\r\n                            } else {\r\n                                index = i + 1;\r\n                                keyTime = data.k[i].t;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(index === -1){\r\n                        index = i + 1;\r\n                        keyTime = data.k[i].t;\r\n                    }\r\n                }\r\n                \r\n            }\r\n            var ob = {};\r\n            ob.index = index;\r\n            ob.time = keyTime/elem.comp.globalData.frameRate;\r\n            return ob;\r\n        }\r\n\r\n        function key(ind){\r\n            var ob, i, len;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                throw new Error('The property has no keyframe at index ' + ind);\r\n            }\r\n            ind -= 1;\r\n            ob = {\r\n                time: data.k[ind].t/elem.comp.globalData.frameRate,\r\n                value: []\r\n            };\r\n            var arr = data.k[ind].hasOwnProperty('s') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n            len = arr.length;\r\n            for(i=0;i<len;i+=1){\r\n                ob[i] = arr[i];\r\n                ob.value[i] = arr[i]\r\n            }\r\n            return ob;\r\n        }\r\n\r\n        function framesToTime(frames, fps) { \r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return frames / fps;\r\n        }\r\n\r\n        function timeToFrames(t, fps) {\r\n            if (!t && t !== 0) {\r\n                t = time;\r\n            }\r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return t * fps;\r\n        }\r\n\r\n        function seedRandom(seed){\r\n            BMMath.seedrandom(randSeed + seed);\r\n        }\r\n\r\n        function sourceRectAtTime() {\r\n            return elem.sourceRectAtTime();\r\n        }\r\n\r\n        function substring(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substring(init)\r\n                }\r\n                return value.substring(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function substr(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substr(init)\r\n                }\r\n                return value.substr(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function posterizeTime(framesPerSecond) {\r\n            time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond\r\n            value = valueAtTime(time)\r\n        }\r\n\r\n        var time, velocity, value, text, textIndex, textTotal, selectorValue;\r\n        var index = elem.data.ind;\r\n        var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n        var parent;\r\n        var randSeed = Math.floor(Math.random()*1000000);\r\n        var globalData = elem.globalData;\r\n        function executeExpression(_value) {\r\n            // globalData.pushExpression();\r\n            value = _value;\r\n            if (_needsRandom) {\r\n                seedRandom(randSeed);\r\n            }\r\n            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n                return value;\r\n            }\r\n            if(this.propType === 'textSelector'){\r\n                textIndex = this.textIndex;\r\n                textTotal = this.textTotal;\r\n                selectorValue = this.selectorValue;\r\n            }\r\n            if (!thisLayer) {\r\n                text = elem.layerInterface.text;\r\n                thisLayer = elem.layerInterface;\r\n                thisComp = elem.comp.compInterface;\r\n                toWorld = thisLayer.toWorld.bind(thisLayer);\r\n                fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n                fromComp = thisLayer.fromComp.bind(thisLayer);\r\n                toComp = thisLayer.toComp.bind(thisLayer);\r\n                mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n                fromCompToSurface = fromComp;\r\n            }\r\n            if (!transform) {\r\n                transform = elem.layerInterface(\"ADBE Transform Group\");\r\n                $bm_transform = transform;\r\n                if(transform) {\r\n                    anchorPoint = transform.anchorPoint;\r\n                    /*position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale;*/\r\n                }\r\n            }\r\n            \r\n            if (elemType === 4 && !content) {\r\n                content = thisLayer(\"ADBE Root Vectors Group\");\r\n            }\r\n            if (!effect) {\r\n                effect = thisLayer(4);\r\n            }\r\n            hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n            if (hasParent && !parent) {\r\n                parent = elem.hierarchy[0].layerInterface;\r\n            }\r\n            time = this.comp.renderedFrame/this.comp.globalData.frameRate;\r\n            if (needsVelocity) {\r\n                velocity = velocityAtTime(time);\r\n            }\r\n            expression_function();\r\n            this.frameExpressionId = elem.globalData.frameId;\r\n\r\n            //TODO: Check if it's possible to return on ShapeInterface the .v value\r\n            if (scoped_bm_rt.propType === \"shape\") {\r\n                scoped_bm_rt = scoped_bm_rt.v;\r\n            }\r\n            // globalData.popExpression();\r\n            return scoped_bm_rt;\r\n        }\r\n        return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    return ob;\r\n}());\r\nvar expressionHelpers = (function(){\r\n\r\n    function searchExpressions(elem,data,prop){\r\n        if(data.x){\r\n            prop.k = true;\r\n            prop.x = true;\r\n            prop.initiateExpression = ExpressionManager.initiateExpression;\r\n            prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));\r\n        }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n        var delta = -0.01;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var speed = 0;\r\n        if(v1.length){\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                speed += Math.pow(v2[i] - v1[i], 2);\r\n            }\r\n            speed = Math.sqrt(speed) * 100;\r\n        } else {\r\n            speed = 0;\r\n        }\r\n        return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n        if(this.vel !== undefined){\r\n            return this.vel;\r\n        }\r\n        var delta = -0.001;\r\n        //frameNum += this.elem.data.st;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var velocity;\r\n        if(v1.length){\r\n            velocity = createTypedArray('float32', v1.length);\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                //removing frameRate\r\n                //if needed, don't add it here\r\n                //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n                velocity[i] = (v2[i] - v1[i])/delta;\r\n            }\r\n        } else {\r\n            velocity = (v2 - v1)/delta;\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n        return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup){\r\n        this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n\treturn {\r\n\t\tsearchExpressions: searchExpressions,\r\n\t\tgetSpeedAtTime: getSpeedAtTime,\r\n\t\tgetVelocityAtTime: getVelocityAtTime,\r\n\t\tgetValueAtTime: getValueAtTime,\r\n\t\tgetStaticValueAtTime: getStaticValueAtTime,\r\n\t\tsetGroupProperty: setGroupProperty,\r\n\t}\r\n}());\r\n(function addPropertyDecorator() {\r\n\r\n    function loopOut(type,duration,durationFlag){\r\n        if(!this.k || !this.keyframes){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n        if(currentFrame<=lastKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, firstKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,lastKeyFrame - this.elem.data.ip);\r\n                } else {\r\n                    cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate*duration);\r\n                }\r\n                firstKeyFrame = lastKeyFrame - cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(iterations % 2 !== 0){\r\n                    return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = (endV[i]-initV[i])*repeats + current[i];\r\n                    }\r\n                    return ret;\r\n                }\r\n                return (endV-initV)*repeats + current;\r\n            } else if(type === 'continue'){\r\n                var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(lastValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = lastValue[i] + (lastValue[i]-nextLastValue[i])*((currentFrame - lastKeyFrame)/ this.comp.globalData.frameRate)/0.0005;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return lastValue + (lastValue-nextLastValue)*(((currentFrame - lastKeyFrame))/0.001);\r\n            }\r\n            return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function loopIn(type,duration, durationFlag) {\r\n        if(!this.k){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var firstKeyFrame = keyframes[0].t;\r\n        if(currentFrame>=firstKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, lastKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                lastKeyFrame = keyframes[duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,this.elem.data.op - firstKeyFrame);\r\n                } else {\r\n                    cycleDuration = Math.abs(elem.comp.globalData.frameRate*duration);\r\n                }\r\n                lastKeyFrame = firstKeyFrame + cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((firstKeyFrame - currentFrame)/cycleDuration);\r\n                if(iterations % 2 === 0){\r\n                    return this.getValueAtTime((((firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((firstKeyFrame - currentFrame)/cycleDuration)+1;\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = current[i]-(endV[i]-initV[i])*repeats;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return current-(endV-initV)*repeats;\r\n            } else if(type === 'continue'){\r\n                var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(firstValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = firstValue[i] + (firstValue[i]-nextFirstValue[i])*(firstKeyFrame - currentFrame)/0.001;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return firstValue + (firstValue-nextFirstValue)*(firstKeyFrame - currentFrame)/0.001;\r\n            }\r\n            return this.getValueAtTime(((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n        if (!this.k){\r\n            return this.pv;\r\n        }\r\n        width = (width || 0.4) * 0.5;\r\n        samples = Math.floor(samples || 5);\r\n        if (samples <= 1) {\r\n            return this.pv;\r\n        }\r\n        var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n        var initFrame = currentTime - width;\r\n        var endFrame = currentTime + width;\r\n        var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n        var i = 0, j = 0;\r\n        var value;\r\n        if (this.pv.length) {\r\n            value = createTypedArray('float32', this.pv.length);\r\n        } else {\r\n            value = 0;\r\n        }\r\n        var sampleValue;\r\n        while (i < samples) {\r\n            sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n            if(this.pv.length) {\r\n                for (j = 0; j < this.pv.length; j += 1) {\r\n                    value[j] += sampleValue[j];\r\n                }\r\n            } else {\r\n                value += sampleValue;\r\n            }\r\n            i += 1;\r\n        }\r\n        if(this.pv.length) {\r\n            for (j = 0; j < this.pv.length; j += 1) {\r\n                value[j] /= samples;\r\n            }\r\n        } else {\r\n            value /= samples;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n        if (!this._transformCachingAtTime) {\r\n            this._transformCachingAtTime = {\r\n                v: new Matrix(),\r\n            };\r\n        }\r\n        ////\r\n        var matrix = this._transformCachingAtTime.v;\r\n        matrix.cloneFromProps(this.pre.props);\r\n        if (this.appliedTransformations < 1) {\r\n            var anchor = this.a.getValueAtTime(time);\r\n            matrix.translate(-anchor[0], -anchor[1], anchor[2]);\r\n        }\r\n        if (this.appliedTransformations < 2) {\r\n            var scale = this.s.getValueAtTime(time);\r\n            matrix.scale(scale[0], scale[1], scale[2]);\r\n        }\r\n        if (this.sk && this.appliedTransformations < 3) {\r\n            var skew = this.sk.getValueAtTime(time);\r\n            var skewAxis = this.sa.getValueAtTime(time);\r\n            matrix.skewFromAxis(-skew, skewAxis);\r\n        }\r\n        if (this.r && this.appliedTransformations < 4) {\r\n            var rotation = this.r.getValueAtTime(time);\r\n            matrix.rotate(-rotation);\r\n        } else if (!this.r && this.appliedTransformations < 4){\r\n            var rotationZ = this.rz.getValueAtTime(time);\r\n            var rotationY = this.ry.getValueAtTime(time);\r\n            var rotationX = this.rx.getValueAtTime(time);\r\n            var orientation = this.or.getValueAtTime(time);\r\n            matrix.rotateZ(-rotationZ.v)\r\n            .rotateY(rotationY.v)\r\n            .rotateX(rotationX.v)\r\n            .rotateZ(-orientation[2])\r\n            .rotateY(orientation[1])\r\n            .rotateX(orientation[0]);\r\n        }\r\n        if (this.data.p && this.data.p.s) {\r\n            var positionX = this.px.getValueAtTime(time);\r\n            var positionY = this.py.getValueAtTime(time);\r\n            if (this.data.p.z) {\r\n                var positionZ = this.pz.getValueAtTime(time);\r\n                matrix.translate(positionX, positionY, -positionZ);\r\n            } else {\r\n                matrix.translate(positionX, positionY, 0);\r\n            }\r\n        } else {\r\n            var position = this.p.getValueAtTime(time);\r\n            matrix.translate(position[0], position[1], -position[2]);\r\n        }\r\n        return matrix;\r\n        ////\r\n    }\r\n\r\n    function getTransformStaticValueAtTime(time) {\r\n\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n    TransformPropertyFactory.getTransformProperty = function(elem, data, container) {\r\n        var prop = getTransformProperty(elem, data, container);\r\n        if(prop.dynamicProperties.length) {\r\n            prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n    PropertyFactory.getProp = function(elem,data,type, mult, container){\r\n        var prop = propertyGetProp(elem,data,type, mult, container);\r\n        //prop.getVelocityAtTime = getVelocityAtTime;\r\n        //prop.loopOut = loopOut;\r\n        //prop.loopIn = loopIn;\r\n        if(prop.kf){\r\n            prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        prop.loopOut = loopOut;\r\n        prop.loopIn = loopIn;\r\n        prop.smooth = smooth;\r\n        prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n        prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n        prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n        prop.propertyIndex = data.ix;\r\n        var value = 0;\r\n        if(type !== 0) {\r\n            value = createTypedArray('float32', data.a === 1 ?  data.k[0].s.length : data.k.length);\r\n        }\r\n        prop._cachingAtTime = {\r\n            lastFrame: initialDefaultFrame,\r\n            lastIndex: 0,\r\n            value: value\r\n        };\r\n        expressionHelpers.searchExpressions(elem,data,prop);\r\n        if(prop.k){\r\n            container.addDynamicProperty(prop);\r\n        }\r\n\r\n        return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n        //For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n        if (!this._cachingAtTime) {\r\n            this._cachingAtTime = {\r\n                shapeValue: shape_pool.clone(this.pv),\r\n                lastIndex: 0,\r\n                lastTime: initialDefaultFrame\r\n            };\r\n        }\r\n        \r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastTime) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n            this._cachingAtTime.lastTime = frameNum;\r\n            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n        }\r\n        return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions(){}\r\n    ShapeExpressions.prototype = {\r\n        vertices: function(prop, time){\r\n            if (this.k) {\r\n                this.getValue();\r\n            }\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            var i, len = shapePath._length;\r\n            var vertices = shapePath[prop];\r\n            var points = shapePath.v;\r\n            var arr = createSizedArray(len);\r\n            for(i = 0; i < len; i += 1) {\r\n                if(prop === 'i' || prop === 'o') {\r\n                    arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n                } else {\r\n                    arr[i] = [vertices[i][0], vertices[i][1]];\r\n                }\r\n                \r\n            }\r\n            return arr;\r\n        },\r\n        points: function(time){\r\n            return this.vertices('v', time);\r\n        },\r\n        inTangents: function(time){\r\n            return this.vertices('i', time);\r\n        },\r\n        outTangents: function(time){\r\n            return this.vertices('o', time);\r\n        },\r\n        isClosed: function(){\r\n            return this.v.c;\r\n        },\r\n        pointOnPath: function(perc, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            if(!this._segmentsLength) {\r\n                this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n            }\r\n\r\n            var segmentsLength = this._segmentsLength;\r\n            var lengths = segmentsLength.lengths;\r\n            var lengthPos = segmentsLength.totalLength * perc;\r\n            var i = 0, len = lengths.length;\r\n            var j = 0, jLen;\r\n            var accumulatedLength = 0, pt;\r\n            while(i < len) {\r\n                if(accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n                    var initIndex = i;\r\n                    var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n                    var segmentPerc = (lengthPos - accumulatedLength)/lengths[i].addedLength;\r\n                    pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n                    break;\r\n                } else {\r\n                    accumulatedLength += lengths[i].addedLength;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(!pt){\r\n                pt = shapePath.c ? [shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];\r\n            }\r\n            return pt;\r\n        },\r\n        vectorOnPath: function(perc, time, vectorType){\r\n            //perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n            perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\r\n            var pt1 = this.pointOnPath(perc, time);\r\n            var pt2 = this.pointOnPath(perc + 0.001, time);\r\n            var xLength = pt2[0] - pt1[0];\r\n            var yLength = pt2[1] - pt1[1];\r\n            var magnitude = Math.sqrt(Math.pow(xLength,2) + Math.pow(yLength,2));\r\n            if (magnitude === 0) {\r\n                return [0,0];\r\n            }\r\n            var unitVector = vectorType === 'tangent' ? [xLength/magnitude, yLength/magnitude] : [-yLength/magnitude, xLength/magnitude];\r\n            return unitVector;\r\n        },\r\n        tangentOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'tangent');\r\n        },\r\n        normalOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'normal');\r\n        },\r\n        setGroupProperty: expressionHelpers.setGroupProperty,\r\n        getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n    ShapePropertyFactory.getShapeProp = function(elem,data,type, arr, trims){\r\n        var prop = propertyGetShapeProp(elem,data,type, arr, trims);\r\n        prop.propertyIndex = data.ix;\r\n        prop.lock = false;\r\n        if(type === 3){\r\n            expressionHelpers.searchExpressions(elem,data.pt,prop);\r\n        } else if(type === 4){\r\n            expressionHelpers.searchExpressions(elem,data.ks,prop);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    };\r\n}());\r\n(function addDecorator() {\r\n\r\n    function searchExpressions(){\r\n        if(this.data.d.x){\r\n            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);\r\n            this.addEffect(this.getExpressionValue.bind(this));\r\n            return true;\r\n        }\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function(currentValue, text) {\r\n        var newValue = this.calculateExpression(text);\r\n        if(currentValue.t !== newValue) {\r\n            var newData = {};\r\n            this.copyData(newData, currentValue);\r\n            newData.t = newValue.toString();\r\n            newData.__complete = false;\r\n            return newData;\r\n        }\r\n        return currentValue;\r\n    }\r\n\r\n    TextProperty.prototype.searchProperty = function(){\r\n\r\n        var isKeyframed = this.searchKeyframes();\r\n        var hasExpressions = this.searchExpressions();\r\n        this.kf = isKeyframed || hasExpressions;\r\n        return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n    \r\n}());\r\nvar ShapePathInterface = (\r\n\r\n\tfunction() {\r\n\r\n\t\treturn function pathInterfaceFactory(shape,view,propertyGroup){\r\n\t\t    var prop = view.sh;\r\n\r\n\t\t    function interfaceFunction(val){\r\n\t\t        if(val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2){\r\n\t\t            return interfaceFunction.path;\r\n\t\t        }\r\n\t\t    }\r\n\r\n\t\t    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\t\t    prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n\t\t    Object.defineProperties(interfaceFunction, {\r\n\t\t        'path': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        'shape': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        '_name': { value: shape.nm },\r\n\t\t        'ix': { value: shape.ix },\r\n\t\t        'propertyIndex': { value: shape.ix },\r\n\t\t        'mn': { value: shape.mn },\r\n\t\t        'propertyGroup': {value: propertyGroup},\r\n\t\t    });\r\n\t\t    return interfaceFunction;\r\n\t\t}\r\n\t}()\r\n)\r\nvar propertyGroupFactory = (function() {\r\n\treturn function(interfaceFunction, parentPropertyGroup) {\r\n\t\treturn function(val) {\r\n\t\t\tval = val === undefined ? 1 : val\r\n\t\t\tif(val <= 0){\r\n\t\t\t    return interfaceFunction;\r\n\t\t\t} else{\r\n\t\t\t    return parentPropertyGroup(val-1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}())\r\nvar PropertyInterface = (function() {\r\n\treturn function(propertyName, propertyGroup) {\r\n\r\n\t\tvar interfaceFunction = {\r\n\t\t\t_name: propertyName\r\n\t\t}\r\n\r\n\t\tfunction _propertyGroup(val){\r\n\t\t    val = val === undefined ? 1 : val\r\n\t\t    if(val <= 0){\r\n\t\t        return interfaceFunction;\r\n\t\t    } else {\r\n\t\t        return propertyGroup(--val);\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\treturn _propertyGroup;\r\n\t}\r\n}())\r\nvar ShapeExpressionInterface = (function(){\r\n\r\n    function iterateElements(shapes,view, propertyGroup){\r\n        var arr = [];\r\n        var i, len = shapes ? shapes.length : 0;\r\n        for(i=0;i<len;i+=1){\r\n            if(shapes[i].ty == 'gr'){\r\n                arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'fl'){\r\n                arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'st'){\r\n                arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tm'){\r\n                arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tr'){\r\n                //arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'el'){\r\n                arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'sr'){\r\n                arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'sh'){\r\n                arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rc'){\r\n                arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rd'){\r\n                arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rp'){\r\n                arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape,view, propertyGroup){\r\n       var interfaces;\r\n       var interfaceFunction = function _interfaceFunction(value){\r\n           var i = 0, len = interfaces.length;\r\n            while(i<len){\r\n                if(interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value){\r\n                   return interfaces[i];\r\n                }\r\n                i+=1;\r\n            }\r\n            if(typeof value === 'number'){\r\n               return interfaces[value-1];\r\n            }\r\n       };\r\n\r\n       interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n       interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n       interfaceFunction.numProperties = interfaces.length;\r\n       var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n       interfaceFunction.transform = transformInterface;\r\n       interfaceFunction.propertyIndex = shape.cix;\r\n       interfaceFunction._name = shape.nm;\r\n\r\n       return interfaceFunction;\r\n   }\r\n\r\n    function groupInterfaceFactory(shape,view, propertyGroup){\r\n        var interfaceFunction = function _interfaceFunction(value){\r\n            switch(value){\r\n                case 'ADBE Vectors Group':\r\n                case 'Contents':\r\n                case 2:\r\n                    return interfaceFunction.content;\r\n                //Not necessary for now. Keeping them here in case a new case appears\r\n                //case 'ADBE Vector Transform Group':\r\n                //case 3:\r\n                default:\r\n                    return interfaceFunction.transform;\r\n            }\r\n        };\r\n        interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var content = contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);\r\n        var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n        interfaceFunction.content = content;\r\n        interfaceFunction.transform = transformInterface;\r\n        Object.defineProperty(interfaceFunction, '_name', {\r\n            get: function(){\r\n                return shape.nm;\r\n            }\r\n        });\r\n        //interfaceFunction.content = interfaceFunction;\r\n        interfaceFunction.numProperties = shape.np;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.nm = shape.nm;\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape,view,propertyGroup){\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape,view,propertyGroup){\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n        function addPropertyToDashOb(i) {\r\n            Object.defineProperty(dashOb, shape.d[i].nm, {\r\n                get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n            });\r\n        }\r\n        var i, len = shape.d ? shape.d.length : 0;\r\n        var dashOb = {};\r\n        for (i = 0; i < len; i += 1) {\r\n            addPropertyToDashOb(i);\r\n            view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            } else if(val === 'Stroke Width' || val === 'stroke width'){\r\n                return interfaceFunction.strokeWidth;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            'strokeWidth': {\r\n                get: ExpressionPropertyInterface(view.w)\r\n            },\r\n            'dash': {\r\n                get: function() {\r\n                    return dashOb;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(val){\r\n            if(val === shape.e.ix || val === 'End' || val === 'end'){\r\n                return interfaceFunction.end;\r\n            }\r\n            if(val === shape.s.ix){\r\n                return interfaceFunction.start;\r\n            }\r\n            if(val === shape.o.ix){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n        view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'start': {\r\n                get: ExpressionPropertyInterface(view.s)\r\n            },\r\n            'end': {\r\n                get: ExpressionPropertyInterface(view.e)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.a.ix === value || value === 'Anchor Point'){\r\n                return interfaceFunction.anchorPoint;\r\n            }\r\n            if(shape.o.ix === value || value === 'Opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n            if(shape.p.ix === value || value === 'Position'){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation'){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.s.ix === value || value === 'Scale'){\r\n                return interfaceFunction.scale;\r\n            }\r\n            if(shape.sk && shape.sk.ix === value || value === 'Skew'){\r\n                return interfaceFunction.skew;\r\n            }\r\n            if(shape.sa && shape.sa.ix === value || value === 'Skew Axis'){\r\n                return interfaceFunction.skewAxis;\r\n            }\r\n        }\r\n        \r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n        view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n        view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(view.transform.mProps.sk){\r\n            view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n            view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n        }\r\n        view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n            },\r\n            'anchorPoint': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n            },\r\n            'scale': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n            },\r\n            'skew': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n            },\r\n            'skewAxis': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.ty = 'tr';\r\n        interfaceFunction.mn = shape.mn;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.s.ix === value){\r\n                return interfaceFunction.size;\r\n            }\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.pt.ix === value){\r\n                return interfaceFunction.points;\r\n            }\r\n            if(shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value){\r\n                return interfaceFunction.outerRadius;\r\n            }\r\n            if(shape.os.ix === value){\r\n                return interfaceFunction.outerRoundness;\r\n            }\r\n            if(shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)){\r\n                return interfaceFunction.innerRadius;\r\n            }\r\n            if(shape.is && shape.is.ix === value){\r\n                return interfaceFunction.innerRoundness;\r\n            }\r\n\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n        prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n        prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(shape.ir){\r\n            prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n            prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n        }\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'points': {\r\n                get: ExpressionPropertyInterface(prop.pt)\r\n            },\r\n            'outerRadius': {\r\n                get: ExpressionPropertyInterface(prop.or)\r\n            },\r\n            'outerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.os)\r\n            },\r\n            'innerRadius': {\r\n                get: ExpressionPropertyInterface(prop.ir)\r\n            },\r\n            'innerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.is)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.roundness;\r\n            }\r\n            if(shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size'){\r\n                return interfaceFunction.size;\r\n            }\r\n\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'roundness': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape,view,propertyGroup){\r\n       \r\n        function interfaceFunction(value){\r\n            if(shape.r.ix === value || 'Round Corners 1' === value){\r\n                return interfaceFunction.radius;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'radius': {\r\n                get: ExpressionPropertyInterface(prop.rd)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.c.ix === value || 'Copies' === value){\r\n                return interfaceFunction.copies;\r\n            } else if(shape.o.ix === value || 'Offset' === value){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n        prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'copies': {\r\n                get: ExpressionPropertyInterface(prop.c)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(prop.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return function(shapes,view,propertyGroup) {\r\n        var interfaces;\r\n        function _interfaceFunction(value){\r\n            if(typeof value === 'number'){\r\n                value = value === undefined ? 1 : value\r\n                if (value === 0) {\r\n                    return propertyGroup\r\n                } else {\r\n                    return interfaces[value-1];\r\n                }\r\n            } else {\r\n                var i = 0, len = interfaces.length;\r\n                while(i<len){\r\n                    if(interfaces[i]._name === value){\r\n                        return interfaces[i];\r\n                    }\r\n                    i+=1;\r\n                }\r\n            }\r\n        }\r\n        _interfaceFunction.propertyGroup = propertyGroup;\r\n        interfaces = iterateElements(shapes, view, _interfaceFunction);\r\n        _interfaceFunction.numProperties = interfaces.length;\r\n        return _interfaceFunction;\r\n    };\r\n}());\r\n\r\nvar TextExpressionInterface = (function(){\r\n\treturn function(elem){\r\n        var _prevValue, _sourceText;\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Text Document\":\r\n                    return _thisLayerFunction.sourceText;\r\n            }\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"sourceText\", {\r\n            get: function(){\r\n                elem.textProperty.getValue()\r\n                var stringValue = elem.textProperty.currentData.t;\r\n                if(stringValue !== _prevValue) {\r\n                    elem.textProperty.currentData.t = _prevValue;\r\n                    _sourceText = new String(stringValue);\r\n                    //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n                    _sourceText.value = stringValue ? stringValue : new String(stringValue);\r\n                }\r\n                return _sourceText;\r\n            }\r\n        });\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar LayerExpressionInterface = (function (){\r\n    function toWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if (time !== undefined) {\r\n            toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n        }\r\n        return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n    }\r\n    function fromWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if (time !== undefined) {\r\n            toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        if (this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n    function fromComp(arr){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n        return [1,1,1,1];\r\n    }\r\n\r\n\r\n    return function(elem){\r\n\r\n        var transformInterface;\r\n\r\n        function _registerMaskInterface(maskManager){\r\n            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n        }\r\n        function _registerEffectsInterface(effects){\r\n            _thisLayerFunction.effect = effects;\r\n        }\r\n\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Root Vectors Group\":\r\n                case \"Contents\":\r\n                case 2:\r\n                    return _thisLayerFunction.shapeInterface;\r\n                case 1:\r\n                case 6:\r\n                case \"Transform\":\r\n                case \"transform\":\r\n                case \"ADBE Transform Group\":\r\n                    return transformInterface;\r\n                case 4:\r\n                case \"ADBE Effect Parade\":\r\n                case \"effects\":\r\n                case \"Effects\":\r\n                    return _thisLayerFunction.effect;\r\n                case \"ADBE Text Properties\":\r\n                    return _thisLayerFunction.textInterface;\r\n            }\r\n        }\r\n        _thisLayerFunction.toWorld = toWorld;\r\n        _thisLayerFunction.fromWorld = fromWorld;\r\n        _thisLayerFunction.toComp = toWorld;\r\n        _thisLayerFunction.fromComp = fromComp;\r\n        _thisLayerFunction.sampleImage = sampleImage;\r\n        _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n        _thisLayerFunction._elem = elem;\r\n        transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n        var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n        Object.defineProperties(_thisLayerFunction,{\r\n            hasParent: {\r\n                get: function(){\r\n                    return elem.hierarchy.length;\r\n                }\r\n            },\r\n            parent: {\r\n                get: function(){\r\n                    return elem.hierarchy[0].layerInterface;\r\n                }\r\n            },\r\n            rotation: getDescriptor(transformInterface, 'rotation'),\r\n            scale: getDescriptor(transformInterface, 'scale'),\r\n            position: getDescriptor(transformInterface, 'position'),\r\n            opacity: getDescriptor(transformInterface, 'opacity'),\r\n            anchorPoint: anchorPointDescriptor,\r\n            anchor_point: anchorPointDescriptor,\r\n            transform: {\r\n                get: function () {\r\n                    return transformInterface;\r\n                }\r\n            },\r\n            active: {\r\n                get: function(){\r\n                    return elem.isInRange;\r\n                }\r\n            }\r\n        });\r\n\r\n        _thisLayerFunction.startTime = elem.data.st;\r\n        _thisLayerFunction.index = elem.data.ind;\r\n        _thisLayerFunction.source = elem.data.refId;\r\n        _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n        _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n        _thisLayerFunction.inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction.outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction._name = elem.data.nm;\r\n\r\n        _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n        _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\n\r\nvar CompExpressionInterface = (function () {\r\n    return function(comp) {\r\n        function _thisLayerFunction(name) {\r\n            var i = 0, len = comp.layers.length;\r\n            while ( i < len) {\r\n                if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n                    return comp.elements[i].layerInterface;\r\n                }\r\n                i += 1;\r\n            }\r\n            return null;\r\n            //return {active:false};\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"_name\", { value: comp.data.nm });\r\n        _thisLayerFunction.layer = _thisLayerFunction;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n        _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n        _thisLayerFunction.displayStartTime = 0;\r\n        _thisLayerFunction.numLayers = comp.layers.length;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar TransformExpressionInterface = (function (){\r\n    return function(transform){\r\n        function _thisFunction(name){\r\n            switch(name){\r\n                case \"scale\":\r\n                case \"Scale\":\r\n                case \"ADBE Scale\":\r\n                case 6:\r\n                    return _thisFunction.scale;\r\n                case \"rotation\":\r\n                case \"Rotation\":\r\n                case \"ADBE Rotation\":\r\n                case \"ADBE Rotate Z\":\r\n                case 10:\r\n                    return _thisFunction.rotation;\r\n                case \"ADBE Rotate X\":\r\n                    return _thisFunction.xRotation;\r\n                case \"ADBE Rotate Y\":\r\n                    return _thisFunction.yRotation;\r\n                case \"position\":\r\n                case \"Position\":\r\n                case \"ADBE Position\":\r\n                case 2:\r\n                    return _thisFunction.position;\r\n                case 'ADBE Position_0':\r\n                    return _thisFunction.xPosition;\r\n                case 'ADBE Position_1':\r\n                    return _thisFunction.yPosition;\r\n                case 'ADBE Position_2':\r\n                    return _thisFunction.zPosition;\r\n                case \"anchorPoint\":\r\n                case \"AnchorPoint\":\r\n                case \"Anchor Point\":\r\n                case \"ADBE AnchorPoint\":\r\n                case 1:\r\n                    return _thisFunction.anchorPoint;\r\n                case \"opacity\":\r\n                case \"Opacity\":\r\n                case 11:\r\n                    return _thisFunction.opacity;\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(_thisFunction, \"rotation\", {\r\n            get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rx)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yRotation\", {\r\n            get: ExpressionPropertyInterface(transform.ry)\r\n        });\r\n        Object.defineProperty(_thisFunction, \"scale\", {\r\n            get: ExpressionPropertyInterface(transform.s)\r\n        });\r\n\r\n        if(transform.p) {\r\n            var _transformFactory = ExpressionPropertyInterface(transform.p);\r\n        } else {\r\n            var _px = ExpressionPropertyInterface(transform.px);\r\n            var _py = ExpressionPropertyInterface(transform.py);\r\n            var _pz;\r\n            if (transform.pz) {\r\n                _pz = ExpressionPropertyInterface(transform.pz);\r\n            }\r\n        }\r\n        Object.defineProperty(_thisFunction, \"position\", {\r\n            get: function () {\r\n                if(transform.p) {\r\n                    return _transformFactory();\r\n                } else {\r\n                    return [\r\n                        _px(),\r\n                        _py(),\r\n                        _pz ? _pz() : 0];\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xPosition\", {\r\n            get: ExpressionPropertyInterface(transform.px)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yPosition\", {\r\n            get: ExpressionPropertyInterface(transform.py)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zPosition\", {\r\n            get: ExpressionPropertyInterface(transform.pz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"anchorPoint\", {\r\n            get: ExpressionPropertyInterface(transform.a)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"opacity\", {\r\n            get: ExpressionPropertyInterface(transform.o)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skew\", {\r\n            get: ExpressionPropertyInterface(transform.sk)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skewAxis\", {\r\n            get: ExpressionPropertyInterface(transform.sa)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"orientation\", {\r\n            get: ExpressionPropertyInterface(transform.or)\r\n        });\r\n\r\n        return _thisFunction;\r\n    };\r\n}());\r\nvar ProjectInterface = (function (){\r\n\r\n    function registerComposition(comp){\r\n        this.compositions.push(comp);\r\n    }\r\n\r\n    return function(){\r\n        function _thisProjectFunction(name){\r\n            var i = 0, len = this.compositions.length;\r\n            while(i<len){\r\n                if(this.compositions[i].data && this.compositions[i].data.nm === name){\r\n                    if(this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n                        this.compositions[i].prepareFrame(this.currentFrame);\r\n                    }\r\n                    return this.compositions[i].compInterface;\r\n                }\r\n                i+=1;\r\n            }\r\n        }\r\n\r\n        _thisProjectFunction.compositions = [];\r\n        _thisProjectFunction.currentFrame = 0;\r\n\r\n        _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n\r\n\r\n        return _thisProjectFunction;\r\n    };\r\n}());\r\nvar EffectsExpressionInterface = (function (){\r\n    var ob = {\r\n        createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup){\r\n        if(elem.effectsManager){\r\n\r\n            var effectElements = [];\r\n            var effectsData = elem.data.ef;\r\n            var i, len = elem.effectsManager.effectElements.length;\r\n            for(i=0;i<len;i+=1){\r\n                effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));\r\n            }\r\n\r\n            var effects = elem.data.ef || [];\r\n            var groupInterface = function(name){\r\n                i = 0, len = effects.length;\r\n                while(i<len) {\r\n                    if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                        return effectElements[i];\r\n                    }\r\n                    i += 1;\r\n                }\r\n            };\r\n            Object.defineProperty(groupInterface, 'numProperties', {\r\n                get: function(){\r\n                    return effects.length;\r\n                }\r\n            });\r\n            return groupInterface\r\n        }\r\n    }\r\n\r\n    function createGroupInterface(data,elements, propertyGroup, elem){\r\n\r\n        function groupInterface(name){\r\n            var effects = data.ef, i = 0, len = effects.length;\r\n            while(i<len) {\r\n                if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                    if(effects[i].ty === 5){\r\n                        return effectElements[i];\r\n                    } else {\r\n                        return effectElements[i]();\r\n                    }\r\n                }\r\n                i += 1;\r\n            }\r\n            throw new Error();\r\n        };\r\n        var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n        var effectElements = [];\r\n        var i, len = data.ef.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(data.ef[i].ty === 5){\r\n                effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup, elem));\r\n            } else {\r\n                effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty, elem, _propertyGroup));\r\n            }\r\n        }\r\n\r\n        if(data.mn === 'ADBE Color Control'){\r\n            Object.defineProperty(groupInterface, 'color', {\r\n                get: function(){\r\n                    return effectElements[0]();\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperties(groupInterface, {\r\n            numProperties: {\r\n                get: function(){\r\n                    return data.np;\r\n                }\r\n            },\r\n            _name: { value: data.nm },\r\n            propertyGroup: {value: _propertyGroup},\r\n        });\r\n        groupInterface.active = groupInterface.enabled = data.en !== 0;\r\n        return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup){\r\n        var expressionProperty = ExpressionPropertyInterface(element.p);\r\n        function interfaceFunction(){\r\n            if(type === 10){\r\n                return elem.comp.compInterface(element.p.v);\r\n            }\r\n            return expressionProperty();\r\n        }\r\n\r\n        if(element.p.setGroupProperty) {\r\n            element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n        }\r\n\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n\r\n}());\r\nvar MaskManagerInterface = (function(){\r\n\r\n\tfunction MaskInterface(mask, data){\r\n\t\tthis._mask = mask;\r\n\t\tthis._data = data;\r\n\t}\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n        get: function(){\r\n            if(this._mask.prop.k){\r\n                this._mask.prop.getValue();\r\n            }\r\n            return this._mask.prop;\r\n        }\r\n    });\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n        get: function(){\r\n            if(this._mask.op.k){\r\n                this._mask.op.getValue();\r\n            }\r\n            return this._mask.op.v * 100;\r\n        }\r\n    });\r\n\r\n\tvar MaskManager = function(maskManager, elem){\r\n\t\tvar _maskManager = maskManager;\r\n\t\tvar _elem = elem;\r\n\t\tvar _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\t\tvar i, len = maskManager.viewData.length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t_masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n\t\t}\r\n\r\n\t\tvar maskFunction = function(name){\r\n\t\t\ti = 0;\r\n\t\t    while(i<len){\r\n\t\t        if(maskManager.masksProperties[i].nm === name){\r\n\t\t            return _masksInterfaces[i];\r\n\t\t        }\r\n\t\t        i += 1;\r\n\t\t    }\r\n\t\t};\r\n\t\treturn maskFunction;\r\n\t};\r\n\treturn MaskManager;\r\n}());\r\n\r\nvar ExpressionPropertyInterface = (function() {\r\n\r\n    var defaultUnidimensionalValue = {pv:0, v:0, mult: 1}\r\n    var defaultMultidimensionalValue = {pv:[0,0,0], v:[0,0,0], mult: 1}\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n        Object.defineProperty(expressionValue, 'velocity', {\r\n            get: function(){\r\n                return property.getVelocityAtTime(property.comp.currentFrame);\r\n            }\r\n        });\r\n        expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n        expressionValue.key = function(pos) {\r\n            if (!expressionValue.numKeys) {\r\n                return 0;\r\n            } else {\r\n                var value = '';\r\n                if ('s' in property.keyframes[pos-1]) {\r\n                    value = property.keyframes[pos-1].s;\r\n                } else if ('e' in property.keyframes[pos-2]) {\r\n                    value = property.keyframes[pos-2].e;\r\n                } else {\r\n                    value = property.keyframes[pos-2].s;\r\n                }\r\n                var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value);\r\n                valueProp.time = property.keyframes[pos-1].t / property.elem.comp.globalData.frameRate;\r\n                valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n                return valueProp;\r\n            }\r\n        };\r\n        expressionValue.valueAtTime = property.getValueAtTime;\r\n        expressionValue.speedAtTime = property.getSpeedAtTime;\r\n        expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n        expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultUnidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var val = property.pv * mult;\r\n        var expressionValue = new Number(val);\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            val = property.v * mult;\r\n            if(expressionValue.value !== val) {\r\n                expressionValue = new Number(val);\r\n                expressionValue.value = val;\r\n                completeProperty(expressionValue, property, 'unidimensional');\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultMultidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var len = property.pv.length;\r\n        var expressionValue = createTypedArray('float32', len);\r\n        var arrValue = createTypedArray('float32', len);\r\n        expressionValue.value = arrValue;\r\n        completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            for (var i = 0; i < len; i += 1) {\r\n                expressionValue[i] = arrValue[i] = property.v[i] * mult;\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    //TODO: try to avoid using this getter\r\n    function defaultGetter() {\r\n        return defaultUnidimensionalValue;\r\n    }\r\n    \r\n    return function(property) {\r\n        if(!property) {\r\n            return defaultGetter;\r\n        } else if (property.propType === 'unidimensional') {\r\n            return UnidimensionalPropertyInterface(property);\r\n        } else {\r\n            return MultidimensionalPropertyInterface(property);\r\n        }\r\n    }\r\n}());\r\n\r\n(function(){\r\n\r\n    var TextExpressionSelectorProp = (function(){\r\n\r\n        function getValueProxy(index,total){\r\n            this.textIndex = index+1;\r\n            this.textTotal = total;\r\n            this.v = this.getValue() * this.mult;\r\n            return this.v;\r\n        }\r\n\r\n        return function TextExpressionSelectorProp(elem,data){\r\n            this.pv = 1;\r\n            this.comp = elem.comp;\r\n            this.elem = elem;\r\n            this.mult = 0.01;\r\n            this.propType = 'textSelector';\r\n            this.textTotal = data.totalChars;\r\n            this.selectorValue = 100;\r\n            this.lastValue = [1,1,1];\r\n            this.k = true;\r\n            this.x = true;\r\n            this.getValue = ExpressionManager.initiateExpression.bind(this)(elem,data,this);\r\n            this.getMult = getValueProxy;\r\n            this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n            if(this.kf){\r\n                this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n            } else {\r\n                this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n            }\r\n            this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        };\r\n    }());\r\n\r\n\tvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n\tTextSelectorProp.getTextSelectorProp = function(elem, data,arr){\r\n\t    if(data.t === 1){\r\n\t        return new TextExpressionSelectorProp(elem, data,arr);\r\n\t    } else {\r\n\t        return propertyGetTextProp(elem,data,arr);\r\n\t    }\r\n\t};\r\n}());\r\nfunction SliderEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction AngleEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction ColorEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction PointEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction LayerIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction MaskIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction CheckboxEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction NoValueEffect(){\r\n    this.p = {};\r\n}\r\nfunction EffectsManager(){}\r\nfunction EffectsManager(data,element){\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i,len = effects.length;\r\n    var effectItem;\r\n    for(i=0;i<len;i++) {\r\n        effectItem = new GroupEffect(effects[i],element);\r\n        this.effectElements.push(effectItem);\r\n    }\r\n}\r\n\r\nfunction GroupEffect(data,element){\r\n    this.init(data,element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function(data,element){\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i, len = this.data.ef.length;\r\n    var eff, effects = this.data.ef;\r\n    for(i=0;i<len;i+=1){\r\n        eff = null;\r\n        switch(effects[i].ty){\r\n            case 0:\r\n                eff = new SliderEffect(effects[i],element,this);\r\n                break;\r\n            case 1:\r\n                eff = new AngleEffect(effects[i],element,this);\r\n                break;\r\n            case 2:\r\n                eff = new ColorEffect(effects[i],element,this);\r\n                break;\r\n            case 3:\r\n                eff = new PointEffect(effects[i],element,this);\r\n                break;\r\n            case 4:\r\n            case 7:\r\n                eff = new CheckboxEffect(effects[i],element,this);\r\n                break;\r\n            case 10:\r\n                eff = new LayerIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 11:\r\n                eff = new MaskIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 5:\r\n                eff = new EffectsManager(effects[i],element,this);\r\n                break;\r\n            //case 6:\r\n            default:\r\n                eff = new NoValueEffect(effects[i],element,this);\r\n                break;\r\n        }\r\n        if(eff) {\r\n            this.effectElements.push(eff);\r\n        }\r\n    }\r\n};\r\n\r\nvar lottie = {};\r\n\r\nvar _isFrozen = false;\r\n\r\nfunction setLocationHref (href) {\r\n    locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n    if (standalone === true) {\r\n        animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n        animationManager.searchAnimations();\r\n    }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n    subframeEnabled = flag;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n    if (standalone === true) {\r\n        params.animationData = JSON.parse(animationData);\r\n    }\r\n    return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n    if (typeof value === 'string') {\r\n        switch (value) {\r\n            case 'high':\r\n                defaultCurveSegments = 200;\r\n                break;\r\n            case 'medium':\r\n                defaultCurveSegments = 50;\r\n                break;\r\n            case 'low':\r\n                defaultCurveSegments = 10;\r\n                break;\r\n        }\r\n    } else if (!isNaN(value) && value > 1) {\r\n        defaultCurveSegments = value;\r\n    }\r\n    if (defaultCurveSegments >= 50) {\r\n        roundValues(false);\r\n    } else {\r\n        roundValues(true);\r\n    }\r\n}\r\n\r\nfunction inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n        expressionsPlugin = plugin;\r\n    }\r\n}\r\n\r\nfunction getFactory(name) {\r\n    switch (name) {\r\n        case \"propertyFactory\":\r\n            return PropertyFactory;\r\n        case \"shapePropertyFactory\":\r\n            return ShapePropertyFactory;\r\n        case \"matrix\":\r\n            return Matrix;\r\n    }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n//lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.3';\r\n\r\nfunction checkReady() {\r\n    if (document.readyState === \"complete\") {\r\n        clearInterval(readyStateCheckInterval);\r\n        searchAnimations();\r\n    }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n    for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split('=');\r\n        if (decodeURIComponent(pair[0]) == variable) {\r\n            return decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nif (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n        src: ''\r\n    };\r\n    var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\r\n    renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","import { CoreAnimator } from '../core.animator.js';\r\nimport { $ } from '../../utilities/$.utility.js';\r\nexport class AnimationFactory {\r\n    constructor(thisArg) {\r\n        this.ctx = thisArg;\r\n    }\r\n    create(options) {\r\n        const baseObject = {\r\n            type: undefined,\r\n            index: undefined,\r\n            data: undefined,\r\n            ...options,\r\n        };\r\n        const baseItemsObject = {\r\n            __caller: this.ctx.constructor,\r\n            __container: options.type === 'null' || options.type === 'meta' ? null : this.createAndReturnNewContainerDom(options),\r\n            __framesBeforeCurrent: this.ctx.getTotalFramesBeforeIndex(options.index || 0),\r\n            uid: Math.round(performance.now()).toString(),\r\n            domContent: null,\r\n            offset: 0,\r\n            disabled: false,\r\n            object: {},\r\n            respectDevicePixelRatio: true,\r\n            totalFrames: null,\r\n            bezier: [0, 0, 1, 1],\r\n            height: {\r\n                maximum: null,\r\n                minimum: null,\r\n            },\r\n            width: {\r\n                maximum: null,\r\n                minimum: null,\r\n            },\r\n            onFrame: () => { },\r\n            onVisible: () => { },\r\n            onHidden: () => { },\r\n            onRedraw: () => { },\r\n            ...options.items,\r\n        };\r\n        return {\r\n            ...baseObject,\r\n            items: baseItemsObject,\r\n        };\r\n    }\r\n    createAndReturnNewContainerDom(animationObject) {\r\n        const animatorContainer = $(document.createElement('div'));\r\n        animatorContainer.addClass([\r\n            CoreAnimator.PREFIX,\r\n            'container',\r\n            Math.round(performance.now()).toString(),\r\n        ]);\r\n        if (animationObject\r\n            .items\r\n            .invert === true) {\r\n            animatorContainer.addClass('invert');\r\n        }\r\n        this.ctx.activate(animatorContainer);\r\n        this.ctx.animatorContainersWrapper.appendChild(animatorContainer);\r\n        this.ctx.animatorContainers.push(animatorContainer);\r\n        return animatorContainer;\r\n    }\r\n}\r\n//# sourceMappingURL=animation.factory.js.map","import lottie from 'lottie-web/build/player/lottie_canvas';\r\nimport { CoreAnimator } from '../../animators.js';\r\nimport { $ } from '../../utilities/$.utility.js';\r\nexport class LottieFactory {\r\n    constructor(thisArg) {\r\n        this.ctx = thisArg;\r\n    }\r\n    async create(animationObject) {\r\n        const className = animationObject.items.uid;\r\n        const animation = lottie.loadAnimation({\r\n            container: animationObject.items.__container,\r\n            renderer: 'canvas',\r\n            loop: true,\r\n            autoplay: true,\r\n            animationData: animationObject.data,\r\n            rendererSettings: {\r\n                dpr: animationObject.items.respectDevicePixelRatio === false\r\n                    ? 1\r\n                    : this.ctx.dpr * this.ctx.resolutionMultiplier,\r\n                preserveAspectRatio: 'xMidYMid slice',\r\n                className: `${CoreAnimator.PREFIX} ${className} hidden`,\r\n            },\r\n        });\r\n        if (!animation) {\r\n            await new Promise((resolve) => $(animation).on('DOMLoaded', () => resolve));\r\n        }\r\n        const domContent = $(`.${className}`);\r\n        const totalFrames = (animationObject.items.totalFrames\r\n            || animation.getDuration(true));\r\n        const onFrame = (animationItem, frame) => {\r\n            animationItem\r\n                .items\r\n                .object\r\n                .lottie\r\n                .animation\r\n                .goToAndStop(frame, true);\r\n        };\r\n        const lottieObject = {\r\n            animation,\r\n            totalFrames,\r\n            domContent,\r\n            onFrame,\r\n        };\r\n        lottieObject.animation.goToAndStop(-1, true);\r\n        this.onLottieObjectCreated(lottieObject);\r\n        return lottieObject;\r\n    }\r\n    onLottieObjectCreated(lottieObject) {\r\n        const lottieObjectDom = lottieObject.domContent;\r\n        lottieObjectDom.css({\r\n            width: '',\r\n            height: '',\r\n            position: 'absolute',\r\n        });\r\n        lottieObjectDom.width = 1;\r\n        lottieObjectDom.height = 1;\r\n    }\r\n}\r\n//# sourceMappingURL=lottie.factory.js.map","import { CoreAnimator } from '../../animators.js';\r\nimport { $ } from '../../utilities.js';\r\nexport class SolidFactory {\r\n    constructor(thisArg) {\r\n        this.ctx = thisArg;\r\n    }\r\n    async create(animationObject) {\r\n        const { uid, __container, } = animationObject.items;\r\n        const className = uid;\r\n        const domContent = this.createAndReturnDomContent(className);\r\n        __container.appendChild(domContent);\r\n        const solidObject = {\r\n            domContent,\r\n        };\r\n        return solidObject;\r\n    }\r\n    createAndReturnDomContent(className) {\r\n        const domContent = $(document.createElement('div'));\r\n        domContent.css({\r\n            width: '100vw',\r\n            height: '100vh',\r\n            background: 'white',\r\n            position: 'absolute',\r\n        });\r\n        domContent.addClass([\r\n            CoreAnimator.PREFIX,\r\n            'solid',\r\n            className,\r\n            'hidden',\r\n        ]);\r\n        return domContent;\r\n    }\r\n}\r\n//# sourceMappingURL=solid.factory.js.map","import lottie from 'lottie-web/build/player/lottie_canvas';\r\nimport { LottieFactory, SolidFactory, AnimationFactory, } from '../animators.factories';\r\nimport { WindowUtility } from '../utilities/window.utility';\r\nimport { $ } from '../utilities/$.utility';\r\nimport { BezierUtility } from '../utilities/bezier.utility';\r\nexport class CoreAnimator {\r\n    constructor() {\r\n        this.mWindowUtility = new WindowUtility();\r\n        this.uid = Math.round(performance.now()).toString();\r\n        this.currentFrame = 0;\r\n        this.totalFrames = 0;\r\n        this.animations = [];\r\n        this.metaAnimations = [];\r\n        this.animatorContainers = [];\r\n        this.__animatorContainersWrapper = null;\r\n        this.visibleAnimations = [];\r\n        this.dpr = Math.max(window.devicePixelRatio / 2, 1);\r\n        this.resolutionMultiplier = 1;\r\n        this.rafId = null;\r\n        this.maxAttributeCache = {};\r\n        this.minAttributeCache = {};\r\n        $(window).on('load resize', () => window.requestAnimationFrame(() => {\r\n            this.onWindowResize.call(this);\r\n            if (this.visibleAnimations !== null) {\r\n                this.visibleAnimations.forEach((animation) => {\r\n                    animation.items.onRedraw.call(this, animation);\r\n                });\r\n            }\r\n        }));\r\n    }\r\n    get animatorContainersWrapper() {\r\n        if (this.__animatorContainersWrapper) {\r\n            return this.__animatorContainersWrapper;\r\n        }\r\n        this.__animatorContainersWrapper = $(document.createElement('div'));\r\n        this.__animatorContainersWrapper.addClass([\r\n            CoreAnimator.PREFIX,\r\n            'containersWrapper',\r\n            this.uid,\r\n            'height',\r\n        ]);\r\n        this.activate(this.__animatorContainersWrapper);\r\n        $('.painting').appendChild(this.__animatorContainersWrapper);\r\n        return this.__animatorContainersWrapper;\r\n    }\r\n    async add(animationToBeConstructed) {\r\n        const mAnimationFactory = new AnimationFactory(this);\r\n        const animationObject = mAnimationFactory.create(animationToBeConstructed);\r\n        const { type, index, items, } = animationObject;\r\n        let lottieObject = null;\r\n        let solidObject = null;\r\n        switch (type) {\r\n            case 'null':\r\n                break;\r\n            case 'meta':\r\n                break;\r\n            case 'solid':\r\n                solidObject = await (new SolidFactory(this)).create(animationObject);\r\n                animationObject.items = {\r\n                    ...items,\r\n                    domContent: solidObject.domContent,\r\n                };\r\n                break;\r\n            case 'lottie':\r\n                lottieObject = await (new LottieFactory(this)).create(animationObject);\r\n                animationObject.items = {\r\n                    ...items,\r\n                    totalFrames: lottieObject.totalFrames,\r\n                    domContent: lottieObject.domContent,\r\n                    onFrame: (animationItem, frame) => {\r\n                        lottieObject.onFrame(animationItem, frame);\r\n                        items.onFrame(animationItem, frame);\r\n                    },\r\n                    onRedraw: (animationItem) => {\r\n                        this.onRedraw(animationItem);\r\n                        items.onRedraw(animationItem);\r\n                    },\r\n                    object: {\r\n                        lottie: lottieObject,\r\n                    },\r\n                };\r\n                break;\r\n            default:\r\n        }\r\n        switch (true) {\r\n            case type === 'meta':\r\n                this.metaAnimations.push(animationObject);\r\n                break;\r\n            case index === null:\r\n                // add to the end of the array\r\n                this.animations.push([animationObject]);\r\n                break;\r\n            case this.animations[index] === undefined:\r\n                // add a nested array to the index\r\n                this.animations[index] = [animationObject];\r\n                break;\r\n            case this.animations[index].constructor === Array:\r\n                // add to the nested array at the index\r\n                this.animations[index].push(animationObject);\r\n                break;\r\n            default:\r\n        }\r\n        // add up the 'totalFrames' of every animation\r\n        this.totalFrames = this.getMaxAttributeFromAnimationsItems('totalFrames', this.animations)\r\n            .reduce((accumulator, currentValue) => currentValue + accumulator, 0);\r\n        this.onAdd(animationObject);\r\n        return animationObject;\r\n    }\r\n    onAdd(animation) {\r\n        this.onNewAnimation(animation);\r\n        // to be overriden\r\n    }\r\n    getRelativeFrame(frame) {\r\n        return frame * this.totalFrames;\r\n    }\r\n    async rawAnimate(items, callback) {\r\n        const { from, to, options: { fps = 120, speed = 1, } = {}, } = items;\r\n        const inverted = to < from;\r\n        const processedFrom = inverted ? to : from;\r\n        const processedTo = inverted ? from : to;\r\n        if (items.options === undefined) {\r\n            return this.rawAnimate({\r\n                from: processedFrom,\r\n                to: processedTo,\r\n                options: {},\r\n            }, callback);\r\n        }\r\n        if (processedFrom === processedTo) {\r\n            callback(processedTo);\r\n            return new Promise((resolve) => resolve());\r\n        }\r\n        if (this.rafId !== null) {\r\n            cancelAnimationFrame(this.rafId);\r\n        }\r\n        return new Promise((resolve) => {\r\n            let i = processedFrom;\r\n            const step = () => {\r\n                callback(inverted ? processedTo - i : i);\r\n                if (i >= processedTo) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                i += (1 * speed) * (fps / 60);\r\n                this.rafId = window.requestAnimationFrame(step);\r\n            };\r\n            this.rafId = window.requestAnimationFrame(step);\r\n        });\r\n    }\r\n    onNewAnimation(animation) {\r\n        const { onRedraw, domContent, } = animation.items;\r\n        if (domContent !== null) {\r\n            this.hide(domContent);\r\n        }\r\n        onRedraw(animation);\r\n        this.onWindowResize();\r\n        this.visibleAnimations = null;\r\n        this.onFrame(this.currentFrame);\r\n    }\r\n    onWindowResize() {\r\n        if (this.animatorContainers.length < 1) {\r\n            return;\r\n        }\r\n        const viewportHeight = WindowUtility.viewport.height;\r\n        const innerHeight = WindowUtility.inner.height;\r\n        if (viewportHeight === innerHeight) {\r\n            this.animatorContainersWrapper.removeClass('innerCenter');\r\n        }\r\n        else {\r\n            this.animatorContainersWrapper.addClass('innerCenter');\r\n        }\r\n        this.animatorContainers.fastEach((animatorContainer, i) => {\r\n            if (!(this.animations\r\n                && this.animations[i])) {\r\n                return;\r\n            }\r\n            this.animations.fastEach((workingAnimations) => {\r\n                workingAnimations.fastEach((workingAnimation) => {\r\n                    const { __container, width, height, } = workingAnimation.items;\r\n                    if (!__container) {\r\n                        return;\r\n                    }\r\n                    let workingWidth = null;\r\n                    let workingHeight = null;\r\n                    workingWidth = getValueWithinRange({\r\n                        minimum: width.minimum,\r\n                        maximum: width.maximum,\r\n                        value: WindowUtility.inner.width,\r\n                    });\r\n                    workingHeight = getValueWithinRange({\r\n                        minimum: height.minimum,\r\n                        maximum: height.maximum,\r\n                        value: WindowUtility.inner.height,\r\n                    });\r\n                    __container.css('width', workingWidth == null\r\n                        ? ''\r\n                        : workingWidth);\r\n                    __container.css('height', workingHeight === null\r\n                        ? ''\r\n                        : workingHeight);\r\n                });\r\n            });\r\n        });\r\n        // lottie.resize might throw reference error\r\n        try {\r\n            lottie.resize();\r\n        }\r\n        catch (err) {\r\n            //\r\n        }\r\n        function getValueWithinRange({ minimum, maximum, value, }) {\r\n            if (minimum === null\r\n                || maximum === null) {\r\n                return null;\r\n            }\r\n            let workingAttributeValue = null;\r\n            if (maximum) {\r\n                workingAttributeValue = Math.min(value, maximum);\r\n            }\r\n            if (minimum) {\r\n                workingAttributeValue = Math.max(value, minimum);\r\n            }\r\n            return workingAttributeValue;\r\n        }\r\n    }\r\n    onRedraw(animation) {\r\n        const { respectDevicePixelRatio, object, domContent, } = animation.items;\r\n        if (!object.lottie) {\r\n            return;\r\n        }\r\n        const lottieObjectDom = domContent;\r\n        if (respectDevicePixelRatio !== false) {\r\n            const lottieObjectContainersWrapperWidth = this.animatorContainersWrapper.clientWidth;\r\n            const lottieObjectContainersWrapperHeight = this.animatorContainersWrapper.clientHeight;\r\n            const lottieObjectWidth = parseFloat(lottieObjectDom.css('width', { computed: true })) / this.resolutionMultiplier;\r\n            const lottieObjectHeight = parseFloat(lottieObjectDom.css('height', { computed: true })) / this.resolutionMultiplier;\r\n            const offsetWidth = -(lottieObjectWidth - lottieObjectContainersWrapperWidth) / 2;\r\n            const offsetHeight = -(lottieObjectHeight - lottieObjectContainersWrapperHeight) / 2;\r\n            lottieObjectDom.css({\r\n                transform: `translate(${offsetWidth}px, ${offsetHeight}px) scale(${1 / this.resolutionMultiplier})`,\r\n            });\r\n        }\r\n    }\r\n    onFrame(frame) {\r\n        if (!(this.animations.length > 0)) {\r\n            return;\r\n        }\r\n        let animationIndex = null;\r\n        let currentAnimationsTotalFrames = null;\r\n        let workingAnimations = [];\r\n        const uids = [];\r\n        // TODO: optimize below code, use caching or something\r\n        if (frame <= 0) {\r\n            animationIndex = -1;\r\n            currentAnimationsTotalFrames = 0;\r\n            workingAnimations = this.animations[-1];\r\n        }\r\n        else {\r\n            // get an array of the 'totalFrames' of every animation,\r\n            // and then find the total frames and the index of the current animation\r\n            const animationTotalFrames = this.getMaxAttributeFromAnimationsItems('totalFrames', this.animations);\r\n            animationTotalFrames.reduce((accumulated, currentValue, i) => {\r\n                const accumulating = currentValue + accumulated;\r\n                // if the current accumulated value is more than the frame,\r\n                // it means that we've overshot and the previous index is the current animation\r\n                if (accumulating > frame\r\n                    // if i is the last index in the array,\r\n                    // we cut straight to it so it won't overshoot again and surpass this.animations\r\n                    // because the accumulating amount won't exeed the frame\r\n                    || i === animationTotalFrames.length - 1) {\r\n                    if (animationIndex === null) {\r\n                        animationIndex = i;\r\n                        currentAnimationsTotalFrames = currentValue + accumulated;\r\n                    }\r\n                    return 0;\r\n                }\r\n                // not there yet, continue accumulating\r\n                return accumulating;\r\n            }, 0);\r\n            workingAnimations = this.animations[animationIndex];\r\n        }\r\n        if (!workingAnimations) {\r\n            return;\r\n        }\r\n        const maxOffset = Math.max(...this.getMaxAttributeFromAnimationsItems('offset', [workingAnimations]));\r\n        const minOffset = Math.min(...this.getMinAttributeFromAnimationsItems('offset', [workingAnimations]));\r\n        workingAnimations.fastEach((workingAnimation) => {\r\n            const { __caller, __framesBeforeCurrent, uid, totalFrames, onFrame, offset, bezier, } = workingAnimation.items;\r\n            // slightly faster sometimes than Array.push() https://jsben.ch/gO5B7\r\n            uids[uids.length] = uid;\r\n            const mBezierUtility = new BezierUtility(bezier[0], bezier[1], bezier[2], bezier[3]);\r\n            const globalFrame = frame;\r\n            // todo: add support for mixing -ve and +ve offsets in one instance\r\n            let localFrame = mBezierUtility.getValue(Math.max(Math.min((((globalFrame\r\n                - __framesBeforeCurrent) + offset)\r\n                / ((currentAnimationsTotalFrames\r\n                    - __framesBeforeCurrent\r\n                // conditions below are for support of negative offsets\r\n                ) - (maxOffset || Math.abs(minOffset)) + (maxOffset && offset))), 1), 0))\r\n                * totalFrames;\r\n            localFrame = Number.isNaN(localFrame) ? totalFrames : localFrame;\r\n            if (window.DEBUG === true\r\n                && __caller.name !== 'FrameAnimator') {\r\n                console.log('frame', frame);\r\n                console.log('__caller', __caller.name);\r\n                console.log('workingAnimation', workingAnimation);\r\n                console.log('globalFrame', globalFrame);\r\n                console.log('animationIndex', animationIndex);\r\n                console.log('localFrame', localFrame);\r\n                console.log('currentAnimationsTotalFrames', currentAnimationsTotalFrames);\r\n                console.log('this.visibleAnimations', this.visibleAnimations);\r\n                console.log('this.animations', this.animations);\r\n                console.log('this.totalFrames', this.totalFrames);\r\n                console.log('');\r\n            }\r\n            this.currentFrame = frame;\r\n            this.onVisibleAnimationsChange(workingAnimations);\r\n            onFrame(workingAnimation, localFrame);\r\n        });\r\n        this.metaAnimations.fastEach((metaAnimation) => {\r\n            const { onFrame, } = metaAnimation.items;\r\n            const __framesBeforeCurrent = this.getTotalFramesBeforeIndex(animationIndex);\r\n            const mAnimationFactory = new AnimationFactory(this);\r\n            const animation = mAnimationFactory.create({\r\n                type: 'meta',\r\n                index: animationIndex,\r\n                items: {\r\n                    uid: uids.join(' '),\r\n                    totalFrames: currentAnimationsTotalFrames\r\n                        - __framesBeforeCurrent,\r\n                },\r\n            });\r\n            onFrame(animation, frame - __framesBeforeCurrent);\r\n        });\r\n    }\r\n    getMaxAttributeFromAnimationsItems(attributeKey, animations) {\r\n        if (this.maxAttributeCache[attributeKey]) {\r\n            return this.maxAttributeCache[attributeKey];\r\n        }\r\n        return animations.map((animation) => Math.max(...animation.map((workingAnimation) => (workingAnimation.items[attributeKey]))));\r\n    }\r\n    getMinAttributeFromAnimationsItems(attributeKey, animations) {\r\n        if (this.minAttributeCache[attributeKey]) {\r\n            return this.minAttributeCache[attributeKey];\r\n        }\r\n        return animations.map((animation) => Math.min(...animation.map((workingAnimation) => (workingAnimation.items[attributeKey]))));\r\n    }\r\n    getTotalFramesBeforeIndex(index) {\r\n        const totalFrames = this.getMaxAttributeFromAnimationsItems('totalFrames', this.animations);\r\n        let previousFrames = null;\r\n        totalFrames.reduce((accumulator, currentValue, i) => {\r\n            if (i >= index) {\r\n                if (previousFrames === null) {\r\n                    previousFrames = accumulator;\r\n                }\r\n                return 0;\r\n            }\r\n            if (i + 1 === index) {\r\n                previousFrames = currentValue + accumulator;\r\n            }\r\n            // not there yet, continue accumulating\r\n            return currentValue + accumulator;\r\n        }, 0);\r\n        return previousFrames;\r\n    }\r\n    onVisibleAnimationsChange(animations) {\r\n        if (this.visibleAnimations === animations) {\r\n            return;\r\n        }\r\n        animations.forEach((animation) => {\r\n            const { onVisible, onRedraw, domContent, } = animation.items;\r\n            onVisible(animation);\r\n            onRedraw(animation);\r\n            if (domContent === null) {\r\n                return;\r\n            }\r\n            this.unhide(domContent);\r\n        });\r\n        if (this.visibleAnimations === null) {\r\n            this.visibleAnimations = animations;\r\n            return;\r\n        }\r\n        if (this.visibleAnimations === animations) {\r\n            return;\r\n        }\r\n        this.visibleAnimations.forEach((visibleAnimation) => {\r\n            const { onHidden, domContent, } = visibleAnimation.items;\r\n            onHidden(visibleAnimation);\r\n            if (domContent === null) {\r\n                return;\r\n            }\r\n            this.hide(domContent);\r\n        });\r\n        this.visibleAnimations = animations;\r\n    }\r\n    seekToUid(targetUid) {\r\n        const handler = (workingAnimations, i) => {\r\n            workingAnimations.fastEach((workingAnimation) => {\r\n                const { uid, } = workingAnimation.items;\r\n                if (uid !== targetUid) {\r\n                    return;\r\n                }\r\n                const frame = this.getTotalFramesBeforeIndex(i + 1);\r\n                this.onSeek(Math.max(frame - 1, 0));\r\n            });\r\n        };\r\n        if (this.animations[-1]) {\r\n            handler(this.animations[-1], -1);\r\n        }\r\n        this.animations.fastEach(handler);\r\n    }\r\n    seekTo(frame) {\r\n        this.onSeek(frame);\r\n        this.onFrame(frame);\r\n    }\r\n    onSeek(frame) {\r\n        this.onFrame(frame);\r\n        // to be overriden\r\n    }\r\n    hide(domElement) {\r\n        return $(domElement).addClass('hidden');\r\n    }\r\n    unhide(domElement) {\r\n        return $(domElement).removeClass('hidden');\r\n    }\r\n    activate(domElement) {\r\n        return $(domElement).addClass('active');\r\n    }\r\n    deactivate(domElement) {\r\n        return $(domElement).removeClass('active');\r\n    }\r\n}\r\nCoreAnimator.PREFIX = '__animate';\r\n//# sourceMappingURL=core.animator.js.map","import { CoreAnimator } from './core.animator';\r\nexport class FrameAnimator extends CoreAnimator {\r\n    async animate(from, to, options = {}) {\r\n        return this.rawAnimate({\r\n            from,\r\n            to,\r\n            options,\r\n        }, (frame) => {\r\n            super.onFrame(frame);\r\n        });\r\n    }\r\n    async repeat(from, to, options = {}) {\r\n        for (;;) {\r\n            await this.animate(from, to, options);\r\n        }\r\n    }\r\n    cancelNextFrame() {\r\n        cancelAnimationFrame(this.rafId);\r\n    }\r\n}\r\n//# sourceMappingURL=frame.animator.js.map","import { CoreAnimator } from './core.animator';\r\nimport { $ } from '../utilities/$.utility';\r\nimport { WindowUtility } from '../utilities/window.utility';\r\nexport class ScrollAnimator extends CoreAnimator {\r\n    constructor() {\r\n        super();\r\n        this.nextOnScrollCancelled = false;\r\n        this.responsibleForLastResize = false;\r\n        $(window).on('scroll', () => window.requestAnimationFrame(() => this.onScroll.call(this)));\r\n    }\r\n    // @Override\r\n    async add(animationToBeConstructed) {\r\n        const result = await super.add(animationToBeConstructed);\r\n        this.onWindowResize();\r\n        this.onScroll();\r\n        return result;\r\n    }\r\n    // @Override\r\n    onWindowResize() {\r\n        super.onWindowResize();\r\n        const windowHeight = WindowUtility.viewport.height;\r\n        const documentHeight = windowHeight * (this.animations.length + 1);\r\n        if (!(documentHeight > (Number.parseInt($(document.body).css('height'), 10) || 0)\r\n            || this.responsibleForLastResize)) {\r\n            this.responsibleForLastResize = false;\r\n            return;\r\n        }\r\n        this.responsibleForLastResize = true;\r\n        $(document.body).css({\r\n            height: documentHeight,\r\n        });\r\n    }\r\n    // @Override\r\n    onSeek(frame) {\r\n        const yOffset = Math.max(Math.ceil((frame / this.totalFrames)\r\n            * (document.body.offsetHeight - WindowUtility.viewport.height)) + 7, 0);\r\n        this.scrollTo({\r\n            left: 0,\r\n            top: yOffset,\r\n            behavior: 'smooth',\r\n        }, () => {\r\n            this.onFrame(frame);\r\n        });\r\n    }\r\n    // @Override\r\n    seekTo(scrollPosition) {\r\n        this.scrollTo({\r\n            left: 0,\r\n            top: scrollPosition,\r\n            behavior: 'smooth',\r\n        }, () => {\r\n            this.onFrame(scrollPosition);\r\n        });\r\n    }\r\n    scrollTo(scrollOptions, callback) {\r\n        const { top = 0, left = 0, behavior, } = scrollOptions;\r\n        const onScroll = () => {\r\n            // floor both values as some browsers support decimals while some don't\r\n            if (Math.floor(window.pageYOffset) === Math.floor(top)\r\n                && Math.floor(window.pageXOffset) === Math.floor(left)) {\r\n                this.nextOnScrollCancelled = true;\r\n                window.removeEventListener('scroll', onScroll);\r\n                if (!callback) {\r\n                    return;\r\n                }\r\n                callback();\r\n            }\r\n        };\r\n        window.addEventListener('scroll', onScroll);\r\n        onScroll();\r\n        window.scrollTo({\r\n            top,\r\n            behavior,\r\n        });\r\n    }\r\n    onScroll() {\r\n        if (this.nextOnScrollCancelled) {\r\n            this.nextOnScrollCancelled = false;\r\n            return;\r\n        }\r\n        const { scrollY } = window;\r\n        const globalFrame = this.getRelativeFrame(scrollY / (Math.min(document.body.scrollHeight, WindowUtility.viewport.height * (this.animations.length + 1))\r\n            - WindowUtility.viewport.height));\r\n        this.onFrame(globalFrame);\r\n    }\r\n}\r\n//# sourceMappingURL=scroll.animator.js.map","import Swiper from 'swiper';\r\nimport { $, $$, WindowUtility } from '../resources/utilities';\r\nimport { FrameAnimator } from '../resources/animators';\r\nexport class TV {\r\n    constructor() {\r\n        this.swiper = null;\r\n        this.screenDomSelector = '.screen';\r\n        this.screenDom = $(this.screenDomSelector);\r\n        this.clickFrameAnimator = new FrameAnimator();\r\n        this.currentOnClickDom = null;\r\n        this.mouseCatcherDom = $('.mouseCatcher');\r\n        this.cachedMousePosition = null;\r\n        this.mouseCatcherScaleResetTimeoutId = null;\r\n        this.mouseCatcherOverrideScale = false;\r\n        this.splashDoms = [];\r\n    }\r\n    async create(docs) {\r\n        $(window).on('resize', () => this.onWindowResize.call(this));\r\n        this.onWindowResize();\r\n        if (document.readyState === 'loading') {\r\n            await new Promise((resolve) => $(window).on('load', resolve));\r\n        }\r\n        this.clickFrameAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames: 30,\r\n                onFrame: (animation, frame) => {\r\n                    const domContent = this.currentOnClickDom;\r\n                    const { totalFrames, } = animation.items;\r\n                    domContent.css({\r\n                        opacity: Math.ceil((totalFrames - frame) / 3) % 4 ? 0 : 1,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        $('.swiper-button-next').on('click', (event) => {\r\n            this.swiper.slideNext();\r\n            this.onClick.call(this, event);\r\n        });\r\n        $('.swiper-button-prev').on('click', (event) => {\r\n            this.swiper.slidePrev();\r\n            this.onClick.call(this, event);\r\n        });\r\n        await this.createChannels(docs);\r\n        this.swiper = this.createSwiper(docs.length);\r\n        this.createTitleClicks();\r\n        if (WindowUtility.isMobile) {\r\n            return;\r\n        }\r\n        this.createMouseChaser();\r\n        this.createSplashParallax();\r\n        $(document).on('mousemove', (event) => this.onMouseMove.call(this, event));\r\n    }\r\n    async createChannels(docs) {\r\n        if (docs.length === 0) {\r\n            $('.pace > .pace-activity').addClass('deactivated');\r\n            return;\r\n        }\r\n        await docs.forAwait(async (doc, i) => {\r\n            const { title, subtitle, splash, markdown, } = doc;\r\n            const wrapperDom = $('.swiper-wrapper');\r\n            const containerDom = $(document.createElement('div'));\r\n            containerDom.addClass([\r\n                'swiper-slide',\r\n                'channel',\r\n                'container',\r\n            ]);\r\n            containerDom.setAttribute('data-swiper-slide-index', i.toString());\r\n            containerDom.setAttribute('data-hash', title.replace(/\\s/g, '_'));\r\n            containerDom.setAttribute('data-markdown-url', markdown);\r\n            const imageDom = $(document.createElement('img'));\r\n            imageDom.addClass([\r\n                'channel',\r\n                'splash',\r\n            ]);\r\n            imageDom.src = splash;\r\n            const titleDom = $(document.createElement('h1'));\r\n            titleDom.addClass([\r\n                'channel',\r\n                'title',\r\n                'white',\r\n            ]);\r\n            titleDom.textContent = title;\r\n            const subtitleDom = $(document.createElement('p'));\r\n            subtitleDom.addClass([\r\n                'channel',\r\n                'subtitle',\r\n                'white',\r\n            ]);\r\n            subtitleDom.textContent = subtitle;\r\n            wrapperDom.appendChild(containerDom);\r\n            containerDom.appendChild(imageDom);\r\n            containerDom.appendChild(titleDom);\r\n            containerDom.appendChild(subtitleDom);\r\n            // activate the container after 100ms for the animation to kick in\r\n            setTimeout(() => this.screenDom.addClass('active'), 100);\r\n            if (!imageDom.complete) {\r\n                imageDom.on('load', () => $('.pace > .pace-activity').addClass('deactivated'));\r\n                return;\r\n            }\r\n            $('.pace > .pace-activity').addClass('deactivated');\r\n        });\r\n    }\r\n    createTitleClicks() {\r\n        $$('.channel.title')\r\n            .fastEach((titleDom) => {\r\n            titleDom.on('click', async (event) => {\r\n                const url = titleDom.parentElement.getAttribute('data-markdown-url');\r\n                await this.onClick.call(this, event);\r\n                this.redirectToMarkdownViewer(url);\r\n            });\r\n        });\r\n    }\r\n    createSplashParallax() {\r\n        this.splashDoms = $$('.channel.container > .splash');\r\n    }\r\n    createSwiper(length) {\r\n        return new Swiper(this.screenDomSelector, {\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n                clickable: true,\r\n            },\r\n            navigation: {\r\n                nextEl: '.swiper-button-next',\r\n                prevEl: '.swiper-button-prev',\r\n            },\r\n            loop: true,\r\n            // if the page was refered with a #, disable autoplay\r\n            autoplay: !(window.location.href.includes('#') || length <= 1) && {\r\n                delay: 5000,\r\n            },\r\n            speed: 500,\r\n            hashNavigation: {\r\n                watchState: true,\r\n            },\r\n        });\r\n    }\r\n    createMouseChaser() {\r\n        this.mouseCatcherDom.removeClass('hidden');\r\n        $$('*').fastEach((node) => node\r\n            .on('mouseenter', (event) => {\r\n            if ($(event.target).css('cursor', { computed: true }) !== 'pointer') {\r\n                this.mouseCatcherOverrideScale = false;\r\n                return;\r\n            }\r\n            this.mouseCatcherOverrideScale = true;\r\n            clearTimeout(this.mouseCatcherScaleResetTimeoutId);\r\n            const magic = 256;\r\n            this.mouseCatcherDom.css({\r\n                margin: `${-magic / 2}px 0px 0px ${-magic / 2}px`,\r\n                height: magic,\r\n                width: magic,\r\n            });\r\n        }));\r\n    }\r\n    redirectToMarkdownViewer(url) {\r\n        let uri = url;\r\n        // narrow down to filename only if possible\r\n        uri = !uri.includes('_') ? uri : uri.replace(/_/g, '__');\r\n        uri = !uri.includes('/') ? uri : uri.replace(/\\//g, '_');\r\n        uri = !uri.includes('.md') ? uri : uri.substr(0, uri.indexOf('.md'));\r\n        window.location.href = `/portfolio#${encodeURIComponent(uri)}`;\r\n    }\r\n    onWindowResize() {\r\n        const viewportHeight = WindowUtility.viewport.height;\r\n        const innerHeight = WindowUtility.inner.height;\r\n        if (viewportHeight === innerHeight) {\r\n            this.screenDom.removeClass('innerCenter');\r\n        }\r\n        else {\r\n            this.screenDom.addClass('innerCenter');\r\n        }\r\n    }\r\n    onMouseMove(event) {\r\n        const { clientX, clientY, } = event;\r\n        if (this.cachedMousePosition === null) {\r\n            this.cachedMousePosition = {\r\n                clientX,\r\n                clientY,\r\n            };\r\n        }\r\n        const { clientX: cachedClientX, clientY: cachedClientY, } = this.cachedMousePosition;\r\n        const unit = 128;\r\n        const differenceX = Math.abs(clientX - cachedClientX);\r\n        const differenceY = Math.abs(clientY - cachedClientY);\r\n        const scaleFactor = 30;\r\n        const magic = Math.max(Math.min(Math.max(differenceX, differenceY) * scaleFactor, unit * 3), unit / 2);\r\n        this.mouseCatcherDom.css({\r\n            left: clientX,\r\n            top: clientY,\r\n            margin: !this.mouseCatcherOverrideScale && `${-magic / 2}px 0px 0px ${-magic / 2}px`,\r\n            height: !this.mouseCatcherOverrideScale && magic,\r\n            width: !this.mouseCatcherOverrideScale && magic,\r\n        });\r\n        this.cachedMousePosition = {\r\n            clientX,\r\n            clientY,\r\n        };\r\n        clearTimeout(this.mouseCatcherScaleResetTimeoutId);\r\n        this.mouseCatcherScaleResetTimeoutId = !this.mouseCatcherOverrideScale && setTimeout(() => {\r\n            this.mouseCatcherDom.css({\r\n                margin: `${-unit / 4}px 0px 0px ${-unit / 4}px`,\r\n                height: unit / 2,\r\n                width: unit / 2,\r\n            });\r\n        }, 500);\r\n        this.splashDoms.fastEach((splashDom) => {\r\n            splashDom.css({\r\n                transform: `translate(${(clientX - WindowUtility.vw(50)) / 10}px, ${(clientY - WindowUtility.vh(50)) / 10}px)`,\r\n            });\r\n        });\r\n    }\r\n    async onClick(event) {\r\n        const { currentTarget, } = event;\r\n        this.currentOnClickDom = $(currentTarget);\r\n        await this.clickFrameAnimator.animate(0, 30);\r\n    }\r\n}\r\n//# sourceMappingURL=tv.js.map","import lottie from 'lottie-web/build/player/lottie_canvas';\r\nimport { $, WindowUtility, $$, } from '../resources/utilities';\r\nimport { FrameAnimator } from '../resources/animators';\r\nexport class Hamburger {\r\n    constructor(mCoreAnimator) {\r\n        this.mWindowUtility = new WindowUtility();\r\n        this.lottieAnimation = null;\r\n        this.lottiePlayDirection = -1;\r\n        this.hamburgerIconDom = $('.header.containersWrapper > .hamburger');\r\n        this.hamburgerMenuContainersWrapperDom = $('.__hamburgerMenu.containersWrapper');\r\n        this.skinDom = $('.skin');\r\n        this.organsDom = $('.organs');\r\n        this.titles = [];\r\n        this.clickFrameAnimator = new FrameAnimator();\r\n        this.currentOnClickDom = null;\r\n        this.currentOnMouseDom = null;\r\n        this.cachedAnimationsLength = null;\r\n        this.ctx = mCoreAnimator;\r\n        $(window).on('resize', () => window.requestAnimationFrame(() => this.onWindowResize.call(this)));\r\n    }\r\n    create(lottieAnimationData) {\r\n        this.lottieAnimationData = lottieAnimationData;\r\n        this.clickFrameAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames: 30,\r\n                onFrame: (animation, frame) => {\r\n                    const domContent = this.currentOnClickDom;\r\n                    const { totalFrames, } = animation.items;\r\n                    domContent.css({\r\n                        opacity: Math.ceil((totalFrames - frame) / 3) % 4 ? 0 : 1,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        this.hamburgerIconDom.on('click', (event) => {\r\n            this.hamburgerMenuContainersWrapperDom.removeClass('hidden');\r\n            this.onClick.call(this, event);\r\n        });\r\n        this.hamburgerMenuContainersWrapperDom.addClass('hidden');\r\n        const otherOnAdd = this.ctx.onAdd;\r\n        this.ctx.onAdd = (animation) => {\r\n            otherOnAdd.call(this.ctx, animation);\r\n            this.createHamburgerMenuItems();\r\n        };\r\n        this.createHamburgerMenuItems();\r\n        this.createHamburgerToppings();\r\n        this.addLottie();\r\n    }\r\n    createHamburgerToppings() {\r\n        $('.header.containersWrapper > .logo').on('click', (event) => {\r\n            this.ctx.seekTo(0);\r\n            if (!this.isOpen) {\r\n                this.currentOnClickDom = $(event.currentTarget);\r\n                this.clickFrameAnimator.animate(0, 30);\r\n                return;\r\n            }\r\n            this.onClick(event);\r\n        });\r\n    }\r\n    addLottie() {\r\n        this.lottieAnimation = lottie.loadAnimation({\r\n            container: this.hamburgerIconDom,\r\n            renderer: 'canvas',\r\n            autoplay: false,\r\n            loop: false,\r\n            animationData: this.lottieAnimationData,\r\n            rendererSettings: {\r\n                preserveAspectRatio: 'xMidYMin meet',\r\n                className: 'hamburger',\r\n            },\r\n        });\r\n    }\r\n    get isOpen() {\r\n        return this.lottiePlayDirection === 1;\r\n    }\r\n    async getLottieData() {\r\n        return $().getJSON('assets/js/raw/lottie/hamburger.json');\r\n    }\r\n    onClick(event, options) {\r\n        if (!options) {\r\n            this.onClick(event, {});\r\n            return;\r\n        }\r\n        const { newState, } = options;\r\n        if ((newState === 'closed'\r\n            && !this.isOpen) || (newState === 'opened'\r\n            && this.isOpen)) {\r\n            return;\r\n        }\r\n        const titles = $$(`.${Hamburger.PREFIX}.title`);\r\n        if (this.isOpen) {\r\n            this.animateCloseHamburger();\r\n            titles.fastEach((hamburgerMenuTitleDom) => {\r\n                hamburgerMenuTitleDom.css('pointer-events', 'none');\r\n                this.animateTitleReveal(hamburgerMenuTitleDom, 'hide');\r\n            });\r\n        }\r\n        else {\r\n            if (this.currentOnMouseDom) {\r\n                this.animateTitleHover(this.currentOnMouseDom, 'out');\r\n            }\r\n            this.animateOpenHamburger();\r\n            titles.fastEach((hamburgerMenuTitleDom) => {\r\n                hamburgerMenuTitleDom.css('pointer-events', 'auto');\r\n                this.animateTitleReveal(hamburgerMenuTitleDom, 'reveal');\r\n            });\r\n        }\r\n        this.lottiePlayDirection *= -1;\r\n        this.lottieAnimation.setDirection(this.lottiePlayDirection);\r\n        this.lottieAnimation.play();\r\n        this.currentOnClickDom = $(event.currentTarget);\r\n        this.clickFrameAnimator.animate(0, 30);\r\n    }\r\n    onTitleMouseOver(event) {\r\n        this.currentOnMouseDom = $(event.currentTarget);\r\n        this.currentOnMouseChildDom = $(event.target);\r\n        this.animateTitleHover($(event.currentTarget), 'over');\r\n    }\r\n    onTitleMouseOut(event) {\r\n        this.currentOnMouseDom = $(event.currentTarget);\r\n        this.currentOnMouseChildDom = $(event.target);\r\n        this.animateTitleHover($(event.currentTarget), 'out');\r\n    }\r\n    animateOpenHamburger() {\r\n        const windowHeight = Math.min(WindowUtility.viewport.height, WindowUtility.inner.height);\r\n        const windowWidth = Math.min(WindowUtility.viewport.width, WindowUtility.inner.width);\r\n        const height = 1;\r\n        const width = 0;\r\n        const top = (windowHeight - height) / 2;\r\n        const left = (windowWidth - width) / 2;\r\n        this.skinDom.css({\r\n            height,\r\n            width,\r\n            top,\r\n            left,\r\n        });\r\n        this.organsDom.css({\r\n            height: height + top,\r\n            width: width + left,\r\n            top: -top,\r\n            left: -left,\r\n        });\r\n        $(document.body).css({\r\n            overflow: 'hidden',\r\n        });\r\n    }\r\n    animateCloseHamburger() {\r\n        this.skinDom.css({\r\n            height: '',\r\n            width: '',\r\n            top: 0,\r\n            left: 0,\r\n        });\r\n        this.organsDom.css({\r\n            height: '',\r\n            width: '',\r\n            top: 0,\r\n            left: 0,\r\n        });\r\n        $(document.body).css({\r\n            overflow: '',\r\n        });\r\n    }\r\n    createHamburgerMenuItems() {\r\n        if (this.cachedAnimationsLength === this.ctx.animations.length) {\r\n            return;\r\n        }\r\n        // used to get value of variable instead of reference\r\n        this.cachedAnimationsLength = Number(this.ctx.animations.length);\r\n        // clear the insides to prevent duplicates\r\n        this.hamburgerMenuContainersWrapperDom.innerHTML = '';\r\n        // programatically generate css grid\r\n        this.hamburgerMenuContainersWrapperDom.css({\r\n            // add 1 if there's a pre animation (index of -1)\r\n            'grid-template-rows': `auto repeat(${this.ctx.animations.length + Number(!!this.ctx.animations[-1])}, min-content) auto`,\r\n        });\r\n        // append dom nodes and create animator instances for each first animation\r\n        const handler = (workingAnimations, i) => {\r\n            const { uid, } = workingAnimations[0].items;\r\n            const menuContainerDom = $(document.createElement('div'));\r\n            menuContainerDom.addClass([\r\n                Hamburger.PREFIX,\r\n                'container',\r\n                uid,\r\n            ]);\r\n            const titleDom = $(document.createElement('h1'));\r\n            titleDom.addClass([\r\n                Hamburger.PREFIX,\r\n                'title',\r\n                uid,\r\n            ]);\r\n            // titleDom.textContent = uid;\r\n            this.hamburgerMenuContainersWrapperDom.appendChild(menuContainerDom);\r\n            let processedIndex = i;\r\n            if (this.ctx.animations[-1]) {\r\n                processedIndex += 1;\r\n            }\r\n            menuContainerDom.css({\r\n                'grid-row': `${processedIndex + 2} / ${processedIndex + 3}`,\r\n                'grid-column': '2 / 3',\r\n            });\r\n            const revealFrameAnimator = new FrameAnimator();\r\n            const hoverFrameAnimator = new FrameAnimator();\r\n            this.titles.push({\r\n                domContent: titleDom,\r\n                revealFrameAnimator,\r\n                hoverFrameAnimator,\r\n            });\r\n            const suffix = '';\r\n            const prefix = '——\\xa0\\xa0'; // prefix + &nbsp&nbsp;\r\n            const textContent = uid;\r\n            const { className } = titleDom;\r\n            titleDom.textContent = '';\r\n            // prefix\r\n            const prefixSpanDom = document.createElement('span');\r\n            prefixSpanDom.className = className.replace('title', 'prefix');\r\n            prefixSpanDom.textContent = prefix;\r\n            titleDom.appendChild(prefixSpanDom);\r\n            // content\r\n            textContent\r\n                .split('')\r\n                .fastEach((titleChar) => {\r\n                const spanDom = document.createElement('span');\r\n                spanDom.className = `${className.replace('title', 'char')}`;\r\n                spanDom.textContent = titleChar;\r\n                titleDom.appendChild(spanDom);\r\n            });\r\n            // suffix\r\n            const suffixSpanDom = document.createElement('span');\r\n            suffixSpanDom.className = className.replace('title', 'suffix');\r\n            suffixSpanDom.textContent = suffix; // prefix + &nbsp;\r\n            titleDom.appendChild(suffixSpanDom);\r\n            const totalFrames = 120;\r\n            // add pre to enable onHidden\r\n            revealFrameAnimator.add({\r\n                index: -1,\r\n                type: 'null',\r\n            });\r\n            // add pre to enable onHidden\r\n            hoverFrameAnimator.add({\r\n                index: -1,\r\n                type: 'null',\r\n            });\r\n            // add container background reveal\r\n            revealFrameAnimator.add({\r\n                index: 0,\r\n                type: 'null',\r\n                items: {\r\n                    totalFrames,\r\n                    offset: -(totalFrames\r\n                        * ((i + 1) / (this.ctx.animations.length + 1))) / 4,\r\n                    bezier: [0.25, 1, 0.5, 1],\r\n                    onHidden: () => {\r\n                        const containerDomContent = $(titleDom.parentElement);\r\n                        containerDomContent.css({\r\n                            opacity: 0,\r\n                        });\r\n                    },\r\n                    onFrame: (animation, frame) => {\r\n                        const { totalFrames: animationTotalFrames, } = animation.items;\r\n                        const containerDomContent = $(titleDom.parentElement);\r\n                        if (frame > 0) {\r\n                            containerDomContent.css({\r\n                                width: `${((frame) / animationTotalFrames) * 100}%`,\r\n                                opacity: 1,\r\n                            });\r\n                            return;\r\n                        }\r\n                        containerDomContent.css({\r\n                            width: `${((frame) / animationTotalFrames) * 100}%`,\r\n                            opacity: 0,\r\n                        });\r\n                    },\r\n                },\r\n            });\r\n            titleDom.childNodes.forEach((node, index) => {\r\n                // add reveal animations\r\n                revealFrameAnimator.add({\r\n                    index: 0,\r\n                    type: 'null',\r\n                    items: {\r\n                        totalFrames,\r\n                        offset: -(totalFrames\r\n                            // prefix and suffix changes the length of textContent, so just get it from dom\r\n                            * ((titleDom.textContent.length - index) / titleDom.textContent.length)) / 4,\r\n                        bezier: [0.165, 0.84, 0.44, 1],\r\n                        onHidden: () => {\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                opacity: 0,\r\n                            });\r\n                        },\r\n                        onFrame: (animation, frame) => {\r\n                            const { totalFrames: animationTotalFrames, } = animation.items;\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                transform: `translateX(-${(animationTotalFrames - frame) * 2}px)`,\r\n                                opacity: 1,\r\n                            });\r\n                        },\r\n                    },\r\n                });\r\n                // if the currently working item is not the prefix\r\n                if (!node.classList.contains('prefix')) {\r\n                    // add hover animations\r\n                    hoverFrameAnimator.add({\r\n                        index: 0,\r\n                        type: 'null',\r\n                        items: {\r\n                            totalFrames,\r\n                            offset: -(totalFrames\r\n                                * ((index) / titleDom.textContent.length)),\r\n                            bezier: [0.25, 1, 0.5, 1],\r\n                            onHidden: () => {\r\n                                const domContent = $(node);\r\n                                domContent.css({\r\n                                    transform: 'translateY(0px)',\r\n                                });\r\n                            },\r\n                            onFrame: (animation, frame) => {\r\n                                const domContent = $(node);\r\n                                const { totalFrames: animationTotalFrames, } = animation.items;\r\n                                switch (true) {\r\n                                    // if currently not hovering over prefix, remove 'forced'\r\n                                    case !this.currentOnMouseChildDom.classList.contains('prefix'):\r\n                                        domContent.removeClass('forced');\r\n                                        break;\r\n                                    case frame <= animationTotalFrames / 2:\r\n                                        domContent.removeClass('forced');\r\n                                        break;\r\n                                    case frame > animationTotalFrames / 2:\r\n                                        // if currently hovering on prefix, add 'forced'\r\n                                        if (!this.currentOnMouseChildDom.classList.contains('prefix')) {\r\n                                            break;\r\n                                        }\r\n                                        domContent.addClass('forced');\r\n                                        break;\r\n                                    default:\r\n                                }\r\n                                domContent.css({\r\n                                    transform: `translateY(${index % 2 === 0 ? '' : '-'}${frame / 14}px)`,\r\n                                });\r\n                            },\r\n                        },\r\n                    });\r\n                }\r\n                menuContainerDom.appendChild(titleDom);\r\n            });\r\n            titleDom.on('click', (event) => {\r\n                this.ctx.seekToUid(uid);\r\n                this.onClick(event, {\r\n                    newState: 'closed',\r\n                });\r\n            });\r\n            titleDom.on('mouseover', (event) => {\r\n                this.onTitleMouseOver(event);\r\n            });\r\n            titleDom.on('mouseout mouseleave', (event) => {\r\n                this.onTitleMouseOut(event);\r\n            });\r\n        };\r\n        if (this.ctx.animations[-1]) {\r\n            handler(this.ctx.animations[-1], -1);\r\n        }\r\n        this.ctx.animations.fastEach(handler);\r\n    }\r\n    animateTitleHover(titleDom, state) {\r\n        let titleIndex = this.titles.length;\r\n        let totalFrames = null;\r\n        // get working title\r\n        this.titles.forEach((title, index) => {\r\n            const { totalFrames: animationTotalFrames, } = title.hoverFrameAnimator.animations[0][0].items;\r\n            if (title.domContent === titleDom) {\r\n                titleIndex = index;\r\n                totalFrames = animationTotalFrames;\r\n            }\r\n        });\r\n        let end = null;\r\n        switch (state) {\r\n            case 'over':\r\n                end = totalFrames;\r\n                break;\r\n            case 'out':\r\n                end = 0;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        const { hoverFrameAnimator } = this.titles[titleIndex];\r\n        const options = {\r\n            fps: 240,\r\n        };\r\n        if (hoverFrameAnimator.currentFrame === end\r\n            && end === 0) {\r\n            hoverFrameAnimator.animate(end, end + 1, options);\r\n            return;\r\n        }\r\n        hoverFrameAnimator.animate(hoverFrameAnimator.currentFrame, end, options);\r\n    }\r\n    animateTitleReveal(titleDom, state) {\r\n        let titleIndex = this.titles.length;\r\n        let totalFrames = null;\r\n        // get working title\r\n        this.titles.forEach((title, index) => {\r\n            const { totalFrames: animationTotalFrames, } = title.hoverFrameAnimator.animations[0][0].items;\r\n            if (title.domContent === titleDom) {\r\n                titleIndex = index;\r\n                totalFrames = animationTotalFrames;\r\n            }\r\n        });\r\n        let end = null;\r\n        let speed = null;\r\n        switch (state) {\r\n            case 'reveal':\r\n                end = totalFrames;\r\n                speed = 1;\r\n                break;\r\n            case 'hide':\r\n                end = 0;\r\n                speed = 2;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        const { revealFrameAnimator } = this.titles[titleIndex];\r\n        if (revealFrameAnimator.currentFrame === end) {\r\n            revealFrameAnimator.animate(end, end + 1);\r\n            return;\r\n        }\r\n        revealFrameAnimator.animate(revealFrameAnimator.currentFrame, end, {\r\n            speed,\r\n        });\r\n    }\r\n    onWindowResize() {\r\n        if (this.isOpen) {\r\n            this.animateOpenHamburger();\r\n            return;\r\n        }\r\n        this.animateCloseHamburger();\r\n    }\r\n}\r\nHamburger.PREFIX = '__hamburgerMenu';\r\n//# sourceMappingURL=hamburger.js.map","import { $, $$, } from '../resources/utilities';\r\nexport class Placeholderer {\r\n    constructor() {\r\n        this.placeholders = {};\r\n        this.descriptionDomCache = [];\r\n    }\r\n    async create() {\r\n        if (document.readyState === 'loading') {\r\n            await new Promise((resolve) => $(window).on('domcontentloaded', resolve));\r\n        }\r\n        this.cacheDescriptionPlaceholders();\r\n        this.updateDescriptionPlaceholders();\r\n    }\r\n    cacheDescriptionPlaceholders() {\r\n        const descriptionDoms = $$('.replaceable');\r\n        descriptionDoms.fastEach((descriptionDom) => {\r\n            descriptionDom\r\n                .childNodes\r\n                .forEach((node) => {\r\n                const { textContent, } = node;\r\n                if (textContent === '') {\r\n                    return;\r\n                }\r\n                // +2 is to shift over '{{' & '}}' itself\r\n                const indexOfKeyword = textContent.indexOf('{{') + 2;\r\n                const indexOfRest = textContent.indexOf('}}') + 2;\r\n                // compare to 1 instead of -1 because of the +2 offset\r\n                if (indexOfKeyword === 1\r\n                    || indexOfRest === 1) {\r\n                    return;\r\n                }\r\n                this.descriptionDomCache.push({\r\n                    domContent: $(node),\r\n                    textContent,\r\n                });\r\n            });\r\n        });\r\n    }\r\n    updateDescriptionPlaceholders() {\r\n        this.descriptionDomCache.fastEach((descriptionDomCache) => {\r\n            const { domContent, textContent, } = descriptionDomCache;\r\n            // +2 is to shift over '{{' & '}}' itself\r\n            const indexOfKeyword = textContent.indexOf('{{') + 2;\r\n            const indexOfRest = textContent.indexOf('}}') + 2;\r\n            if (indexOfKeyword === -1) {\r\n                return;\r\n            }\r\n            // substr is faster https://www.measurethat.net/Benchmarks/Show/2335/1/slice-vs-substr-vs-substring-with-no-end-index\r\n            const keyword = textContent\r\n                .substr(indexOfKeyword, indexOfRest - 2 - indexOfKeyword);\r\n            let result = null;\r\n            Object.keys(this.placeholders)\r\n                .fastEach((key) => {\r\n                if (key !== keyword) {\r\n                    return;\r\n                }\r\n                const value = this.placeholders[key];\r\n                if (value\r\n                    && value.constructor === Function) {\r\n                    result = value();\r\n                    return;\r\n                }\r\n                result = value;\r\n            });\r\n            domContent.textContent = `${textContent.substr(0, indexOfKeyword - 2)}${result}${textContent.substr(indexOfRest)}`;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=placeholderer.js.map","import { ScrollAnimator } from '../resources/animators';\r\nimport { $, $$, WindowUtility, } from '../resources/utilities';\r\nimport { Placeholderer } from './placeholderer';\r\nexport class Sign {\r\n    constructor() {\r\n        this.mPlaceholderer = new Placeholderer();\r\n        this.mWindowUtility = new WindowUtility();\r\n        this.totalFrames = 240;\r\n    }\r\n    async create() {\r\n        if (document.readyState === 'loading') {\r\n            await new Promise((resolve) => $(window).on('domcontentloaded', resolve));\r\n        }\r\n        this.createAnimations();\r\n        this.mPlaceholderer.placeholders = {\r\n            pixels: () => Math.floor(document.body.clientHeight\r\n                - WindowUtility.viewport.height\r\n                - window.scrollY),\r\n        };\r\n        this.mPlaceholderer.create();\r\n        $(window).on('scroll', () => this.mPlaceholderer.updateDescriptionPlaceholders());\r\n    }\r\n    createAnimations() {\r\n        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\r\n            return;\r\n        }\r\n        this.createDescriptions();\r\n        this.createWhoAmITitle();\r\n        this.createWhoAmIOutline();\r\n        this.createWhoAmISocial();\r\n        this.createWhatNowTitle();\r\n        this.createWhatNowOutline();\r\n    }\r\n    createWhoAmITitle() {\r\n        const titleDoms = $$('.sign > .whoAmI > .title.container > .title:not(.outline)');\r\n        const charRevealScrollAnimator = new ScrollAnimator();\r\n        const { totalFrames } = this;\r\n        charRevealScrollAnimator.add({\r\n            index: -1,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames,\r\n            },\r\n        });\r\n        titleDoms.fastEach((titleDom) => {\r\n            this.separateTextContentIntoSpans(titleDom, 'letter');\r\n            titleDom.childNodes.forEach((node, index) => {\r\n                // add reveal animations\r\n                charRevealScrollAnimator.add({\r\n                    index: 0,\r\n                    type: 'null',\r\n                    items: {\r\n                        totalFrames,\r\n                        offset: -((totalFrames\r\n                            * (1 - (index) / (titleDom.childNodes.length - 1)))) / 4,\r\n                        bezier: [0.75, 0, 0.25, 1],\r\n                        onHidden: () => {\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                opacity: 0,\r\n                            });\r\n                        },\r\n                        onFrame: (animation, frame) => {\r\n                            const { totalFrames: animationTotalFrames, } = animation.items;\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                transform: `translateY(${((index % 2 ? 1 : -1)\r\n                                    * (animationTotalFrames - frame)\r\n                                    * 4)\r\n                                    / window.devicePixelRatio}px)`,\r\n                                opacity: Number(frame > 10),\r\n                            });\r\n                        },\r\n                    },\r\n                });\r\n            });\r\n        });\r\n    }\r\n    createDescriptions() {\r\n        const descriptionDoms = $$('.sign > * > .description.container > .description');\r\n        const charRevealScrollAnimator = new ScrollAnimator();\r\n        const { totalFrames } = this;\r\n        charRevealScrollAnimator.add({\r\n            index: -1,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames,\r\n            },\r\n        });\r\n        descriptionDoms.fastEach((descriptionDom, i) => {\r\n            this.separateTextContentIntoSpans(descriptionDom, 'block');\r\n            const textNodes = Array.from(descriptionDom.childNodes)\r\n                .getAll((node) => node.nodeName.toLowerCase() !== 'br');\r\n            textNodes.fastEach((node, index) => {\r\n                // add reveal animations\r\n                charRevealScrollAnimator.add({\r\n                    index: i,\r\n                    type: 'null',\r\n                    items: {\r\n                        totalFrames,\r\n                        offset: -((totalFrames\r\n                            * (1 - (index) / (textNodes.length - 1)))) / 4,\r\n                        bezier: [0.75, 0, 0.25, 1],\r\n                        onFrame: (animation, frame) => {\r\n                            const { totalFrames: animationTotalFrames, } = animation.items;\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                transform: `translateY(-${(animationTotalFrames - frame)}px)`,\r\n                            });\r\n                        },\r\n                    },\r\n                });\r\n            });\r\n        });\r\n    }\r\n    createWhoAmIOutline() {\r\n        const whoAmIOutlineDom = $('.sign > .whoAmI > .title.container > .outline');\r\n        const revealScrollAnimator = new ScrollAnimator();\r\n        this.separateTextContentIntoSpans(whoAmIOutlineDom, 'letter');\r\n        const { totalFrames } = this;\r\n        revealScrollAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames,\r\n            },\r\n        });\r\n        whoAmIOutlineDom.childNodes.forEach((node, index) => {\r\n            // add reveal animations\r\n            revealScrollAnimator.add({\r\n                index: 1,\r\n                type: 'null',\r\n                items: {\r\n                    totalFrames,\r\n                    offset: -((totalFrames\r\n                        * ((index) / (whoAmIOutlineDom.childNodes.length - 1)))) / 2,\r\n                    bezier: [0.75, 0, 0.25, 1],\r\n                    onFrame: (animation, frame) => {\r\n                        const domContent = $(node);\r\n                        domContent.css({\r\n                            transform: `translateX(-${frame * 2}px)`,\r\n                            opacity: Number(frame < 239),\r\n                        });\r\n                    },\r\n                },\r\n            });\r\n        });\r\n    }\r\n    createWhoAmISocial() {\r\n        const socialDom = $('.sign > .whoAmI > .description.container > .socials.container');\r\n        const iconRevealAnimator = new ScrollAnimator();\r\n        const { totalFrames } = this;\r\n        iconRevealAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames,\r\n            },\r\n        });\r\n        Array.from(socialDom.children).fastEach((node, index) => {\r\n            // add reveal animations\r\n            iconRevealAnimator.add({\r\n                index: 1,\r\n                type: 'null',\r\n                items: {\r\n                    totalFrames,\r\n                    offset: -((totalFrames\r\n                        * (1 - (index) / (socialDom.children.length)))) + 60,\r\n                    bezier: [0.75, 0, 0.25, 1],\r\n                    onHidden: () => {\r\n                        const domContent = $(node);\r\n                        domContent.css({\r\n                            transform: 'translateY(0px)',\r\n                        });\r\n                    },\r\n                    onFrame: (animation, frame) => {\r\n                        const domContent = $(node);\r\n                        domContent.css({\r\n                            transform: `translateY(${(index % 2 ? 1 : -1) * (frame / 4)}px)`,\r\n                            opacity: Number(frame < 180),\r\n                        });\r\n                    },\r\n                },\r\n            });\r\n        });\r\n    }\r\n    createWhatNowOutline() {\r\n        const whatNowOutlineDom = $('.sign > .whatNow > .title.container > .outline');\r\n        const revealScrollAnimator = new ScrollAnimator();\r\n        this.separateTextContentIntoSpans(whatNowOutlineDom, 'letter');\r\n        const { totalFrames } = this;\r\n        whatNowOutlineDom.childNodes.forEach((node, index) => {\r\n            // add reveal animations\r\n            revealScrollAnimator.add({\r\n                index: 0,\r\n                type: 'null',\r\n                items: {\r\n                    onVisible: () => {\r\n                        const domContent = $(node);\r\n                        domContent.css({\r\n                            opacity: 0,\r\n                        });\r\n                    },\r\n                    totalFrames,\r\n                },\r\n            });\r\n            const offset = -((totalFrames\r\n                * (1 - (index) / (whatNowOutlineDom.childNodes.length - 1)))) / 2;\r\n            revealScrollAnimator.add({\r\n                index: 1,\r\n                type: 'null',\r\n                items: {\r\n                    totalFrames,\r\n                    offset,\r\n                    bezier: [0.75, 0, 0.25, 1],\r\n                    onFrame: (animation, frame) => {\r\n                        const { totalFrames: animationTotalFrames, } = animation.items;\r\n                        const domContent = $(node);\r\n                        domContent.css({\r\n                            transform: `translateY(-${(animationTotalFrames - frame)\r\n                                * 2}px)`,\r\n                            opacity: Number(frame > 60 - offset),\r\n                        });\r\n                    },\r\n                },\r\n            });\r\n        });\r\n    }\r\n    createWhatNowTitle() {\r\n        const titleDoms = $$('.sign > .whatNow > .title.container > .title:not(.outline)');\r\n        titleDoms.fastEach((titleDom) => {\r\n            const charRevealScrollAnimator = new ScrollAnimator();\r\n            this.separateTextContentIntoSpans(titleDom, 'letter');\r\n            const { totalFrames } = this;\r\n            charRevealScrollAnimator.add({\r\n                index: 0,\r\n                type: 'null',\r\n                items: {\r\n                    totalFrames,\r\n                },\r\n            });\r\n            titleDom.childNodes.forEach((node, index) => {\r\n                // add reveal animations\r\n                charRevealScrollAnimator.add({\r\n                    index: 1,\r\n                    type: 'null',\r\n                    items: {\r\n                        totalFrames,\r\n                        offset: -((totalFrames\r\n                            * (1 - (index) / (titleDom.childNodes.length - 1)))) / 2,\r\n                        bezier: [0.75, 0, 0.25, 1],\r\n                        onHidden: () => {\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                opacity: 0,\r\n                            });\r\n                        },\r\n                        onFrame: (animation, frame) => {\r\n                            const { totalFrames: animationTotalFrames, } = animation.items;\r\n                            const domContent = $(node);\r\n                            domContent.css({\r\n                                transform: `translate${index % 2 ? 'Y' : 'X'}(-${((animationTotalFrames - frame)\r\n                                    * 2)\r\n                                    / window.devicePixelRatio}px)`,\r\n                                opacity: Number(frame > 10),\r\n                            });\r\n                        },\r\n                    },\r\n                });\r\n            });\r\n        });\r\n    }\r\n    separateTextContentIntoSpans(domContent, mode) {\r\n        const { textContent, className, } = domContent;\r\n        domContent.textContent = '';\r\n        let processedTextContent = null;\r\n        switch (mode) {\r\n            case 'letter': {\r\n                processedTextContent = textContent\r\n                    .trim() // remove whitespace & newlines, at the end of string\r\n                    .replace(/[\\t\\v ]/g, '') // remove only whitespace, wthin string\r\n                    .replace(/\\n\\n/g, '\\n') // combine double newlines\r\n                    .split('');\r\n                break;\r\n            }\r\n            case 'block': {\r\n                processedTextContent = textContent\r\n                    .trim() // remove whitespace & newlines, at the end of string\r\n                    .replace(/\\n/g, '__split__\\n') // add split point\r\n                    .split('__split__');\r\n                break;\r\n            }\r\n            default:\r\n                return;\r\n        }\r\n        // split into spans\r\n        processedTextContent.fastEach((titleChar) => {\r\n            if (titleChar.replace(/[\\t\\v ]/g, '') === '\\n') {\r\n                const brDom = document.createElement('br');\r\n                domContent.appendChild(brDom);\r\n                return;\r\n            }\r\n            const spanDom = document.createElement('span');\r\n            spanDom.className = `${className} char`;\r\n            spanDom.textContent = titleChar;\r\n            domContent.appendChild(spanDom);\r\n        });\r\n    }\r\n}\r\nSign.PREFIX = '__sign';\r\n//# sourceMappingURL=sign.js.map","import { WindowUtility } from '../resources/utilities';\r\nexport class LottieButton {\r\n    constructor() {\r\n        this.mWindowUtility = new WindowUtility();\r\n    }\r\n    create(options) {\r\n        const { domContent, dpr, intent, resolutionMultiplier, } = options;\r\n        const resolutionModifier = dpr * resolutionMultiplier;\r\n        let isClickable = false;\r\n        domContent\r\n            .on('mousemove touchmove', (event) => {\r\n            const { clientX, clientY, } = event;\r\n            if (!clientX\r\n                || !clientY) {\r\n                return;\r\n            }\r\n            const canvas = domContent;\r\n            const canvasCtx = canvas.getContext('2d');\r\n            const innerCenterOffset = domContent\r\n                .parentElement // container div\r\n                .parentElement // containersWrapper div\r\n                .classList\r\n                .contains('innerCenter')\r\n                ? 24\r\n                : 0;\r\n            const x = (((((clientX\r\n                * resolutionModifier)\r\n                - (canvas.width\r\n                    / 2))\r\n                / dpr)\r\n                + (canvas.width\r\n                    / 2)));\r\n            const y = (((((clientY\r\n                * resolutionModifier)\r\n                - (canvas.height\r\n                    / 2))\r\n                / dpr)\r\n                + (canvas.height\r\n                    / 2))\r\n                + innerCenterOffset);\r\n            const rgba = canvasCtx\r\n                .getImageData(x - 10, y - 10, 20, 20)\r\n                .data;\r\n            if (rgba.some((value) => value > 0)) {\r\n                isClickable = true;\r\n                if (!WindowUtility.isMobile) {\r\n                    domContent.css({\r\n                        filter: 'brightness(0.5)',\r\n                        cursor: 'pointer',\r\n                    });\r\n                }\r\n                return;\r\n            }\r\n            isClickable = false;\r\n            domContent.css({\r\n                filter: 'brightness(1)',\r\n                cursor: '',\r\n            });\r\n        }, { passive: true });\r\n        // enable overriding intent of this button on other html files (bodge on bodge, kill me)\r\n        domContent.on('click', () => isClickable && (typeof intent !== 'string'\r\n            ? intent()\r\n            : window.open(intent ?? 'mailto:_@jiashe.ng')));\r\n    }\r\n}\r\n//# sourceMappingURL=lottieButton.js.map","/** Represents a firebase GeoPoint value */\nexport default class GeoPoint {\n    constructor(latitude, longitude) {\n        this.latitude = latitude;\n        this.longitude = longitude;\n        if (typeof latitude !== 'number')\n            throw Error('The latitude argument should be of type number');\n        if (typeof latitude !== 'number')\n            throw Error('The longitude argument should be of type number');\n        if (latitude >= 90 || latitude <= -90)\n            throw Error(\"GeoPoint's latitude should be within the range of -90.0 and 90.0\");\n        if (longitude >= 180 || longitude <= -180)\n            throw Error(\"GeoPoint's longitude should be within the range of -180.0 and 180.0\");\n    }\n    toJSON() {\n        return {\n            geoPointValue: { ...this }\n        };\n    }\n}\n","import { encodeValue } from './utils';\n/** @private */\nfunction isNumber(v) {\n    return typeof v === 'number' && !isNaN(v - v);\n}\n/** @private */\nconst transformsMap = {\n    serverTimestamp: ['setToServerValue'],\n    increment: ['increment', isNumber],\n    max: ['maximum', isNumber],\n    min: ['minimum', isNumber],\n    appendToArray: ['appendMissingElements', Array.isArray],\n    removeFromArray: ['removeAllFromArray', Array.isArray]\n};\n/**\n * Represents a value that is the result of an operation\n * made by the Firebase server. For example `serverTimestamp`\n * can't be known in the client, as it evaluates in the server.\n */\nexport default class Transform {\n    /**\n     * @param value when applicable, the value will be used.\n     * for example when using `increment` the value will be the number to increment by.\n     */\n    constructor(name, value) {\n        if (!(name in transformsMap))\n            throw Error(`Invalid transform name: \"${name}\"`);\n        const [transformName, validator] = transformsMap[name];\n        if (validator && !validator(value))\n            throw Error(`The value for the transform \"${name}\" needs to be a${validator === isNumber ? ' number' : 'n array'}.`);\n        if (validator === Array.isArray)\n            this[transformName] = encodeValue(value).arrayValue;\n        else\n            this[transformName] =\n                name === 'serverTimestamp' ? 'REQUEST_TIME' : encodeValue(value);\n    }\n}\n","import { Reference } from './Reference';\nimport GeoPoint from './GeoPoint';\nimport Transform from './Transform';\nimport { Document } from './Document';\n/**\n * Used for generating random fids.\n * @private\n */\nconst validChars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890';\n/**\n * Trims spaces and slashes from a path\n * @private\n */\nexport function trimPath(path) {\n    return path.trim().replace(/^\\/?/, '').replace(/\\/?$/, '');\n}\n/**\n * Returns true if a variable is a path that points to a collection\n * @private\n */\nexport function isPath(type, s) {\n    return (typeof s === 'string' &&\n        s !== '' &&\n        trimPath(s).split('/').length % 2 === (type === 'doc' ? 0 : 1));\n}\n/**\n * Checks if a value is a Reference to a Document\n * @private\n */\nexport function isRef(type, val) {\n    return (val instanceof Reference &&\n        (type === 'doc' ? !val.isCollection : val.isCollection));\n}\n/** @private */\nexport function isRefType(ref) {\n    return (ref instanceof Reference ||\n        ref instanceof Document ||\n        typeof ref === 'string');\n}\n/** @private */\nexport function getPathFromRef(ref) {\n    var _a, _b, _c, _d;\n    if (!isRefType(ref))\n        throw TypeError('Expected a Reference, Document or a path but got something else');\n    return ((_d = (_c = (_b = (_a = ref) === null || _a === void 0 ? void 0 : _a.__meta__) === null || _b === void 0 ? void 0 : _b.path) !== null && _c !== void 0 ? _c : ref.path) !== null && _d !== void 0 ? _d : trimPath(ref));\n}\n/** @private */\nexport function restrictTo(type, ref) {\n    const isDoc = type === 'doc';\n    const path = getPathFromRef(ref);\n    if (!isPath(type, path))\n        throw TypeError(`You are trying to access a method reserved for ${isDoc ? 'Documents' : 'Collections'} with a ${isDoc ? 'Collection' : 'Document'}`);\n    return path;\n}\n/**\n * Checks if a value is a number that is not negative and is an integer\n * @private\n */\nexport function isPositiveInteger(val) {\n    return Number.isInteger(val) && val >= 0;\n}\n/**\n * Converts an Object to a URI query String\n * @private\n */\nexport function objectToQuery(obj = {}, parentProp) {\n    const params = [];\n    const encode = encodeURIComponent;\n    for (const prop in obj) {\n        if (obj[prop] === undefined)\n            continue; // Skip over undefined props.\n        const propPath = parentProp ? `${parentProp}.${prop}` : prop;\n        // If it is an array then we should encode each value independently, and then join.\n        if (Array.isArray(obj[prop])) {\n            obj[prop].forEach((v) => {\n                params.push(`${propPath}=${encode(v)}`);\n            });\n            continue;\n        }\n        if (typeof obj[prop] === 'object') {\n            const val = objectToQuery(obj[prop], propPath);\n            val && params.push(val);\n            continue;\n        }\n        params.push(`${propPath}=${encode(obj[prop])}`);\n    }\n    return (!parentProp && params.length ? '?' : '') + params.join('&');\n}\n/**\n * Returns an array of keyPaths of an object but skips over arrays values\n * @private\n */\nexport function getKeyPaths(object, parentPath) {\n    let mask = [];\n    for (const key in object) {\n        const keyPath = parentPath ? `${parentPath}.${key}` : key;\n        if (object[key] instanceof Transform)\n            continue;\n        if (object[key] !== null &&\n            typeof object[key] === 'object' &&\n            !Array.isArray(object[key])) {\n            mask = mask.concat(getKeyPaths(object[key], keyPath));\n            continue;\n        }\n        mask.push(keyPath);\n    }\n    return mask;\n}\n/**\n * Compile options object into firebase valid api arguments object\n * @private\n */\nexport function compileOptions(options, obj) {\n    const compiled = {};\n    for (let [key, value] of Object.entries(options)) {\n        if (value === undefined)\n            continue;\n        switch (key) {\n            case 'exists':\n            case 'updateTime':\n                if (!compiled.currentDocument)\n                    compiled.currentDocument = {};\n                compiled.currentDocument[key] = value;\n                break;\n            case 'updateMask':\n                if (!obj)\n                    break;\n                if (value)\n                    compiled.updateMask = { fieldPaths: getKeyPaths(obj) };\n                break;\n            default:\n                compiled[key] = value;\n        }\n    }\n    return compiled;\n}\n/**\n * Decodes a Firebase Value into a JS one\n * @private\n */\nfunction decodeValue(value, db) {\n    // Get the value type.\n    const type = Object.keys(value)[0];\n    // Replace the firebase raw value, with actual value inside of it.\n    value = value[type];\n    // Some values need to be handled in a specific way,\n    // check if this is one of them, and return the value.\n    switch (type) {\n        case 'integerValue':\n            return Number(value);\n        case 'arrayValue':\n            return value.values\n                ? value.values.map((val) => decodeValue(val, db))\n                : [];\n        case 'mapValue':\n            return decode(value, db);\n        case 'timestampValue':\n            return new Date(value);\n        case 'referenceValue':\n            return new Reference(value.replace(db.rootPath, ''), db);\n        case 'geoPointValue':\n            return new GeoPoint(value.latitude, value.longitude);\n        // These are the rest of the values.\n        // We include all of them instead of using 'default:'\n        // because we use it as validation.\n        case 'stringValue':\n        case 'doubleValue':\n        case 'booleanValue':\n        case 'nullValue':\n        case 'bytesValue':\n            return value;\n    }\n    // If none matched throw.\n    throw Error(`Invalid Firestore value_type \"${type}\"`);\n}\n/**\n * Decodes a Firebase map into a JS object\n * @private\n */\nexport function decode(map, db) {\n    if (db === undefined)\n        throw Error('Argument \"db\" is required but missing');\n    const object = {};\n    for (const key in map.fields) {\n        object[key] = decodeValue(map.fields[key], db);\n    }\n    return object;\n}\n/**\n * Encodes a JS variable into a Firebase Value\n * @private\n */\nexport function encodeValue(value, transforms, parentPath) {\n    const objectClass = Object.prototype.toString.call(value);\n    let valueType = objectClass.substring(8, objectClass.length - 1).toLowerCase() + 'Value';\n    switch (valueType) {\n        case 'numberValue':\n            valueType = Number.isInteger(value) ? 'integerValue' : 'doubleValue';\n            value = valueType === 'integerValue' ? String(value) : value;\n            break;\n        case 'arrayValue':\n            value = value.length ? { values: value.map(encodeValue) } : {};\n            break;\n        case 'dateValue':\n            valueType = 'timestampValue';\n            value = value.toISOString();\n            break;\n        case 'objectValue':\n            // If the object is a custom type, then use its built in encoder\n            // and return it.\n            if (value instanceof Reference || value instanceof GeoPoint)\n                return value.toJSON();\n            // Else assume its intended to be a Map value.\n            valueType = 'mapValue';\n            value = encode(value, transforms, parentPath);\n            break;\n    }\n    return { [valueType]: value };\n}\n/**\n * Converts a Javascript object into a write instruction\n * @private\n */\nexport function encode(object, transforms, parentPath) {\n    const keys = Object.keys(object);\n    if (keys.length === 0)\n        return {};\n    const map = { fields: {} };\n    for (const key of keys) {\n        if (object[key] === undefined)\n            continue;\n        const value = object[key];\n        const path = parentPath ? `${parentPath}.${key}` : key;\n        // If this is a transform then add it to the transforms\n        // list and skip its parsing. but only if a transforms array\n        // was provided.\n        if (value instanceof Transform) {\n            value.fieldPath = path;\n            transforms && transforms.push(value);\n            continue;\n        }\n        map.fields[key] = encodeValue(value, transforms, path);\n    }\n    return map;\n}\n/**\n * Generates 22 chars long random alphanumerics unique identifiers\n * @private\n */\nexport function fid() {\n    const randBytes = crypto.getRandomValues(new Uint8Array(20));\n    return Array.from(randBytes)\n        .map(b => validChars[b % 63])\n        .join('');\n}\n","import { decode } from './utils';\n/**\n * Wrapper around a fetched objects that represent a Firestore document.\n * It is supposed to be used as a regular JS object but has a hidden\n * property that holds the meta data of the document.\n *\n * That property is called `__meta__`, it should not be modified, and is non-enumerable.\n * It is used internally to identify the document when writing the\n * data to the database.\n */\nexport class Document {\n    constructor(rawDoc, db) {\n        if (db === undefined)\n            throw Error('Argument \"db\" is required but missing');\n        const { name, createTime, updateTime } = rawDoc;\n        const meta = {\n            db,\n            name,\n            createTime,\n            updateTime,\n            path: name.replace(db.rootPath, ''),\n            id: name.split('/').pop()\n        };\n        Object.defineProperty(this, '__meta__', { value: meta });\n        Object.assign(this, decode(rawDoc, db));\n    }\n}\n","import { Document } from './Document';\nimport { isRef, isPositiveInteger, encodeValue } from './utils';\n/** @private */\nconst operatorsMap = {\n    '<': 'LESS_THAN',\n    '<=': 'LESS_THAN_OR_EQUAL',\n    '>': 'GREATER_THAN',\n    '>=': 'GREATER_THAN_OR_EQUAL',\n    '==': 'EQUAL',\n    contains: 'ARRAY_CONTAINS'\n};\n/**\n * Checks if a value is a valid filter array.\n * @private\n */\nfunction validateFilter(filter) {\n    if (!Array.isArray(filter) || filter.length !== 3)\n        throw Error('Filter missing arguments');\n    const [fieldPath, op, value] = filter;\n    if (typeof fieldPath !== 'string')\n        throw Error('Invalid field path');\n    if (!(op in operatorsMap))\n        throw Error('Invalid operator');\n    if ((value === null || Number.isNaN(value)) && filter[1] !== '==')\n        throw Error('Null and NaN can only be used with the == operator');\n    if (value === undefined)\n        throw Error('Invalid comparative value');\n}\n/**\n * A map of functions used to encode each argument for a query.\n * Each function receives the Library arguments and returns an object\n * that will be converted to Json and sent to the Firestore REST API.\n * @private\n */\nconst encoders = {\n    /**\n     * Converts an option from the Query instance into a valid JSON\n     * object to use with the Firestores REST API.\n     */\n    select(fieldsArray) {\n        const fields = fieldsArray.map(fieldPath => ({ fieldPath }));\n        return fields.length ? { fields } : undefined;\n    },\n    /** Converts a Query filter(array with three items), into an encoded filter */\n    encodeFilter([fieldPath, op, value]) {\n        if (Number.isNaN(value) || value === null) {\n            return {\n                unaryFilter: {\n                    field: { fieldPath },\n                    op: Number.isNaN(value) ? 'IS_NAN' : 'IS_NULL'\n                }\n            };\n        }\n        return {\n            fieldFilter: {\n                field: { fieldPath },\n                op: operatorsMap[op],\n                value: encodeValue(value)\n            }\n        };\n    },\n    /**\n     * Converts an option from the Query instance into a valid JSON\n     * object to use with the Firestore's REST API.\n     */\n    where(option) {\n        if (option.length === 0)\n            return;\n        if (option.length === 1) {\n            return this.encodeFilter(option[0]);\n        }\n        // If there are more than one filters then this is a composite filter.\n        return {\n            compositeFilter: {\n                op: 'AND',\n                filters: option.map(this.encodeFilter)\n            }\n        };\n    },\n    /**\n     * When a startAt or endAt cursor is used,\n     * It is necessary to add a __name__ order at the end\n     * in order to make sure we start from the right spot.\n     */\n    orderBy(fields, options) {\n        var _a, _b, _c;\n        // Only add the __name__ order if a cursor was provided\n        // and if its is not already present.\n        if ((options.startAt || options.endAt) &&\n            ((_a = fields[fields.length - 1]) === null || _a === void 0 ? void 0 : _a.field.fieldPath) !== '__name__')\n            fields.push({\n                field: { fieldPath: '__name__' },\n                // Use the default order when there are no other fields,\n                // And if there are fields, use the order of the last one.\n                // This adheres to the spec at:\n                // https://firebase.google.com/docs/firestore/reference/rest/v1beta1/StructuredQuery\n                direction: (_c = (_b = fields[fields.length - 1]) === null || _b === void 0 ? void 0 : _b.direction) !== null && _c !== void 0 ? _c : 'ASCENDING'\n            });\n        return fields;\n    },\n    documentToCursor(doc, options) {\n        const values = [];\n        for (let order of options.orderBy) {\n            if (order.field.fieldPath === '__name__') {\n                values.push({ referenceValue: doc.__meta__.name });\n                continue;\n            }\n            const value = doc[order.field.fieldPath];\n            value && values.push(encodeValue(value));\n        }\n        return {\n            values,\n            before: true\n        };\n    },\n    startAt(doc, options) {\n        return this.documentToCursor(doc, options);\n    },\n    endAt(doc, options) {\n        return this.startAt(doc, options);\n    }\n};\n/** @private */\nconst queryOptions = [\n    'select',\n    'from',\n    'where',\n    'orderBy',\n    'startAt',\n    'endAt',\n    'offset',\n    'limit'\n];\n/**\n * Query class that represents a Firestore query.\n */\nexport class Query {\n    constructor(init = {}) {\n        this.options = {\n            select: [],\n            where: [],\n            orderBy: []\n        };\n        // Loop through all the valid options, validate them and then save them.\n        for (const option of queryOptions) {\n            const optionValue = init[option];\n            if (option in init) {\n                // If the option is \"where\" or \"orderBy\", and is also an array,\n                // then it might be a compound value, so we want to pass it one\n                // by one to its method.\n                //\n                // \"where\" is always an array, because every individual filter\n                // is represented by an array, so check to see if its first child\n                // is also an array. if it is, then it might be a compound value.\n                if ((option === 'where' && Array.isArray(optionValue[0])) ||\n                    (option === 'orderBy' && Array.isArray(optionValue))) {\n                    optionValue.forEach((val, i) => {\n                        // Use try/catch in order to provide context for the error.\n                        try {\n                            // Try to save the value.\n                            this[option](val);\n                        }\n                        catch (e) {\n                            throw Error(`Invalid argument \"${option}[${i}]\": ${e.message}`);\n                        }\n                    });\n                    continue;\n                }\n                // If the argument is not an array, then just save it directly.\n                // Again, we use try/catch to catch the error and add context to it.\n                try {\n                    this[option](optionValue);\n                }\n                catch (e) {\n                    throw Error(`Invalid argument \"${option}\": ${e.message}`);\n                }\n            }\n        }\n        // Validate that \"from\" is always passed.\n        if (!('from' in init))\n            throw Error('\"from\" is required when building a new query');\n        this.db = init.from.db;\n        this.parentDocument = init.from.parent;\n    }\n    select(fields) {\n        if (!Array.isArray(fields))\n            throw Error('Expected argument to be an array of field paths');\n        fields.forEach((field, i) => {\n            if (typeof field !== 'string')\n                throw Error(`Field path at index [${i}] is not a string`);\n            this.options.select.push(field);\n        });\n    }\n    /**\n     * Adds a collection to query.\n     */\n    from(val) {\n        const collection = val.collection || val;\n        const { allDescendants } = val;\n        if (!isRef('col', collection))\n            throw Error('Expected a reference to a collection');\n        if (allDescendants !== undefined && typeof allDescendants !== 'boolean')\n            throw Error('Expected the \"allDescendants\" argument to be a boolean');\n        this.options.from = {\n            collectionId: collection.id,\n            allDescendants\n        };\n        return this;\n    }\n    where(fieldPath) {\n        const filter = Array.isArray(fieldPath) ? fieldPath : arguments;\n        validateFilter(filter);\n        this.options.where.push(filter);\n        return this;\n    }\n    orderBy(order, dir = 'asc') {\n        const dirMap = {\n            asc: 'ASCENDING',\n            desc: 'DESCENDING'\n        };\n        let { field: fieldPath = order, direction = dir } = order;\n        direction = dirMap[direction];\n        if (typeof fieldPath !== 'string')\n            throw Error('\"field\" property needs to be a string');\n        if (direction === undefined)\n            throw Error('\"direction\" property can only be \"asc\" or \"desc\"');\n        this.options.orderBy.push({ field: { fieldPath }, direction });\n        return this;\n    }\n    startAt(doc) {\n        if (!(doc instanceof Document))\n            throw Error('Expected a Document instance');\n        this.options.startAt = doc;\n        return this;\n    }\n    endAt(doc) {\n        if (!(doc instanceof Document))\n            throw Error('Expected a Document instance');\n        this.options.endAt = doc;\n        return this;\n    }\n    offset(number) {\n        if (!isPositiveInteger(number))\n            throw Error('Expected an integer that is greater than 0');\n        this.options.offset = number;\n        return this;\n    }\n    limit(number) {\n        if (!isPositiveInteger(number))\n            throw Error('Expected an integer that is greater than 0');\n        this.options.limit = number;\n        return this;\n    }\n    async run() {\n        var _a;\n        let results = await this.db.fetch(this.parentDocument.endpoint + ':runQuery', {\n            method: 'POST',\n            body: JSON.stringify(this)\n        });\n        ((_a = results[0]) === null || _a === void 0 ? void 0 : _a.document) || results.splice(0, 1);\n        return results.map((result) => new Document(result.document, this.db));\n    }\n    toJSON() {\n        const encoded = {};\n        for (const option in this.options) {\n            const optionValue = this.options[option];\n            if (option in encoders) {\n                encoded[option] = encoders[option](optionValue, this.options);\n                continue;\n            }\n            encoded[option] = optionValue;\n        }\n        return {\n            structuredQuery: encoded\n        };\n    }\n}\n","import { Document } from './Document';\n/**\n * Represents a collection list response, with functionality\n * for getting the next page when available.\n * @param {Object} rawList The response \"raw\" list object.\n * @param {Reference} ref A reference to the collection.\n * @param {Object} options Any options that were passed at first to the get request.\n */\nexport class List {\n    constructor(rawList, ref, options = {}) {\n        if (ref === undefined)\n            throw Error('The \"reference\" argument is required when creating a List');\n        if (!ref.isCollection)\n            throw Error('The reference in a list should point to a collection');\n        const { documents, nextPageToken } = rawList;\n        this.ref = ref;\n        this.options = options;\n        this.documents = documents\n            ? documents.map(rawDoc => new Document(rawDoc, ref.db))\n            : [];\n        this.options.pageToken = nextPageToken;\n    }\n    /** Fetches the next page in the query */\n    getNextPage() {\n        return this.ref.list(this.options);\n    }\n    [Symbol.iterator]() {\n        // Use a new index for each iterator. This makes multiple\n        // iterations over the iterable safe for non-trivial cases,\n        // such as use of break or nested looping over the same iterable.\n        let index = 0;\n        return {\n            next: () => {\n                if (index < this.documents.length) {\n                    return { value: this.documents[index++], done: false };\n                }\n                else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n}\n","import { Query } from './Query';\nimport { Document } from './Document';\nimport { List } from './List';\nimport { trimPath, isPath, objectToQuery, restrictTo } from './utils';\nexport class Reference {\n    constructor(path, db) {\n        var _a;\n        this.db = db;\n        if (typeof path !== 'string')\n            throw Error('The \"path\" argument should be a string');\n        // Normalize the path by removing slashes from\n        // the beginning or the end and trimming spaces.\n        path = trimPath(path);\n        this.id = (_a = path.split('/').pop()) !== null && _a !== void 0 ? _a : '';\n        this.path = path;\n        this.name = `${db.rootPath}/${path}`;\n        this.endpoint = `${db.endpoint}/${path}`;\n        this.isRoot = path === '';\n    }\n    /** Returns a reference to the parent document/collection */\n    get parent() {\n        if (this.isRoot)\n            throw Error(\"Can't get the parent of root\");\n        return new Reference(this.path.replace(/\\/?([^/]+)\\/?$/, ''), this.db);\n    }\n    /** Returns a reference to the parent collection */\n    get parentCollection() {\n        if (this.isRoot)\n            throw Error(\"Can't get parent of a root collection\");\n        if (this.isCollection)\n            return new Reference(this.path.replace(/(\\/([^/]+)\\/?){2}$|^([^/]+)$/, ''), this.db);\n        return this.parent;\n    }\n    /** Returns true if this reference is a collection */\n    get isCollection() {\n        return isPath('col', this.path);\n    }\n    /** Returns a reference to the specified child path */\n    child(path) {\n        // Remove starting forward slash\n        path = path.replace(/^\\/?/, '');\n        // Return a newly created document with the new sub path.\n        return new Reference(`${this.path}/${path}`, this.db);\n    }\n    async transact(method, obj, options = {}) {\n        const tx = this.db.transaction();\n        const res = tx[method](this, obj, options);\n        return await tx.commit().then(() => res);\n    }\n    /** Returns all documents in the collection */\n    async list(options) {\n        restrictTo('col', this);\n        return new List(await this.db.fetch(this.endpoint + objectToQuery(options)), this, options);\n    }\n    /** Returns the document of this reference. */\n    async get(options = {}) {\n        restrictTo('doc', this);\n        return new Document(await this.db.fetch(this.endpoint + objectToQuery(options)), this.db);\n    }\n    /** Create a new document with a randomly generated id */\n    async add(obj, options = {}) {\n        restrictTo('col', this);\n        return this.transact('add', obj, options);\n    }\n    /** Create a new document or overwrites an existing one matching this reference. */\n    async set(obj, options = {}) {\n        restrictTo('doc', this);\n        return this.transact('set', obj, options);\n    }\n    /** Updates a document while ignoring all missing fields in the provided object. */\n    async update(obj, options = {}) {\n        restrictTo('doc', this);\n        return this.transact('update', obj, options);\n    }\n    /** Deletes the referenced document from the database. */\n    async delete(options = {}) {\n        restrictTo('doc', this);\n        return this.transact('delete', options);\n    }\n    /** Queries the child documents/collections of this reference. */\n    query(options = {}) {\n        restrictTo('col', this);\n        return new Query({\n            from: this,\n            ...options\n        });\n    }\n    toJSON() {\n        return {\n            referenceValue: this.name\n        };\n    }\n}\n","import { compileOptions, encode, fid, getPathFromRef, restrictTo } from './utils';\nimport { Document } from './Document';\nexport class Transaction {\n    constructor(db) {\n        this.db = db;\n        this.writes = [];\n        this.preconditions = {};\n    }\n    /**\n     * Creates a write instruction and adds it into the\n     * transaction writes array.\n     * @private\n     */\n    write(ref, data, options = {}) {\n        if (typeof data !== 'object')\n            throw Error('The data argument is missing');\n        const transforms = [];\n        const name = `${this.db.rootPath}/${getPathFromRef(ref)}`;\n        const precondition = this.preconditions[name];\n        // Compile the JS Object into a Firebase Document.\n        const doc = encode(ref instanceof Document ? ref : data, transforms);\n        // Compile the options object into Firebase API arguments.\n        options = compileOptions(options, data);\n        // Check if there is any precondition created by getting a document\n        // as part of this transaction, and if there is then use it.\n        precondition && (options.currentDocument = precondition);\n        // Set the document's name\n        doc.name = name;\n        // Add the static properties.\n        this.writes.push({\n            update: doc,\n            ...options\n        });\n        // Add the Transforms if available.\n        transforms.length &&\n            this.writes.push({\n                transform: {\n                    document: doc.name,\n                    fieldTransforms: transforms\n                }\n            });\n    }\n    /**\n     * Wraps batch get with additional functionality needed in transactions.\n     * Transactions need to be atomic. So in order to know that the document\n     * wasn't changed concurrently then we save the updateTime of each document.\n     *\n     * Later we tell the database to use that as a precondition for the write.\n     * In other words, if the update time of a document changed, then abort\n     * the transaction. However, if a document didn't exist, then we use that\n     * as a precondition, telling the database that if it was created concurrently\n     * then it should abort the operation.\n     */\n    async get(refs) {\n        const docs = await this.db.batchGet(refs);\n        docs.forEach((doc) => {\n            const { name, updateTime } = doc.__meta__ || { name: doc.__missing__ };\n            this.preconditions[name] = updateTime\n                ? { updateTime }\n                : { exists: false };\n        });\n        return docs;\n    }\n    add(ref, data, options = {}) {\n        const path = `${restrictTo('col', ref)}/${fid()}`;\n        this.write(path, data, { exists: false, ...options });\n        return this.db.ref(path);\n    }\n    set(ref, data, options = {}) {\n        restrictTo('doc', ref);\n        this.write(ref, data, options);\n    }\n    update(ref, data, options = {}) {\n        restrictTo('doc', ref);\n        this.write(ref, data, { exists: true, updateMask: true, ...options });\n    }\n    /**\n     * Adds a delete operation to the transaction.\n     */\n    delete(ref, options = {}) {\n        const name = `${this.db.rootPath}/${restrictTo('doc', ref)}`;\n        options = compileOptions(options);\n        // Check if there is any precondition created by getting a document\n        // as part of this transaction, and if there is then use it.\n        this.preconditions[name] &&\n            (options.currentDocument = this.preconditions[name]);\n        this.writes.push({\n            delete: name,\n            ...options\n        });\n    }\n    /**\n     * Commits the transaction.\n     * Will throw if the transaction failed.\n     */\n    async commit() {\n        this.preconditions = {};\n        return void (await this.db.fetch(this.db.endpoint + ':commit', {\n            method: 'POST',\n            body: JSON.stringify({ writes: this.writes })\n        }));\n    }\n}\n","import { Reference } from './Reference';\nimport { Document } from './Document';\nimport { restrictTo } from './utils';\nimport { Transaction } from './Transaction';\n/** @private */\nasync function handleApiResponse(res) {\n    if (!res.ok) {\n        const data = await res.json();\n        if (Array.isArray(data))\n            throw data.length === 1\n                ? Object.assign(new Error(), data[0].error)\n                : data;\n        throw Object.assign(new Error(), data.error);\n    }\n    return res.json();\n}\n/** Database Instance */\nexport class Database {\n    constructor({ projectId, auth, name = '(default)', host = 'firestore.googleapis.com', ssl = true }) {\n        if (projectId === undefined)\n            throw Error('Database constructor expected the \"config\" argument to have a valid \"projectId\" property');\n        this.name = name;\n        this.auth = auth;\n        this.rootPath = `projects/${projectId}/databases/${name}/documents`;\n        this.endpoint = `http${ssl ? 's' : ''}://${host}/v1/${this.rootPath}`;\n    }\n    /**\n     * For internal use only.\n     * Uses native fetch, but adds authorization headers\n     * if the Reference was instantiated with an auth instance.\n     * The API is exactly the same as native fetch.\n     * @private\n     */\n    fetch(input, init) {\n        if (this.auth && this.auth.authorizedRequest)\n            return this.auth.authorizedRequest(input, init).then(handleApiResponse);\n        return fetch(input, init).then(handleApiResponse);\n    }\n    /**\n     * Returns a reference to a document or a collection.\n     * @param {(string|Document)} path Path to the collection or document.\n     * @returns {Reference} instance of a reference.\n     */\n    ref(path) {\n        if (path instanceof Document)\n            path = path.__meta__.path;\n        return new Reference(path, this);\n    }\n    async batchGet(refs) {\n        const response = await this.fetch(this.endpoint + ':batchGet', {\n            method: 'POST',\n            body: JSON.stringify({\n                documents: refs.map(ref => {\n                    const path = restrictTo('doc', ref);\n                    return `${this.rootPath}/${path}`;\n                })\n            })\n        });\n        return response.map((entry) => entry.found\n            ? new Document(entry.found, this)\n            : Object.defineProperty({}, '__missing__', { value: entry.missing }));\n    }\n    /** Returns a new transaction instance */\n    transaction() {\n        return new Transaction(this);\n    }\n    /**\n     * Executes the given `updateFunction` and attempts to commit\n     * the changes applied within it as a Transaction. If any document\n     * read within the transaction has changed, Cloud Firestore retries\n     * the updateFunction. If it fails to commit after 5 attempts, the\n     * transaction fails and throws.\n     *\n     * Will not re-attempt if an error is thrown inside the `updateFunction`\n     * or if any error that is not related to the transaction is received\n     * like a network error etc.\n     */\n    async runTransaction(fn, attempts = 5) {\n        const tx = new Transaction(this);\n        while (attempts > 0) {\n            await fn(tx);\n            // Only retry on transaction errors.\n            try {\n                await tx.commit();\n                break; // Stop trying if it succeeded.\n            }\n            catch (e) {\n                // Only throw if the error is not related to the transaction, or it is the last attempt.\n                if (attempts === 0 ||\n                    (e.status !== 'NOT_FOUND' && e.status !== 'FAILED_PRECONDITION'))\n                    throw Error(e);\n            }\n            attempts--;\n        }\n    }\n}\n","// quick and dirty stub\r\nimport { Database } from 'firebase-firestore-lite';\r\nexport class Lighter {\r\n    constructor() {\r\n        this.docs = null;\r\n        this.collection = (() => {\r\n            // use the first subdomain to figure out which collection to browse to\r\n            const { href, } = window.location;\r\n            const urlParts = href.split('/');\r\n            // remove the empty string at the end of array\r\n            if (urlParts[urlParts.length - 1] === '') {\r\n                urlParts.pop();\r\n            }\r\n            // remove the # items at the end of array\r\n            if (/#|\\?/.test(urlParts[urlParts.length - 1])) {\r\n                urlParts.pop();\r\n            }\r\n            const collection = urlParts.pop();\r\n            let domain = href;\r\n            domain = domain.substr(domain.indexOf('//') + 2);\r\n            domain = domain.substr(0, domain.indexOf('/'));\r\n            if (collection.includes(domain)) {\r\n                return 'portfolio';\r\n            }\r\n            return collection;\r\n        })();\r\n    }\r\n    async create() {\r\n        const db = new Database({\r\n            projectId: 'jiashe-ng',\r\n        });\r\n        this.docs = (await db.ref(this.collection).list()).documents;\r\n    }\r\n}\r\n//# sourceMappingURL=lighter.js.map","import SmoothScroll from 'smoothscroll-for-websites';\r\nimport Pace from 'pace-js';\r\nimport { TV } from './core/tv.js';\r\nimport { Hamburger } from './core/hamburger.js';\r\nimport { ScrollAnimator, FrameAnimator, } from './resources/animators.js';\r\nimport { $, $$, WindowUtility, ForUtility, } from './resources/utilities.js';\r\nimport { Sign } from './core/sign.js';\r\nimport { LottieButton } from './core/lottieButton.js';\r\nimport { Lighter } from './core/lighter.js';\r\nimport '../css/core/pace.css';\r\nimport 'swiper/swiper-bundle.css';\r\nimport '../css/main.css';\r\nclass Main {\r\n    constructor() {\r\n        this.mTV = new TV();\r\n        this.miscellaneousScrollingAnimator = new ScrollAnimator();\r\n        this.scrollToContinueFrameAnimator = new FrameAnimator();\r\n        this.mHamburger = new Hamburger(this.miscellaneousScrollingAnimator);\r\n        this.mWindowUtility = new WindowUtility();\r\n        this.mSign = new Sign();\r\n        this.mLottieButton = new LottieButton();\r\n        this.mLigher = new Lighter();\r\n        if (!Main.isBeingInstantiated) {\r\n            throw new Error('Constructor called directly');\r\n        }\r\n        Main.isBeingInstantiated = false;\r\n    }\r\n    static braceForInstantiation() {\r\n        Main.isBeingInstantiated = true;\r\n    }\r\n    static async create() {\r\n        ForUtility.addToArrayPrototype();\r\n        SmoothScroll({\r\n            animationTime: 500,\r\n            touchpadSupport: false,\r\n            pulseScale: 6,\r\n        });\r\n        Pace.start({\r\n            ajax: {\r\n                ignoreURLs: [\r\n                    'firestore.googleapis.com',\r\n                    /livereload/,\r\n                ],\r\n            },\r\n        });\r\n        if (document.readyState !== 'complete'\r\n            && document.readyState !== 'interactive') {\r\n            await new Promise((resolve) => $(document).on('DOMContentLoaded', resolve));\r\n        }\r\n        Main.braceForInstantiation();\r\n        const main = new Main();\r\n        await main.addScrollToContinueFrameAnimation();\r\n        await main.addHeaderFrameAnimation();\r\n        await main.addMiscellaneousScrollingAnimations();\r\n        await main.mSign.create();\r\n        await main.mLigher.create();\r\n        await main.mTV.create(main.mLigher.docs);\r\n    }\r\n    async addMiscellaneousScrollingAnimations() {\r\n        const mScrollAnimator = this.miscellaneousScrollingAnimator;\r\n        // meta\r\n        await mScrollAnimator.add({\r\n            type: 'meta',\r\n            index: -2,\r\n            items: {\r\n                onFrame: ((animation, frame) => {\r\n                    const { uid, totalFrames, } = animation.items;\r\n                    let scrollPercent = ((Math.min(Math.max(frame, 0) / (totalFrames - 1), 1)) * 100)\r\n                        .toString();\r\n                    switch (true) {\r\n                        case scrollPercent === 'NaN'\r\n                            || scrollPercent === '0':\r\n                            scrollPercent = '.00';\r\n                            break;\r\n                        case scrollPercent.substr(0, 2) === '0.':\r\n                            scrollPercent = scrollPercent\r\n                                .substr(1)\r\n                                .substring(0, 3);\r\n                            break;\r\n                        case scrollPercent.substring(1, 2) === '.':\r\n                            scrollPercent = scrollPercent\r\n                                .substring(0, 3);\r\n                            break;\r\n                        case scrollPercent === '100':\r\n                            break;\r\n                        default:\r\n                            scrollPercent = scrollPercent\r\n                                .substr(0, scrollPercent.indexOf('.'))\r\n                                .padStart(3, '0');\r\n                    }\r\n                    $('.scrollCounter > h1').textContent = `${scrollPercent}%`;\r\n                    [$('.scrollCounter > h2').textContent] = uid.split(' ');\r\n                }),\r\n            },\r\n        });\r\n        // pre\r\n        await mScrollAnimator.add({\r\n            index: -1,\r\n            type: 'null',\r\n            items: {\r\n                uid: 'portfolio',\r\n                onVisible: () => {\r\n                    this.scrollToContinueFrameAnimator.animatorContainers.forEach((animatorContainer) => this.scrollToContinueFrameAnimator.activate(animatorContainer));\r\n                },\r\n                onHidden: () => {\r\n                    this.scrollToContinueFrameAnimator.animatorContainers.forEach((animatorContainer) => this.scrollToContinueFrameAnimator.deactivate(animatorContainer));\r\n                },\r\n            },\r\n        });\r\n        // custom uid for index 0 (who_am_i)\r\n        await mScrollAnimator.add({\r\n            type: null,\r\n            index: 0,\r\n            items: {\r\n                uid: 'who_am_i?',\r\n            },\r\n        });\r\n        // scale 'screen' up as user scrolls\r\n        await mScrollAnimator.add({\r\n            type: null,\r\n            index: 0,\r\n            items: {\r\n                uid: 'screen_controller',\r\n                totalFrames: 120,\r\n                bezier: [0.75, 0, 0.25, 1],\r\n                onHidden: () => {\r\n                    $('.screen').css({\r\n                        transform: 'scale(1)',\r\n                    });\r\n                    $$('.splash').fastEach((node) => node\r\n                        .css({\r\n                        transform: 'scale(1)',\r\n                    }));\r\n                },\r\n                onFrame: (animation, frame) => {\r\n                    const { totalFrames, } = animation.items;\r\n                    $('.screen').css({\r\n                        transform: `scale(${1 + ((frame / totalFrames) / 2)})`,\r\n                    });\r\n                    $$('.splash').fastEach((node) => node\r\n                        .css({\r\n                        transform: `scale(${1 - ((frame / totalFrames) / 4)})`,\r\n                    }));\r\n                },\r\n            },\r\n        });\r\n        // disable pointer events for index -1 (portfolio) when user is halfway to index 0 (who_am_i)\r\n        await mScrollAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames: 120,\r\n                onFrame: (animation, frame) => {\r\n                    const { totalFrames, } = animation.items;\r\n                    let pointerEvents = 'none';\r\n                    if (frame > totalFrames / 2) {\r\n                        pointerEvents = 'auto';\r\n                    }\r\n                    mScrollAnimator.animations[0].fastEach((animationObject) => {\r\n                        const { domContent, } = animationObject.items;\r\n                        if (!domContent) {\r\n                            return;\r\n                        }\r\n                        domContent.css({\r\n                            pointerEvents,\r\n                        });\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        // blocks\r\n        await mScrollAnimator.add({\r\n            index: 0,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/blocks.json'),\r\n            items: {\r\n                uid: 'blocks',\r\n                respectDevicePixelRatio: false,\r\n                totalFrames: 150,\r\n            },\r\n        });\r\n        // aux about me stuff\r\n        await mScrollAnimator.add({\r\n            index: 0,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/aux about me stuff.json'),\r\n            items: {\r\n                uid: 'aux_about_me_stuff',\r\n                respectDevicePixelRatio: false,\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // aux about me dots\r\n        await mScrollAnimator.add({\r\n            index: 0,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/aux about me dots.json'),\r\n            items: {\r\n                uid: 'aux_about_me_dots',\r\n                respectDevicePixelRatio: false,\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // // hello\r\n        // await mScrollAnimator.add({\r\n        // \tindex: 0,\r\n        // \ttype: 'lottie',\r\n        // \tdata: await $().getJSON('assets/js/raw/lottie/hello.json'),\r\n        // \titems: {\r\n        // \t\tuid: 'hello',\r\n        // \t\tinvert: true,\r\n        // \t\ttotalFrames: 120,\r\n        // \t},\r\n        // });\r\n        // overlayController\r\n        await mScrollAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                uid: 'overlayController',\r\n                domContent: $('.overlay'),\r\n                totalFrames: 120,\r\n                onFrame: (animation, frame) => {\r\n                    const { domContent, } = animation.items;\r\n                    domContent.css({\r\n                        opacity: Math.min((frame / mScrollAnimator.totalFrames) * 2, 0.5),\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        // white solid background\r\n        await mScrollAnimator.add({\r\n            index: 1,\r\n            type: 'solid',\r\n            items: {\r\n                uid: 'what_now?',\r\n                respectDevicePixelRatio: false,\r\n                totalFrames: 150,\r\n            },\r\n        });\r\n        // aux what now stuff\r\n        await mScrollAnimator.add({\r\n            index: 1,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/aux what now stuff.json'),\r\n            items: {\r\n                uid: 'aux_what_now_stuff',\r\n                respectDevicePixelRatio: false,\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // aux what dots\r\n        await mScrollAnimator.add({\r\n            index: 1,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/aux what now dots.json'),\r\n            items: {\r\n                uid: 'aux_what_now_dots',\r\n                respectDevicePixelRatio: false,\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // white solid background\r\n        await mScrollAnimator.add({\r\n            index: 2,\r\n            type: 'solid',\r\n            items: {\r\n                uid: 'contact_me',\r\n                respectDevicePixelRatio: false,\r\n                totalFrames: 150,\r\n            },\r\n        });\r\n        // aux contact me stuff\r\n        await mScrollAnimator.add({\r\n            index: 2,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/aux contact me stuff.json'),\r\n            items: {\r\n                uid: 'aux_contact_me_stuff',\r\n                respectDevicePixelRatio: false,\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // aux contact me dots\r\n        await mScrollAnimator.add({\r\n            index: 2,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/aux contact me dots.json'),\r\n            items: {\r\n                uid: 'aux_contact_me_dots',\r\n                respectDevicePixelRatio: false,\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // lottie button\r\n        const lottieButton = await mScrollAnimator.add({\r\n            index: 2,\r\n            type: 'lottie',\r\n            data: await $().getJSON(window.lottieButtonJsonUrl\r\n                ?? 'assets/js/raw/lottie/email.json'),\r\n            items: {\r\n                uid: 'lottieButton',\r\n                invert: true,\r\n                totalFrames: 120,\r\n            },\r\n        });\r\n        // glow lottie button on hover\r\n        const lottieButtonDomContent = lottieButton.items.domContent;\r\n        const { dpr, resolutionMultiplier, } = mScrollAnimator;\r\n        this.mLottieButton.create({\r\n            domContent: lottieButtonDomContent,\r\n            dpr,\r\n            intent: window.lottieButtonIntent,\r\n            resolutionMultiplier,\r\n        });\r\n    }\r\n    async addScrollToContinueFrameAnimation() {\r\n        const mFrameAnimator = this.scrollToContinueFrameAnimator;\r\n        // scrollToContinue\r\n        await mFrameAnimator.add({\r\n            index: 0,\r\n            type: 'lottie',\r\n            data: await $().getJSON('assets/js/raw/lottie/scroll to continue.json'),\r\n            items: {\r\n                uid: 'scrollToContinue',\r\n                respectDevicePixelRatio: true,\r\n                totalFrames: 180,\r\n                width: {\r\n                    maximum: 1300,\r\n                },\r\n                onVisible: (animation) => {\r\n                    const { onRedraw, } = animation.items;\r\n                    onRedraw(animation);\r\n                    mFrameAnimator.animatorContainersWrapper.addClass('invert');\r\n                },\r\n                onRedraw: (animation) => {\r\n                    const { domContent, } = animation.items;\r\n                    domContent.css({\r\n                        transform: `translateY(${WindowUtility.viewport.height\r\n                            / 3\r\n                            / Math.max(window.devicePixelRatio / 2, 1)}px)`,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        mFrameAnimator.repeat(0, 180);\r\n    }\r\n    async addHeaderFrameAnimation() {\r\n        const mFrameAnimator = new FrameAnimator();\r\n        // logo\r\n        await mFrameAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                uid: 'logo',\r\n                totalFrames: 240,\r\n                offset: 80,\r\n                domContent: $('.logo'),\r\n                bezier: [0.77, 0, 0.175, 1],\r\n                onVisible: (animation) => {\r\n                    const { domContent, } = animation.items;\r\n                    domContent.removeClass('hidden');\r\n                },\r\n                onFrame: (animation, frame) => {\r\n                    const { domContent, totalFrames, } = animation.items;\r\n                    const finalPosition = 120;\r\n                    domContent.css({\r\n                        transform: `translateY(${((frame / totalFrames) * finalPosition) - finalPosition}px)`,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        // scrollCounter\r\n        await mFrameAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                uid: 'scrollCounter',\r\n                totalFrames: 240,\r\n                offset: 40,\r\n                domContent: $('.scrollCounter'),\r\n                bezier: [0.77, 0, 0.175, 1],\r\n                onVisible: (animation) => {\r\n                    const { domContent, } = animation.items;\r\n                    domContent.removeClass('hidden');\r\n                    domContent.css({\r\n                        transform: 'translateY(-10000px)',\r\n                    });\r\n                },\r\n                onFrame: (animation, frame) => {\r\n                    const { domContent, totalFrames, } = animation.items;\r\n                    const finalPosition = -120;\r\n                    domContent.css({\r\n                        transform: `translateY(${((frame / totalFrames) * finalPosition) - finalPosition}px)`,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        // hamburger menu\r\n        await mFrameAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            data: await this.mHamburger.getLottieData(),\r\n            items: {\r\n                uid: 'hamburger',\r\n                totalFrames: 240,\r\n                offset: 0,\r\n                domContent: this.mHamburger.hamburgerIconDom,\r\n                bezier: [0.77, 0, 0.175, 1],\r\n                onVisible: (animation) => {\r\n                    const { items, data, } = animation;\r\n                    const { domContent, } = items;\r\n                    domContent.removeClass('hidden');\r\n                    domContent.css({\r\n                        transform: 'translateY(-10000px)',\r\n                    });\r\n                    this.mHamburger.create(data);\r\n                },\r\n                onFrame: (animation, frame) => {\r\n                    const { domContent, totalFrames, } = animation.items;\r\n                    const finalPosition = 120;\r\n                    domContent.css({\r\n                        transform: `translateY(${((frame / totalFrames) * finalPosition) - finalPosition}px)`,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        // to control the various elements size, for css animation on mobile when the url bar appears\r\n        const sizeController = () => {\r\n            const viewportHeight = WindowUtility.viewport.height;\r\n            const innerHeight = WindowUtility.inner.height;\r\n            const header = $('.header.containersWrapper');\r\n            const hamburgerMenu = $('.__hamburgerMenu.containersWrapper');\r\n            if (viewportHeight === innerHeight) {\r\n                header.css({\r\n                    height: viewportHeight,\r\n                });\r\n                hamburgerMenu.css({\r\n                    height: viewportHeight,\r\n                });\r\n            }\r\n            else {\r\n                header.css({\r\n                    height: innerHeight,\r\n                });\r\n                hamburgerMenu.css({\r\n                    height: innerHeight,\r\n                });\r\n            }\r\n        };\r\n        sizeController();\r\n        $(window).on('resize', sizeController);\r\n        mFrameAnimator.animate(0, 240);\r\n    }\r\n}\r\nMain.isBeingInstantiated = false;\r\n(async () => {\r\n    await Main.create();\r\n})();\r\n//# sourceMappingURL=main.js.map"],"names":["activeElement","observer","refreshSize","deltaBufferTimer","defaultOptions","frameRate","animationTime","stepSize","pulseAlgorithm","pulseScale","pulseNormalize","accelerationDelta","accelerationMax","keyboardSupport","arrowScroll","fixedBackground","excluded","options","isFrame","direction","x","y","initDone","root","document","documentElement","deltaBuffer","isMac","test","navigator","platform","key","arrowKeys","37","38","39","40","init","body","html","windowHeight","window","innerHeight","scrollHeight","compatMode","indexOf","addEvent","keydown","top","self","isOldSafari","offsetHeight","pendingRefresh","fullPageElem","createElement","style","cssText","appendChild","setTimeout","height","MutationObserver","observe","attributes","childList","characterData","clearfix","clear","backgroundAttachment","que","pending","lastScroll","Date","now","scrollArray","elem","left","elapsed","factor","Math","min","push","lastX","lastY","start","scrollRoot","getScrollRoot","isWindowScroll","$scrollBehavior","el","id","uniqueID","smoothBehaviorForElement","scrollBehavior","getComputedStyle","isScrollBehaviorSmooth","requestFrame","step","time","scrollX","scrollY","i","length","item","finished","position","pulse","splice","scrollBy","scrollLeft","scrollTop","wheel","event","overrideX","overrideY","target","defaultPrevented","ctrlKey","isNodeName","src","shadowRoot","deltaX","undefined","wheelDeltaX","deltaY","wheelDeltaY","isDivisible","abs","wheelDelta","deltaMode","overflowing","overflowingAncestor","shift","clearTimeout","localStorage","SS_deltaBuffer","join","e","dpiScaledWheelDelta","allDeltasDivisableBy","tp","isTouchpad","preventDefault","scheduleClearCache","isChrome","Object","defineProperty","value","frameElement","parent","modifier","altKey","metaKey","shiftKey","keyCode","contains","buttonTypes","nodeName","type","isControl","URL","classList","parentNode","isInsideYoutubeVideo","isContentEditable","clientHeight","scrollingElement","scrollRemaining","mousedown","clearCacheTimer","cacheX","cacheY","setInterval","setCache","elems","cache","getCache","rootScrollHeight","cached","isContentOverflowing","overflowAutoOrScroll","parentElement","overflow","getPropertyValue","fn","arg","addEventListener","removeEvent","removeEventListener","tag","toLowerCase","split","n","divisor","floor","SCROLL_ROOT","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","element","delay","WebKitMutationObserver","MozMutationObserver","dummy","bodyScrollTop","removeChild","pulse_","val","exp","userAgent","isEdge","isSafari","isMobile","isIEWin7","isEnabledForBrowser","supportsPassive","get","wheelOpt","passive","wheelEvent","SmoothScroll","optionsToSet","hasOwnProperty","destroy","disconnect","SmoothScrollOptions","module","AjaxMonitor","Bar","DocumentMonitor","ElementMonitor","ElementTracker","EventLagMonitor","Evented","Events","NoTargetError","Pace","RequestIntercept","SOURCE_KEYS","Scaler","SocketRequestTracker","XHRRequestTracker","animation","avgAmplitude","bar","cancelAnimation","cancelAnimationFrame","extend","extendNative","getFromDOM","getIntercept","handlePushState","ignoreStack","result","runAnimation","scalers","shouldIgnoreURL","shouldTrack","source","sources","uniScaler","_WebSocket","_XDomainRequest","_XMLHttpRequest","_i","_intercept","_len","_pushState","_ref","_replaceState","__slice","slice","__hasProp","__extends","child","call","ctor","this","constructor","prototype","__super__","__indexOf","l","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","elements","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","ajax","trackMethods","trackWebSockets","ignoreURLs","performance","msRequestAnimationFrame","mozCancelAnimationFrame","last","tick","diff","args","obj","arguments","apply","out","arr","count","sum","v","json","data","querySelector","getAttribute","JSON","parse","_error","console","error","on","handler","ctx","once","_base","bindings","off","_results","trigger","_ref1","paceOptions","_super","Error","progress","getElement","targetElement","className","replace","innerHTML","firstChild","insertBefore","finish","update","prog","render","progressStr","transform","_j","_len1","_ref2","children","lastRenderedProgress","setAttribute","done","name","binding","XMLHttpRequest","XDomainRequest","WebSocket","to","from","configurable","enumerable","ignore","ret","unshift","track","method","toUpperCase","monitorXHR","_this","req","_open","open","url","async","request","flags","protocols","pattern","_arg","after","running","_ref3","readyState","restart","watch","tracker","_onreadystatechange","ProgressEvent","evt","lengthComputable","loaded","total","onreadystatechange","selector","check","states","loading","interactive","complete","avg","interval","points","samples","clearInterval","sinceLastUpdate","rate","catchup","lastProgress","frameTime","scaling","pow","max","history","pushState","replaceState","_k","_len2","_ref4","extraSources","stop","go","enqueueNextFrame","j","scaler","scalerList","_options","isObject","keys","forEach","ssrDocument","blur","querySelectorAll","getElementById","createEvent","initEvent","childNodes","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","getDocument","doc","ssrWindow","back","CustomEvent","Image","screen","matchMedia","getWindow","win","_inheritsLoose","subClass","superClass","create","__proto__","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","_setPrototypeOf","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","_construct","Parent","Class","a","instance","Function","bind","_isNativeFunction","_wrapNativeSuper","_cache","Map","TypeError","has","set","Wrapper","writable","_assertThisInitialized","ReferenceError","makeReactive","proto","Dom7","_Array","items","concat","Array","arrayFlat","res","isArray","arrayFilter","filter","arrayUnique","uniqueArray","qsa","context","$","trim","toCreate","tempParent","nodeType","addClass","classes","_key","classNames","map","c","_el$classList","add","removeClass","_key2","_el$classList2","remove","toggleClass","_len3","_key3","toggle","hasClass","_len4","_key4","attr","attrs","attrName","removeAttr","removeAttribute","transition","duration","_len5","_key5","eventType","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","is","_parents","parents","k","handleEvent","events","_event","dom7LiveListeners","proxyListener","dom7Listeners","_len6","_key6","handlers","dom7proxy","_len9","_key9","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","_styles","styles","offsetWidth","parseFloat","outerHeight","_styles2","offset","box","getBoundingClientRect","clientTop","clientLeft","css","props","_prop","each","index","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","append","newChild","tempDiv","prepend","next","nextElementSibling","nextAll","nextEls","_next","prev","previousElementSibling","prevAll","prevEls","_prev","_parent","closest","find","foundElements","found","Methods","support","device","browser","deleteProps","object","nextTick","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","bindModuleMethods","subKey","calcSupport","touch","DocumentTouch","pointerEvents","PointerEvent","maxTouchPoints","passiveListener","opts","gestures","getSupport","calcDevice","_temp","ua","ios","android","screenWidth","width","screenHeight","match","ipad","ipod","iphone","windows","macos","os","getDevice","overrides","calcBrowser","isWebView","getBrowser","methodName","swiper","resize","resizeHandler","destroyed","initialized","emit","orientationChangeHandler","_extends","assign","Observer","attach","WebkitMutationObserver","mutations","observerUpdate","observers","params","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","useParams","instanceParams","modules","moduleName","useModules","modulesParams","moduleParams","moduleEventName","priority","eventsListeners","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","eventsArray","updateSize","clientWidth","isHorizontal","isVertical","parseInt","Number","isNaN","size","updateSlides","swiperSize","rtl","rtlTranslate","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","slidesForMargin","slideEl","slideIndex","cssMode","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","slidesNumberEvenToRows","slideSize","virtualSize","marginLeft","marginTop","marginRight","marginBottom","slidesPerColumn","ceil","slidesPerView","slidesPerColumnFill","newSlidesGrid","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","column","row","slidesPerGroup","groupIndex","slideIndexInGroup","columnsInGroup","-webkit-box-ordinal-group","-moz-box-ordinal-group","-ms-flex-order","-webkit-order","order","slideStyles","currentTransform","currentWebKitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","paddingTop","paddingBottom","_boxSizing","swiperSlideSize","centeredSlides","slidesPerGroupSkip","effect","setWrapperSize","slidesGridItem","_i2","_slidesGridItem","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","_allSlidesSize","allSlidesOffset","snapIndex","watchOverflow","checkOverflow","watchSlidesProgress","watchSlidesVisibility","updateSlidesOffset","updateAutoHeight","speed","activeSlides","newHeight","setTransition","visibleSlides","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","translate","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideProgress","minTranslate","autoHeight","slideBefore","slideAfter","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","updateSlidesClasses","activeSlide","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","wrapperEl","previousTranslate","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","_wrapperEl$scrollTo","isH","scrollTo","behavior","onTranslateToWrapperTransitionEnd","transitionStart","dir","slideTo","initialSlide","allowSlideNext","allowSlidePrev","t","scrollWidth","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","increment","loopPreventsSlide","loopFix","_clientLeft","slidePrev","normalize","prevIndex","normalizedTranslate","normalizedSnapGrid","prevSnap","slideReset","slideToClosest","threshold","currentSnap","slidesPerViewDynamic","slideToIndex","loopCreate","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","cursor","unsetGrabCursor","appendSlide","prependSlide","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","which","button","isTouched","isMoved","noSwiping","noSwipingSelector","noSwipingClass","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","formElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","PI","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","grabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","velocities","onTouchEnd","currentPos","touchEndTime","timeDiff","lastClickTime","freeModeMomentum","lastMoveEvent","pop","velocityEvent","distance","velocity","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","afterBouncePosition","needsLoopFix","doBounce","bounceAmount","freeModeMomentumBounceRatio","freeModeMomentumBounce","freeModeSticky","moveDistance","currentSlideSize","longSwipesMs","stopIndex","groupSize","_increment","ratio","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","breakpoints","setBreakpoint","autoplay","paused","run","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","attachEvents","touchEvents","move","end","passiveListeners","cancel","updateOnWindowResize","detachEvents","_swiper$loopedSlides","breakpoint","getBreakpoint","currentBreakpoint","breakpointOnlyParams","param","paramValue","breakpointParams","originalParams","wasMultiRow","isMultiRow","containerModifierClass","emitContainerClasses","directionChanged","needsReLoop","changeDirection","getBreakpoints","point","minRatio","substr","sort","b","_points$i","innerWidth","addClasses","suffixes","suffix","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","onload","onerror","preloadImages","imagesLoaded","imagesToLoad","updateOnImagesReady","currentSrc","wasLocked","lastSlidePosition","uniqueNavElements","wrapperClass","_emitClasses","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","prototypes","modular","eventsEmitter","manipulation","images","extendedDefaults","Swiper","prototypeGroup","protoMethod","moduleParamName","swiperParams","defaults","passedParams","eventName","swipers","containerEl","newParams","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","_proto","spv","breakLoop","translateValue","newDirection","needUpdate","currentDirection","deleteInstance","cleanStyles","extendDefaults","newDefaults","installModule","use","m","Resize","$Factory","objectToCreateFrom","ForUtility","addToArrayPrototype","evaluate","functionToEvaluate","String","fastEach","property","processedValue","returnedValues","propertyHasParentheses","stackable","hasParentheses","computed","valueWithUnit","includes","getValueWithoutUnit","returnAsObject","getAttributesFromValueString","valueWithoutUnit","getValueWithUnit","oldAttributes","newAttributes","processedAttributes","valueArray","valueString","attributeKey","getValueStringFromAttributes","returnedValue","formatValueString","valueStringWithAttributes","valueArrayWithAttributes","attributeKeys","attributeValues","attribute","substring","attributeObject","eventsStr","eventOptions","option","eventStr","processedEvent","getJSON","response","fetch","$$","NotJQuery","m$Factory","values","node","queryResult","getAll","mNotJQuery","[object Object]","__forUtilitySingletonExecuted","methods","forAwait","workingArray","_this2","returnValues","getSome","WindowUtility","invalidateCache","inner","viewport","client","amount","devicePixelRatio","_this$cache2","_this$cache2$client","_this$cache4","_this$cache4$inner","_this$cache6","_this$cache6$viewport","viewportCalibrator","_this$cache7","refresh","BezierUtility","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","sampleValues","Float32Array","calcBezier","getValue","getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","getSlope","newtonRaphsonIterate","binarySubdivide","A","aA1","aA2","B","C","aT","aA","aB","currentT","aGuessT","currentSlope","factory","exports","lottie","bodymovin","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","bm_pow","bm_sqrt","bm_floor","bm_min","BMMath","ProjectInterface","propertyNames","random","absArr","createSizedArray","defaultCurveSegments","degToRads","roundCorner","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","r","g","f","q","RGBtoHSV","d","addSaturationToRGB","color","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","_cbs","createTypedArray","Uint8ClampedArray","Int16Array","createTag","DynamicPropertyContainer","addDynamicProperty","prop","dynamicProperties","container","_isAnimated","iterateDynamicProperties","_mdf","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","mode","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","round","reset","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","tx","ty","tz","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","global","startdenom","significance","ARC4","keylen","me","S","copy","mixkey","seed","smear","stringseed","charCodeAt","tostring","fromCharCode","shortseed","flatten","depth","typ","entropy","nodecrypto","Uint8Array","crypto","msCrypto","getRandomValues","plugins","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","state","BezierFactory","ob","nm","str","beziers","bezEasing","BezierEasing","float32ArraySupported","_mSampleValues","_precomputed","_precompute","_getTForX","_calcSampleValues","mSampleValues","extendPrototype","destination","sourcePrototype","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","flag","bezier_segment_points","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","currTime","getTime","timeToCall","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","stringify","ks","it","path","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","pathData","paths","__converted","checkColors","iterateShapes","checkShapes","cl","singleShape","moduleOb","__complete","dataManager","FontManager","emptyChar","w","combinedCharacters","setUpNode","font","family","fontFamily","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","familyArray","enabledFamilies","trimFontOptions","createHelper","def","fontData","tHelper","createNS","fFamily","fStyle","fWeight","fClass","getContext","Font","fonts","typekitLoaded","isLoaded","initTime","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","getCombinedCharacterCodes","addChars","ch","addFonts","defs","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","monoCase","sansCase","fPath","fOrigin","rel","sc","helper","getCharData","char","warn","getFontByName","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","PropertyFactory","initFrame","math_abs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","endValue","nextKeyTime","keyTime","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shape_pool","releaseShapes","addShape","ShapeProperty","shapeCollection_pool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","_cw","_v","StarShapeProperty","ir","convertToPath","convertStarToPath","convertPolygonToPath","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","convertRectToPath","v0","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","newPosPerc","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","resetElements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","itemsTransform","cont","copies","group","ix","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","op","comparePoints","buildShapeString","pathNodes","_o","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","original_path","imagePath","u","_imageLoaded","loadAssets","cb","_createImageData","setAssetsPath","setPath","getImage","img","createImgData","crossOrigin","createImageData","setAttributeNS","setCacheType","featureSupport","maskType","filtersFactory","createFilter","filId","fil","createAlphaToLuminanceFilter","feColorMatrix","assetLoader","formatResponse","xhr","responseText","load","errorCallback","responseType","err","send","status","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimator_animatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","mask","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","rot","atan","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","charAt","newLineFlag","charData","anchorGrouping","currentSize","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","pool_factory","initialLength","_create","_release","_clone","pooling","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","rendererType","CanvasRenderer","clearCanvas","dpr","wrapper","currentGlobalAlpha","contextData","CVContextData","transformMat","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","filterID","expan","lastPath","lastOperator","filterId","lastRadius","createLayerSolidPath","getShapeProp","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGShapeData","transformers","level","caches","lStr","lvl","ShapeGroupData","prevViewData","gr","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","transforms","addTransformSequence","trNodes","BaseElement","NullElement","initBaseData","initTransform","initHierarchy","SVGBaseElement","IShapeElement","ITextElement","ICompElement","IImageElement","getAssetData","initElement","sourceRect","ISolidElement","AudioElement","initRenderable","_isPlaying","_canPlay","audioController","_currentTime","tm","_placeholder","SVGShapeElement","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","saved","cArrPos","cTr","cO","savedOp","CVBaseElement","CVImageElement","imageLoader","CVCompElement","CVMaskElement","hasMasks","CVShapeElement","CVSolidElement","CVTextElement","textSpans","stroke","fill","currentRender","sWidth","fValue","CVEffects","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","imagePreloader","fr","compSize","SVGTextElement","SVGCompElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","hide","display","show","ctxTransform","cProps","trProps","canvasContext","ctxOpacity","globalAlpha","restore","save","actionFlag","duplicate","blendMode","popped","transformOrigin","mozTransformOrigin","webkitTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","par","fillType","beginPath","closePath","clip","clearRect","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","_isParent","prepareProperties","isVisible","_matMdf","_opMdf","ao","renderTransform","globalToLocal","ptNew","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","hd","renderElement","renderInnerContent","innerElem","destroyBaseElement","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","styleOb","SVGStyleData","pathElement","pElem","SVGStrokeStyleData","SVGFillStyleData","SVGGradientFillStyleData","SVGGradientStrokeStyleData","gf","ms","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","SVGTransformData","createShapeElement","ownTransformers","SVGElementsRenderer","createRenderFunction","setElementStyles","processedPos","ownStyles","ownModifiers","renderShape","msElem","animatedContent","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","opacity","dashResetter","styleElem","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderPath","renderFill","renderStroke","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","itemData","styleData","createLinearGradient","ang","dist","createRadialGradient","cValues","addColorStop","hasFill","hasStroke","commands","pathArr","renderedLetter","lastFill","lastStroke","lastStrokeW","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","first","loadAnimation","setParams","setSpeed","setDirection","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","div","goToAndStop","freeze","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","rendererSettings","HybridRenderer","autoloadSegments","initialSegment","lastIndexOf","fileName","wrapperAttributes","getNamedItem","prerender","completeData","loadNextSegment","segmentPath","loadSegments","checkLoaded","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","playSegments","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","easeInBez","easeOutBez","easeInOutBez","initiateExpression","needsVelocity","_needsRandom","elemType","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loopOut","smooth","toWorld","fromWorld","fromComp","toComp","anchorPoint","thisLayer","thisComp","velocityAtTime","__expression_functions","scoped_bm_rt","xf","eval","expression_function","numKeys","active","wiggle","freq","amp","addedAmps","iterations","periods","getVelocityAtTime","textIndex","textTotal","selectorValue","seedRandom","seedrandom","randSeed","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotation","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","inTangents","outTangents","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","defineProperties","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","_dashPropertyGroup","dashOb","addPropertyToDashOb","strokeWidth","dash","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_sourceText","_thisLayerFunction","sourceText","stringValue","_prevValue","toWorldMat","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_transformFactory","_pz","_px","_py","compositions","_thisProjectFunction","createGroupInterface","groupInterface","ef","effectElements","createValueInterface","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TextExpressionSelectorProp","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","getValueProxy","eff","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","version","scripts","myScript","AnimationFactory","thisArg","baseObject","baseItemsObject","__caller","__container","createAndReturnNewContainerDom","__framesBeforeCurrent","getTotalFramesBeforeIndex","uid","domContent","disabled","respectDevicePixelRatio","bezier","maximum","onFrame","onVisible","onHidden","onRedraw","animationObject","animatorContainer","CoreAnimator","PREFIX","invert","animatorContainersWrapper","animatorContainers","LottieFactory","_this3","resolutionMultiplier","Promise","resolve","lottieObject","frame","onLottieObjectCreated","lottieObjectDom","SolidFactory","_this4","createAndReturnDomContent","background","mWindowUtility","metaAnimations","__animatorContainersWrapper","visibleAnimations","rafId","maxAttributeCache","minAttributeCache","onWindowResize","animationToBeConstructed","_this5","solidObject","getMaxAttributeFromAnimationsItems","reduce","accumulator","onAdd","onNewAnimation","getRelativeFrame","rawAnimate","fps","inverted","processedFrom","processedTo","_this6","workingAnimations","workingAnimation","workingWidth","workingHeight","getValueWithinRange","workingAttributeValue","lottieObjectContainersWrapperWidth","lottieObjectContainersWrapperHeight","animationIndex","currentAnimationsTotalFrames","uids","animationTotalFrames","accumulated","accumulating","maxOffset","minOffset","getMinAttributeFromAnimationsItems","mBezierUtility","globalFrame","localFrame","DEBUG","log","onVisibleAnimationsChange","metaAnimation","previousFrames","unhide","visibleAnimation","seekToUid","targetUid","onSeek","seekTo","domElement","deactivate","FrameAnimator","animate","_this7","_superprop_getOnFrame","repeat","_this8","cancelNextFrame","ScrollAnimator","super","nextOnScrollCancelled","responsibleForLastResize","_this9","documentHeight","scrollPosition","scrollOptions","pageYOffset","pageXOffset","TV","screenDomSelector","screenDom","clickFrameAnimator","currentOnClickDom","mouseCatcherDom","cachedMousePosition","mouseCatcherScaleResetTimeoutId","mouseCatcherOverrideScale","splashDoms","docs","_this10","createChannels","createSwiper","createTitleClicks","createMouseChaser","createSplashParallax","onMouseMove","subtitle","splash","markdown","wrapperDom","containerDom","imageDom","titleDom","subtitleDom","_this11","_this12","redirectToMarkdownViewer","pagination","clickable","hashNavigation","watchState","margin","uri","encodeURIComponent","clientX","clientY","cachedClientX","cachedClientY","differenceX","differenceY","magic","unit","splashDom","vw","vh","currentTarget","_this13","Hamburger","mCoreAnimator","lottieAnimation","lottiePlayDirection","hamburgerIconDom","hamburgerMenuContainersWrapperDom","skinDom","organsDom","titles","currentOnMouseDom","cachedAnimationsLength","lottieAnimationData","otherOnAdd","createHamburgerMenuItems","createHamburgerToppings","addLottie","isOpen","getLottieData","newState","animateCloseHamburger","hamburgerMenuTitleDom","animateTitleReveal","animateTitleHover","animateOpenHamburger","onTitleMouseOver","currentOnMouseChildDom","onTitleMouseOut","grid-template-rows","menuContainerDom","processedIndex","grid-row","grid-column","revealFrameAnimator","hoverFrameAnimator","prefixSpanDom","titleChar","spanDom","suffixSpanDom","containerDomContent","titleIndex","Placeholderer","placeholders","descriptionDomCache","_this14","cacheDescriptionPlaceholders","updateDescriptionPlaceholders","descriptionDom","indexOfKeyword","indexOfRest","keyword","Sign","mPlaceholderer","_this15","createAnimations","pixels","createDescriptions","createWhoAmITitle","createWhoAmIOutline","createWhoAmISocial","createWhatNowTitle","createWhatNowOutline","titleDoms","charRevealScrollAnimator","separateTextContentIntoSpans","descriptionDoms","textNodes","whoAmIOutlineDom","revealScrollAnimator","socialDom","iconRevealAnimator","whatNowOutlineDom","processedTextContent","brDom","LottieButton","intent","resolutionModifier","isClickable","canvasCtx","innerCenterOffset","getImageData","some","GeoPoint","latitude","longitude","toJSON","geoPointValue","isNumber","transformsMap","serverTimestamp","appendToArray","removeFromArray","Transform","transformName","validator","encodeValue","arrayValue","validChars","trimPath","isPath","isRef","Reference","isCollection","isRefType","ref","Document","getPathFromRef","_a","_b","_c","_d","__meta__","restrictTo","isDoc","isPositiveInteger","isInteger","objectToQuery","parentProp","encode","propPath","getKeyPaths","parentPath","keyPath","compileOptions","compiled","entries","currentDocument","updateMask","fieldPaths","decodeValue","db","decode","rootPath","fields","objectClass","valueType","toISOString","fieldPath","fid","randBytes","rawDoc","createTime","updateTime","meta","operatorsMap","<","<=",">",">=","==","validateFilter","encoders","select","fieldsArray","encodeFilter","unaryFilter","field","fieldFilter","where","compositeFilter","filters","orderBy","startAt","endAt","documentToCursor","referenceValue","before","queryOptions","Query","optionValue","_this16","message","parentDocument","collection","allDescendants","collectionId","asc","number","limit","results","_this17","endpoint","encoded","structuredQuery","List","rawList","documents","nextPageToken","pageToken","getNextPage","Symbol","iterator","isRoot","parentCollection","transact","_this18","transaction","commit","then","_this19","_this20","_this21","_this22","_this23","delete","_this24","query","Transaction","writes","preconditions","write","precondition","fieldTransforms","refs","_this25","batchGet","__missing__","exists","_this26","handleApiResponse","ok","Database","projectId","auth","ssl","input","authorizedRequest","_this27","entry","missing","runTransaction","attempts","_this28","Lighter","urlParts","domain","_this29","Main","mTV","miscellaneousScrollingAnimator","scrollToContinueFrameAnimator","mHamburger","mSign","mLottieButton","mLigher","isBeingInstantiated","touchpadSupport","braceForInstantiation","main","addScrollToContinueFrameAnimation","addHeaderFrameAnimation","addMiscellaneousScrollingAnimations","mScrollAnimator","_this30","scrollPercent","padStart","lottieButtonDomContent","lottieButtonJsonUrl","lottieButtonIntent","mFrameAnimator","_this31","_this32","sizeController","viewportHeight","header","hamburgerMenu","_asyncToGenerator"],"mappings":"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"}