{"version":3,"file":"bundle.js","sources":["../../node_modules/smoothscroll-for-websites/SmoothScroll.js","../../node_modules/darkmode-js/lib/darkmode-js.js","../../node_modules/marked/lib/marked.js","../../src/portfolio/assets/js/core/ohHiMark.js","../../src/assets/js/resources/utilities/factories/$.factory.js","../../src/assets/js/resources/utilities/$.utility.js","../../src/assets/js/resources/utilities/for.utility.js","../../src/assets/js/resources/utilities/window.utility.js","../../src/assets/js/resources/utilities/bezier.utility.js","../../node_modules/lottie-web/build/player/lottie_canvas.js","../../src/assets/js/resources/animators/factories/animation.factory.js","../../src/assets/js/resources/animators/factories/lottie.factory.js","../../src/assets/js/resources/animators/factories/solid.factory.js","../../src/assets/js/resources/animators/core.animator.js","../../src/assets/js/resources/animators/frame.animator.js","../../src/portfolio/assets/js/main.js"],"sourcesContent":["//\n// SmoothScroll for websites v1.4.10 (Balazs Galambosi)\n// http://www.smoothscroll.net/\n//\n// Licensed under the terms of the MIT license.\n//\n// You may use it in your theme if you credit me. \n// It is also free to use on any individual website.\n//\n// Exception:\n// The only restriction is to not publish any  \n// extension for browsers or native application\n// without getting a written permission first.\n//\n\n(function () {\n  \n// Scroll Variables (tweakable)\nvar defaultOptions = {\n\n    // Scrolling Core\n    frameRate        : 150, // [Hz]\n    animationTime    : 400, // [ms]\n    stepSize         : 100, // [px]\n\n    // Pulse (less tweakable)\n    // ratio of \"tail\" to \"acceleration\"\n    pulseAlgorithm   : true,\n    pulseScale       : 4,\n    pulseNormalize   : 1,\n\n    // Acceleration\n    accelerationDelta : 50,  // 50\n    accelerationMax   : 3,   // 3\n\n    // Keyboard Settings\n    keyboardSupport   : true,  // option\n    arrowScroll       : 50,    // [px]\n\n    // Other\n    fixedBackground   : true, \n    excluded          : ''    \n};\n\nvar options = defaultOptions;\n\n\n// Other Variables\nvar isExcluded = false;\nvar isFrame = false;\nvar direction = { x: 0, y: 0 };\nvar initDone  = false;\nvar root = document.documentElement;\nvar activeElement;\nvar observer;\nvar refreshSize;\nvar deltaBuffer = [];\nvar deltaBufferTimer;\nvar isMac = /^Mac/.test(navigator.platform);\n\nvar key = { left: 37, up: 38, right: 39, down: 40, spacebar: 32, \n            pageup: 33, pagedown: 34, end: 35, home: 36 };\nvar arrowKeys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n\n/***********************************************\n * INITIALIZE\n ***********************************************/\n\n/**\n * Tests if smooth scrolling is allowed. Shuts down everything if not.\n */\nfunction initTest() {\n    if (options.keyboardSupport) {\n        addEvent('keydown', keydown);\n    }\n}\n\n/**\n * Sets up scrolls array, determines if frames are involved.\n */\nfunction init() {\n  \n    if (initDone || !document.body) return;\n\n    initDone = true;\n\n    var body = document.body;\n    var html = document.documentElement;\n    var windowHeight = window.innerHeight; \n    var scrollHeight = body.scrollHeight;\n    \n    // check compat mode for root element\n    root = (document.compatMode.indexOf('CSS') >= 0) ? html : body;\n    activeElement = body;\n    \n    initTest();\n\n    // Checks if this script is running in a frame\n    if (top != self) {\n        isFrame = true;\n    }\n\n    /**\n     * Safari 10 fixed it, Chrome fixed it in v45:\n     * This fixes a bug where the areas left and right to \n     * the content does not trigger the onmousewheel event\n     * on some pages. e.g.: html, body { height: 100% }\n     */\n    else if (isOldSafari &&\n             scrollHeight > windowHeight &&\n            (body.offsetHeight <= windowHeight || \n             html.offsetHeight <= windowHeight)) {\n\n        var fullPageElem = document.createElement('div');\n        fullPageElem.style.cssText = 'position:absolute; z-index:-10000; ' +\n                                     'top:0; left:0; right:0; height:' + \n                                      root.scrollHeight + 'px';\n        document.body.appendChild(fullPageElem);\n        \n        // DOM changed (throttled) to fix height\n        var pendingRefresh;\n        refreshSize = function () {\n            if (pendingRefresh) return; // could also be: clearTimeout(pendingRefresh);\n            pendingRefresh = setTimeout(function () {\n                if (isExcluded) return; // could be running after cleanup\n                fullPageElem.style.height = '0';\n                fullPageElem.style.height = root.scrollHeight + 'px';\n                pendingRefresh = null;\n            }, 500); // act rarely to stay fast\n        };\n  \n        setTimeout(refreshSize, 10);\n\n        addEvent('resize', refreshSize);\n\n        // TODO: attributeFilter?\n        var config = {\n            attributes: true, \n            childList: true, \n            characterData: false \n            // subtree: true\n        };\n\n        observer = new MutationObserver(refreshSize);\n        observer.observe(body, config);\n\n        if (root.offsetHeight <= windowHeight) {\n            var clearfix = document.createElement('div');   \n            clearfix.style.clear = 'both';\n            body.appendChild(clearfix);\n        }\n    }\n\n    // disable fixed background\n    if (!options.fixedBackground && !isExcluded) {\n        body.style.backgroundAttachment = 'scroll';\n        html.style.backgroundAttachment = 'scroll';\n    }\n}\n\n/**\n * Removes event listeners and other traces left on the page.\n */\nfunction cleanup() {\n    observer && observer.disconnect();\n    removeEvent(wheelEvent, wheel);\n    removeEvent('mousedown', mousedown);\n    removeEvent('keydown', keydown);\n    removeEvent('resize', refreshSize);\n    removeEvent('load', init);\n}\n\n\n/************************************************\n * SCROLLING \n ************************************************/\n \nvar que = [];\nvar pending = false;\nvar lastScroll = Date.now();\n\n/**\n * Pushes scroll actions to the scrolling queue.\n */\nfunction scrollArray(elem, left, top) {\n    \n    directionCheck(left, top);\n\n    if (options.accelerationMax != 1) {\n        var now = Date.now();\n        var elapsed = now - lastScroll;\n        if (elapsed < options.accelerationDelta) {\n            var factor = (1 + (50 / elapsed)) / 2;\n            if (factor > 1) {\n                factor = Math.min(factor, options.accelerationMax);\n                left *= factor;\n                top  *= factor;\n            }\n        }\n        lastScroll = Date.now();\n    }          \n    \n    // push a scroll command\n    que.push({\n        x: left, \n        y: top, \n        lastX: (left < 0) ? 0.99 : -0.99,\n        lastY: (top  < 0) ? 0.99 : -0.99, \n        start: Date.now()\n    });\n        \n    // don't act if there's a pending queue\n    if (pending) {\n        return;\n    }  \n\n    var scrollRoot = getScrollRoot();\n    var isWindowScroll = (elem === scrollRoot || elem === document.body);\n    \n    // if we haven't already fixed the behavior, \n    // and it needs fixing for this sesh\n    if (elem.$scrollBehavior == null && isScrollBehaviorSmooth(elem)) {\n        elem.$scrollBehavior = elem.style.scrollBehavior;\n        elem.style.scrollBehavior = 'auto';\n    }\n\n    var step = function (time) {\n        \n        var now = Date.now();\n        var scrollX = 0;\n        var scrollY = 0; \n    \n        for (var i = 0; i < que.length; i++) {\n            \n            var item = que[i];\n            var elapsed  = now - item.start;\n            var finished = (elapsed >= options.animationTime);\n            \n            // scroll position: [0, 1]\n            var position = (finished) ? 1 : elapsed / options.animationTime;\n            \n            // easing [optional]\n            if (options.pulseAlgorithm) {\n                position = pulse(position);\n            }\n            \n            // only need the difference\n            var x = (item.x * position - item.lastX) >> 0;\n            var y = (item.y * position - item.lastY) >> 0;\n            \n            // add this to the total scrolling\n            scrollX += x;\n            scrollY += y;            \n            \n            // update last values\n            item.lastX += x;\n            item.lastY += y;\n        \n            // delete and step back if it's over\n            if (finished) {\n                que.splice(i, 1); i--;\n            }           \n        }\n\n        // scroll left and top\n        if (isWindowScroll) {\n            window.scrollBy(scrollX, scrollY);\n        } \n        else {\n            if (scrollX) elem.scrollLeft += scrollX;\n            if (scrollY) elem.scrollTop  += scrollY;                    \n        }\n        \n        // clean up if there's nothing left to do\n        if (!left && !top) {\n            que = [];\n        }\n        \n        if (que.length) { \n            requestFrame(step, elem, (1000 / options.frameRate + 1)); \n        } else { \n            pending = false;\n            // restore default behavior at the end of scrolling sesh\n            if (elem.$scrollBehavior != null) {\n                elem.style.scrollBehavior = elem.$scrollBehavior;\n                elem.$scrollBehavior = null;\n            }\n        }\n    };\n    \n    // start a new queue of actions\n    requestFrame(step, elem, 0);\n    pending = true;\n}\n\n\n/***********************************************\n * EVENTS\n ***********************************************/\n\n// @edited 11052020/1\n// function wheel(event) {\n/**\n * Mouse wheel handler.\n * @param {Object} event\n */\nfunction wheel(event, overrideX, overrideY) {\n\n\tif (!initDone) {\n\t\tinit();\n\t}\n\t\n\tvar target = event.target;\n\n\t// leave early if default action is prevented   \n\t// or it's a zooming event with CTRL \n\tif (event.defaultPrevented || event.ctrlKey) {\n\t\treturn true;\n\t}\n\t\n\t// leave embedded content alone (flash & pdf)\n\tif (isNodeName(activeElement, 'embed') || \n\t\t(isNodeName(target, 'embed') && /\\.pdf/i.test(target.src)) ||\n\t\tisNodeName(activeElement, 'object') ||\n\t\ttarget.shadowRoot) {\n\t\treturn true;\n\t}\n\n\t// @edited 11052020/2\n\t// var deltaX = -event.wheelDeltaX || event.deltaX || 0;\n\tvar deltaX = overrideX !== undefined ? overrideX : -event.wheelDeltaX || event.deltaX || 0;\n\t// @edited 11052020/3\n\t// var deltaY = -event.wheelDeltaY || event.deltaY || 0;\n\tvar deltaY = overrideY !== undefined ? overrideY : -event.wheelDeltaY || event.deltaY || 0;\n\t\n\tif (isMac) {\n\t\tif (event.wheelDeltaX && isDivisible(event.wheelDeltaX, 120)) {\n\t\t\tdeltaX = -120 * (event.wheelDeltaX / Math.abs(event.wheelDeltaX));\n\t\t}\n\t\tif (event.wheelDeltaY && isDivisible(event.wheelDeltaY, 120)) {\n\t\t\tdeltaY = -120 * (event.wheelDeltaY / Math.abs(event.wheelDeltaY));\n\t\t}\n\t}\n\t\n\t// use wheelDelta if deltaX/Y is not available\n\tif (!deltaX && !deltaY) {\n\t\tdeltaY = -event.wheelDelta || 0;\n\t}\n\n\t// line based scrolling (Firefox mostly)\n\tif (event.deltaMode === 1) {\n\t\tdeltaX *= 40;\n\t\tdeltaY *= 40;\n\t}\n\n\tvar overflowing = overflowingAncestor(target);\n\n\t// nothing to do if there's no element that's scrollable\n\tif (!overflowing) {\n\t\t// except Chrome iframes seem to eat wheel events, which we need to \n\t\t// propagate up, if the iframe has nothing overflowing to scroll\n\t\tif (isFrame && isChrome)  {\n\t\t\t// change target to iframe element itself for the parent frame\n\t\t\tObject.defineProperty(event, \"target\", {value: window.frameElement});\n\t\t\treturn parent.wheel(event);\n\t\t}\n\t\treturn true;\n\t}\n\t\n\t// check if it's a touchpad scroll that should be ignored\n\tif (isTouchpad(deltaY)) {\n\t\treturn true;\n\t}\n\n\t// scale by step size\n\t// delta is 120 most of the time\n\t// synaptics seems to send 1 sometimes\n\tif (Math.abs(deltaX) > 1.2) {\n\t\tdeltaX *= options.stepSize / 120;\n\t}\n\tif (Math.abs(deltaY) > 1.2) {\n\t\tdeltaY *= options.stepSize / 120;\n\t}\n\t\n\tscrollArray(overflowing, deltaX, deltaY);\n\tevent.preventDefault();\n\tscheduleClearCache();\n}\n\n/**\n * Keydown event handler.\n * @param {Object} event\n */\nfunction keydown(event) {\n\n    var target   = event.target;\n    var modifier = event.ctrlKey || event.altKey || event.metaKey || \n                  (event.shiftKey && event.keyCode !== key.spacebar);\n    \n    // our own tracked active element could've been removed from the DOM\n    if (!document.body.contains(activeElement)) {\n        activeElement = document.activeElement;\n    }\n\n    // do nothing if user is editing text\n    // or using a modifier key (except shift)\n    // or in a dropdown\n    // or inside interactive elements\n    var inputNodeNames = /^(textarea|select|embed|object)$/i;\n    var buttonTypes = /^(button|submit|radio|checkbox|file|color|image)$/i;\n    if ( event.defaultPrevented ||\n         inputNodeNames.test(target.nodeName) ||\n         isNodeName(target, 'input') && !buttonTypes.test(target.type) ||\n         isNodeName(activeElement, 'video') ||\n         isInsideYoutubeVideo(event) ||\n         target.isContentEditable || \n         modifier ) {\n      return true;\n    }\n\n    // [spacebar] should trigger button press, leave it alone\n    if ((isNodeName(target, 'button') ||\n         isNodeName(target, 'input') && buttonTypes.test(target.type)) &&\n        event.keyCode === key.spacebar) {\n      return true;\n    }\n\n    // [arrwow keys] on radio buttons should be left alone\n    if (isNodeName(target, 'input') && target.type == 'radio' &&\n        arrowKeys[event.keyCode])  {\n      return true;\n    }\n    \n    var shift, x = 0, y = 0;\n    var overflowing = overflowingAncestor(activeElement);\n\n    if (!overflowing) {\n        // Chrome iframes seem to eat key events, which we need to \n        // propagate up, if the iframe has nothing overflowing to scroll\n        return (isFrame && isChrome) ? parent.keydown(event) : true;\n    }\n\n    var clientHeight = overflowing.clientHeight; \n\n    if (overflowing == document.body) {\n        clientHeight = window.innerHeight;\n    }\n\n    switch (event.keyCode) {\n        case key.up:\n            y = -options.arrowScroll;\n            break;\n        case key.down:\n            y = options.arrowScroll;\n            break;         \n        case key.spacebar: // (+ shift)\n            shift = event.shiftKey ? 1 : -1;\n            y = -shift * clientHeight * 0.9;\n            break;\n        case key.pageup:\n            y = -clientHeight * 0.9;\n            break;\n        case key.pagedown:\n            y = clientHeight * 0.9;\n            break;\n        case key.home:\n            if (overflowing == document.body && document.scrollingElement)\n                overflowing = document.scrollingElement;\n            y = -overflowing.scrollTop;\n            break;\n        case key.end:\n            var scroll = overflowing.scrollHeight - overflowing.scrollTop;\n            var scrollRemaining = scroll - clientHeight;\n            y = (scrollRemaining > 0) ? scrollRemaining + 10 : 0;\n            break;\n        case key.left:\n            x = -options.arrowScroll;\n            break;\n        case key.right:\n            x = options.arrowScroll;\n            break;            \n        default:\n            return true; // a key we don't care about\n    }\n\n    scrollArray(overflowing, x, y);\n    event.preventDefault();\n    scheduleClearCache();\n}\n\n/**\n * Mousedown event only for updating activeElement\n */\nfunction mousedown(event) {\n    activeElement = event.target;\n}\n\n\n/***********************************************\n * OVERFLOW\n ***********************************************/\n\nvar uniqueID = (function () {\n    var i = 0;\n    return function (el) {\n        return el.uniqueID || (el.uniqueID = i++);\n    };\n})();\n\nvar cacheX = {}; // cleared out after a scrolling session\nvar cacheY = {}; // cleared out after a scrolling session\nvar clearCacheTimer;\nvar smoothBehaviorForElement = {};\n\n//setInterval(function () { cache = {}; }, 10 * 1000);\n\nfunction scheduleClearCache() {\n    clearTimeout(clearCacheTimer);\n    clearCacheTimer = setInterval(function () { \n        cacheX = cacheY = smoothBehaviorForElement = {}; \n    }, 1*1000);\n}\n\nfunction setCache(elems, overflowing, x) {\n    var cache = x ? cacheX : cacheY;\n    for (var i = elems.length; i--;)\n        cache[uniqueID(elems[i])] = overflowing;\n    return overflowing;\n}\n\nfunction getCache(el, x) {\n    return (x ? cacheX : cacheY)[uniqueID(el)];\n}\n\n//  (body)                (root)\n//         | hidden | visible | scroll |  auto  |\n// hidden  |   no   |    no   |   YES  |   YES  |\n// visible |   no   |   YES   |   YES  |   YES  |\n// scroll  |   no   |   YES   |   YES  |   YES  |\n// auto    |   no   |   YES   |   YES  |   YES  |\n\nfunction overflowingAncestor(el) {\n    var elems = [];\n    var body = document.body;\n    var rootScrollHeight = root.scrollHeight;\n    do {\n        var cached = getCache(el, false);\n        if (cached) {\n            return setCache(elems, cached);\n        }\n        elems.push(el);\n        if (rootScrollHeight === el.scrollHeight) {\n            var topOverflowsNotHidden = overflowNotHidden(root) && overflowNotHidden(body);\n            var isOverflowCSS = topOverflowsNotHidden || overflowAutoOrScroll(root);\n            if (isFrame && isContentOverflowing(root) || \n               !isFrame && isOverflowCSS) {\n                return setCache(elems, getScrollRoot()); \n            }\n        } else if (isContentOverflowing(el) && overflowAutoOrScroll(el)) {\n            return setCache(elems, el);\n        }\n    } while ((el = el.parentElement));\n}\n\nfunction isContentOverflowing(el) {\n    return (el.clientHeight + 10 < el.scrollHeight);\n}\n\n// typically for <body> and <html>\nfunction overflowNotHidden(el) {\n    // @edited 11052020/4\n    // var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\n    // return (overflow !== 'hidden');\n\n    return true\n}\n\n// for all other elements\nfunction overflowAutoOrScroll(el) {\n    var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\n    return (overflow === 'scroll' || overflow === 'auto');\n}\n\n// for all other elements\nfunction isScrollBehaviorSmooth(el) {\n    var id = uniqueID(el);\n    if (smoothBehaviorForElement[id] == null) {\n        var scrollBehavior = getComputedStyle(el, '')['scroll-behavior'];\n        smoothBehaviorForElement[id] = ('smooth' == scrollBehavior);\n    }\n    return smoothBehaviorForElement[id];\n}\n\n\n/***********************************************\n * HELPERS\n ***********************************************/\n\nfunction addEvent(type, fn, arg) {\n    window.addEventListener(type, fn, arg || false);\n}\n\nfunction removeEvent(type, fn, arg) {\n    window.removeEventListener(type, fn, arg || false);  \n}\n\nfunction isNodeName(el, tag) {\n    return el && (el.nodeName||'').toLowerCase() === tag.toLowerCase();\n}\n\nfunction directionCheck(x, y) {\n    x = (x > 0) ? 1 : -1;\n    y = (y > 0) ? 1 : -1;\n    if (direction.x !== x || direction.y !== y) {\n        direction.x = x;\n        direction.y = y;\n        que = [];\n        lastScroll = 0;\n    }\n}\n\nif (window.localStorage && localStorage.SS_deltaBuffer) {\n    try { // #46 Safari throws in private browsing for localStorage \n        deltaBuffer = localStorage.SS_deltaBuffer.split(',');\n    } catch (e) { } \n}\n\nfunction isTouchpad(deltaY) {\n    if (!deltaY) return;\n    if (!deltaBuffer.length) {\n        deltaBuffer = [deltaY, deltaY, deltaY];\n    }\n    deltaY = Math.abs(deltaY);\n    deltaBuffer.push(deltaY);\n    deltaBuffer.shift();\n    clearTimeout(deltaBufferTimer);\n    deltaBufferTimer = setTimeout(function () {\n        try { // #46 Safari throws in private browsing for localStorage\n            localStorage.SS_deltaBuffer = deltaBuffer.join(',');\n        } catch (e) { }  \n    }, 1000);\n    var dpiScaledWheelDelta = deltaY > 120 && allDeltasDivisableBy(deltaY); // win64 \n    var tp = !allDeltasDivisableBy(120) && !allDeltasDivisableBy(100) && !dpiScaledWheelDelta;\n    if (deltaY < 50) return true;\n    return tp;\n} \n\nfunction isDivisible(n, divisor) {\n    return (Math.floor(n / divisor) == n / divisor);\n}\n\nfunction allDeltasDivisableBy(divisor) {\n    return (isDivisible(deltaBuffer[0], divisor) &&\n            isDivisible(deltaBuffer[1], divisor) &&\n            isDivisible(deltaBuffer[2], divisor));\n}\n\nfunction isInsideYoutubeVideo(event) {\n    var elem = event.target;\n    var isControl = false;\n    if (document.URL.indexOf ('www.youtube.com/watch') != -1) {\n        do {\n            isControl = (elem.classList && \n                         elem.classList.contains('html5-video-controls'));\n            if (isControl) break;\n        } while ((elem = elem.parentNode));\n    }\n    return isControl;\n}\n\nvar requestFrame = (function () {\n      return (window.requestAnimationFrame       || \n              window.webkitRequestAnimationFrame || \n              window.mozRequestAnimationFrame    ||\n              function (callback, element, delay) {\n                 window.setTimeout(callback, delay || (1000/60));\n             });\n})();\n\nvar MutationObserver = (window.MutationObserver || \n                        window.WebKitMutationObserver ||\n                        window.MozMutationObserver);  \n\nvar getScrollRoot = (function() {\n  var SCROLL_ROOT = document.scrollingElement;\n  return function() {\n    if (!SCROLL_ROOT) {\n      var dummy = document.createElement('div');\n      dummy.style.cssText = 'height:10000px;width:1px;';\n      document.body.appendChild(dummy);\n      var bodyScrollTop  = document.body.scrollTop;\n      var docElScrollTop = document.documentElement.scrollTop;\n      window.scrollBy(0, 3);\n      if (document.body.scrollTop != bodyScrollTop)\n        (SCROLL_ROOT = document.body);\n      else \n        (SCROLL_ROOT = document.documentElement);\n      window.scrollBy(0, -3);\n      document.body.removeChild(dummy);\n    }\n    return SCROLL_ROOT;\n  };\n})();\n\n\n/***********************************************\n * PULSE (by Michael Herf)\n ***********************************************/\n \n/**\n * Viscous fluid with a pulse for part and decay for the rest.\n * - Applies a fixed force over an interval (a damped acceleration), and\n * - Lets the exponential bleed away the velocity over a longer interval\n * - Michael Herf, http://stereopsis.com/stopping/\n */\nfunction pulse_(x) {\n    var val, start, expx;\n    // test\n    x = x * options.pulseScale;\n    if (x < 1) { // acceleartion\n        val = x - (1 - Math.exp(-x));\n    } else {     // tail\n        // the previous animation ended here:\n        start = Math.exp(-1);\n        // simple viscous drag\n        x -= 1;\n        expx = 1 - Math.exp(-x);\n        val = start + (expx * (1 - start));\n    }\n    return val * options.pulseNormalize;\n}\n\nfunction pulse(x) {\n    if (x >= 1) return 1;\n    if (x <= 0) return 0;\n\n    if (options.pulseNormalize == 1) {\n        options.pulseNormalize /= pulse_(1);\n    }\n    return pulse_(x);\n}\n\n\n/***********************************************\n * FIRST RUN\n ***********************************************/\n\nvar userAgent = window.navigator.userAgent;\nvar isEdge    = /Edge/.test(userAgent); // thank you MS\nvar isChrome  = /chrome/i.test(userAgent) && !isEdge; \nvar isSafari  = /safari/i.test(userAgent) && !isEdge; \nvar isMobile  = /mobile/i.test(userAgent);\nvar isIEWin7  = /Windows NT 6.1/i.test(userAgent) && /rv:11/i.test(userAgent);\nvar isOldSafari = isSafari && (/Version\\/8/i.test(userAgent) || /Version\\/9/i.test(userAgent));\nvar isEnabledForBrowser = (isChrome || isSafari || isIEWin7) && !isMobile;\n\nvar supportsPassive = false;\ntry {\n  window.addEventListener(\"test\", null, Object.defineProperty({}, 'passive', {\n    get: function () {\n            supportsPassive = true;\n        } \n    }));\n} catch(e) {}\n\nvar wheelOpt = supportsPassive ? { passive: false } : false;\nvar wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel'; \n\nif (wheelEvent && isEnabledForBrowser) {\n    addEvent(wheelEvent, wheel, wheelOpt);\n    addEvent('mousedown', mousedown);\n    addEvent('load', init);\n}\n\n\n/***********************************************\n * PUBLIC INTERFACE\n ***********************************************/\n\nfunction SmoothScroll(optionsToSet) {\n    for (var key in optionsToSet)\n        if (defaultOptions.hasOwnProperty(key)) \n            options[key] = optionsToSet[key];\n}\nSmoothScroll.destroy = cleanup;\nSmoothScroll.wheel = wheel;\nSmoothScroll.wheelEvent = wheelEvent;\n\nif (window.SmoothScrollOptions) // async API\n    SmoothScroll(window.SmoothScrollOptions);\n\nif (typeof define === 'function' && define.amd)\n    define(function() {\n        return SmoothScroll;\n    });\nelse if ('object' == typeof exports)\n    module.exports = SmoothScroll;\nelse\n    window.SmoothScroll = SmoothScroll;\n\n})();\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"darkmode-js\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"darkmode-js\"] = factory();\n\telse\n\t\troot[\"darkmode-js\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/darkmode.js\":\n/*!*************************!*\\\n  !*** ./src/darkmode.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.IS_BROWSER = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar IS_BROWSER = typeof window !== 'undefined';\nexports.IS_BROWSER = IS_BROWSER;\n\nvar Darkmode =\n/*#__PURE__*/\nfunction () {\n  function Darkmode(options) {\n    _classCallCheck(this, Darkmode);\n\n    if (!IS_BROWSER) {\n      return;\n    }\n\n    var defaultOptions = {\n      bottom: '32px',\n      right: '32px',\n      left: 'unset',\n      time: '0.3s',\n      mixColor: '#fff',\n      backgroundColor: '#fff',\n      buttonColorDark: '#100f2c',\n      buttonColorLight: '#fff',\n      label: '',\n      saveInCookies: true,\n      autoMatchOsTheme: true\n    };\n    options = Object.assign({}, defaultOptions, options);\n    var css = \"\\n      .darkmode-layer {\\n        position: fixed;\\n        pointer-events: none;\\n        background: \".concat(options.mixColor, \";\\n        transition: all \").concat(options.time, \" ease;\\n        mix-blend-mode: difference;\\n      }\\n\\n      .darkmode-layer--button {\\n        width: 2.9rem;\\n        height: 2.9rem;\\n        border-radius: 50%;\\n        right: \").concat(options.right, \";\\n        bottom: \").concat(options.bottom, \";\\n        left: \").concat(options.left, \";\\n      }\\n\\n      .darkmode-layer--simple {\\n        width: 100%;\\n        height: 100%;\\n        top: 0;\\n        left: 0;\\n        transform: scale(1) !important;\\n      }\\n\\n      .darkmode-layer--expanded {\\n        transform: scale(100);\\n        border-radius: 0;\\n      }\\n\\n      .darkmode-layer--no-transition {\\n        transition: none;\\n      }\\n\\n      .darkmode-toggle {\\n        background: \").concat(options.buttonColorDark, \";\\n        width: 3rem;\\n        height: 3rem;\\n        position: fixed;\\n        border-radius: 50%;\\n        border:none;\\n        right: \").concat(options.right, \";\\n        bottom: \").concat(options.bottom, \";\\n        left: \").concat(options.left, \";\\n        cursor: pointer;\\n        transition: all 0.5s ease;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n      }\\n\\n      .darkmode-toggle--white {\\n        background: \").concat(options.buttonColorLight, \";\\n      }\\n\\n      .darkmode-toggle--inactive {\\n        display: none;\\n      }\\n\\n      .darkmode-background {\\n        background: \").concat(options.backgroundColor, \";\\n        position: fixed;\\n        pointer-events: none;\\n        z-index: -10;\\n        width: 100%;\\n        height: 100%;\\n        top: 0;\\n        left: 0;\\n      }\\n\\n      img, .darkmode-ignore {\\n        isolation: isolate;\\n        display: inline-block;\\n      }\\n\\n      @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\n        .darkmode-toggle {display: none !important}\\n      }\\n\\n      @supports (-ms-ime-align:auto), (-ms-accelerator:true) {\\n        .darkmode-toggle {display: none !important}\\n      }\\n    \");\n    var layer = document.createElement('div');\n    var button = document.createElement('button');\n    var background = document.createElement('div');\n    button.innerHTML = options.label;\n    button.classList.add('darkmode-toggle--inactive');\n    layer.classList.add('darkmode-layer');\n    background.classList.add('darkmode-background');\n    var darkmodeActivated = window.localStorage.getItem('darkmode') === 'true';\n    var preferedThemeOs = options.autoMatchOsTheme && window.matchMedia('(prefers-color-scheme: dark)').matches;\n    var darkmodeNeverActivatedByAction = window.localStorage.getItem('darkmode') === null;\n\n    if (darkmodeActivated === true && options.saveInCookies || darkmodeNeverActivatedByAction && preferedThemeOs) {\n      layer.classList.add('darkmode-layer--expanded', 'darkmode-layer--simple', 'darkmode-layer--no-transition');\n      button.classList.add('darkmode-toggle--white');\n      document.body.classList.add('darkmode--activated');\n    }\n\n    document.body.insertBefore(button, document.body.firstChild);\n    document.body.insertBefore(layer, document.body.firstChild);\n    document.body.insertBefore(background, document.body.firstChild);\n    this.addStyle(css);\n    this.button = button;\n    this.layer = layer;\n    this.saveInCookies = options.saveInCookies;\n    this.time = options.time;\n  }\n\n  _createClass(Darkmode, [{\n    key: \"addStyle\",\n    value: function addStyle(css) {\n      var linkElement = document.createElement('link');\n      linkElement.setAttribute('rel', 'stylesheet');\n      linkElement.setAttribute('type', 'text/css');\n      linkElement.setAttribute('href', 'data:text/css;charset=UTF-8,' + encodeURIComponent(css));\n      document.head.appendChild(linkElement);\n    }\n  }, {\n    key: \"showWidget\",\n    value: function showWidget() {\n      var _this = this;\n\n      if (!IS_BROWSER) {\n        return;\n      }\n\n      var button = this.button;\n      var layer = this.layer;\n      var time = parseFloat(this.time) * 1000;\n      button.classList.add('darkmode-toggle');\n      button.classList.remove('darkmode-toggle--inactive');\n      button.setAttribute(\"aria-label\", \"Activate dark mode\");\n      button.setAttribute(\"aria-checked\", \"false\");\n      layer.classList.add('darkmode-layer--button');\n      button.addEventListener('click', function () {\n        var isDarkmode = _this.isActivated();\n\n        if (!isDarkmode) {\n          layer.classList.add('darkmode-layer--expanded');\n          button.setAttribute('disabled', true);\n          setTimeout(function () {\n            layer.classList.add('darkmode-layer--no-transition');\n            layer.classList.add('darkmode-layer--simple');\n            button.removeAttribute('disabled');\n          }, time);\n        } else {\n          layer.classList.remove('darkmode-layer--simple');\n          button.setAttribute('disabled', true);\n          setTimeout(function () {\n            layer.classList.remove('darkmode-layer--no-transition');\n            layer.classList.remove('darkmode-layer--expanded');\n            button.removeAttribute('disabled');\n          }, 1);\n        }\n\n        button.classList.toggle('darkmode-toggle--white');\n        document.body.classList.toggle('darkmode--activated');\n        window.localStorage.setItem('darkmode', !isDarkmode);\n      });\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (!IS_BROWSER) {\n        return;\n      }\n\n      var layer = this.layer;\n      var isDarkmode = this.isActivated();\n      var button = this.button;\n      layer.classList.toggle('darkmode-layer--simple');\n      document.body.classList.toggle('darkmode--activated');\n      window.localStorage.setItem('darkmode', !isDarkmode);\n      button.setAttribute(\"aria-label\", \"De-activate dark mode\");\n      button.setAttribute(\"aria-checked\", \"true\");\n    }\n  }, {\n    key: \"isActivated\",\n    value: function isActivated() {\n      if (!IS_BROWSER) {\n        return null;\n      }\n\n      return document.body.classList.contains('darkmode--activated');\n    }\n  }]);\n\n  return Darkmode;\n}();\n\nexports.default = Darkmode;\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _darkmode = _interopRequireWildcard(__webpack_require__(/*! ./darkmode */ \"./src/darkmode.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nvar _default = _darkmode.default;\n/* eslint-disable */\n\nexports.default = _default;\n\nif (_darkmode.IS_BROWSER) {\n  (function (window) {\n    window.Darkmode = _darkmode.default;\n  })(window);\n}\n/* eslint-enable */\n\n\nmodule.exports = exports[\"default\"];\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXJrbW9kZS1qcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vZGFya21vZGUtanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZGFya21vZGUtanMvLi9zcmMvZGFya21vZGUuanMiLCJ3ZWJwYWNrOi8vZGFya21vZGUtanMvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiSVNfQlJPV1NFUiIsIndpbmRvdyIsIkRhcmttb2RlIiwib3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiYm90dG9tIiwicmlnaHQiLCJsZWZ0IiwidGltZSIsIm1peENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiYnV0dG9uQ29sb3JEYXJrIiwiYnV0dG9uQ29sb3JMaWdodCIsImxhYmVsIiwic2F2ZUluQ29va2llcyIsImF1dG9NYXRjaE9zVGhlbWUiLCJPYmplY3QiLCJhc3NpZ24iLCJjc3MiLCJsYXllciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImJ1dHRvbiIsImJhY2tncm91bmQiLCJpbm5lckhUTUwiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXJrbW9kZUFjdGl2YXRlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwcmVmZXJlZFRoZW1lT3MiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImRhcmttb2RlTmV2ZXJBY3RpdmF0ZWRCeUFjdGlvbiIsImJvZHkiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiYWRkU3R5bGUiLCJsaW5rRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInBhcnNlRmxvYXQiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiaXNEYXJrbW9kZSIsImlzQWN0aXZhdGVkIiwic2V0VGltZW91dCIsInJlbW92ZUF0dHJpYnV0ZSIsInRvZ2dsZSIsInNldEl0ZW0iLCJjb250YWlucyJdLCJtYXBwaW5n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QixxQkFBL0I7QUFDQWpELFlBQU0sQ0FBQzJCLFlBQVAsQ0FBb0J1QixPQUFwQixDQUE0QixVQUE1QixFQUF3QyxDQUFDTCxVQUF6QztBQUNBeEIsWUFBTSxDQUFDaUIsWUFBUCxDQUFvQixZQUFwQixFQUFrQyx1QkFBbEM7QUFDQWpCLFlBQU0sQ0FBQ2lCLFlBQVAsQ0FBb0IsY0FBcEIsRUFBb0MsTUFBcEM7QUFFRDs7O2tDQUVhO0FBQ1osVUFBSSxDQUFDdkMsVUFBTCxFQUFpQjtBQUNmLGVBQU8sSUFBUDtBQUNEOztBQUNELGFBQU9vQixRQUFRLENBQUNjLElBQVQsQ0FBY1QsU0FBZCxDQUF3QjJCLFFBQXhCLENBQWlDLHFCQUFqQyxDQUFQO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqT0g7Ozs7O0FBR0E7Ozs7QUFDQSwwQkFBZ0I7QUFDZCxHQUFDLFVBQVNuRCxNQUFULEVBQWlCO0FBQ2hCQSxVQUFNLENBQUNDLFFBQVA7QUFDRCxHQUZELEVBRUdELE1BRkg7QUFHRDtBQUNEIiwiZmlsZSI6ImRhcmttb2RlLWpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJkYXJrbW9kZS1qc1wiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJkYXJrbW9kZS1qc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJkYXJrbW9kZS1qc1wiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC5qc1wiKTtcbiIsImV4cG9ydCBjb25zdCBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhcmttb2RlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGlmICghSVNfQlJPV1NFUikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgYm90dG9tOiAnMzJweCcsXG4gICAgICByaWdodDogJzMycHgnLFxuICAgICAgbGVmdDogJ3Vuc2V0JyxcbiAgICAgIHRpbWU6ICcwLjNzJyxcbiAgICAgIG1peENvbG9yOiAnI2ZmZicsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICAgIGJ1dHRvbkNvbG9yRGFyazogJyMxMDBmMmMnLFxuICAgICAgYnV0dG9uQ29sb3JMaWdodDogJyNmZmYnLFxuICAgICAgbGFiZWw6ICcnLFxuICAgICAgc2F2ZUluQ29va2llczogdHJ1ZSxcbiAgICAgIGF1dG9NYXRjaE9zVGhlbWU6IHRydWVcbiAgICB9O1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgIGNvbnN0IGNzcyA9IGBcbiAgICAgIC5kYXJrbW9kZS1sYXllciB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7b3B0aW9ucy5taXhDb2xvcn07XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAke29wdGlvbnMudGltZX0gZWFzZTtcbiAgICAgICAgbWl4LWJsZW5kLW1vZGU6IGRpZmZlcmVuY2U7XG4gICAgICB9XG5cbiAgICAgIC5kYXJrbW9kZS1sYXllci0tYnV0dG9uIHtcbiAgICAgICAgd2lkdGg6IDIuOXJlbTtcbiAgICAgICAgaGVpZ2h0OiAyLjlyZW07XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgcmlnaHQ6ICR7b3B0aW9ucy5yaWdodH07XG4gICAgICAgIGJvdHRvbTogJHtvcHRpb25zLmJvdHRvbX07XG4gICAgICAgIGxlZnQ6ICR7b3B0aW9ucy5sZWZ0fTtcbiAgICAgIH1cblxuICAgICAgLmRhcmttb2RlLWxheWVyLS1zaW1wbGUge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmRhcmttb2RlLWxheWVyLS1leHBhbmRlZCB7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMTAwKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICAgIH1cblxuICAgICAgLmRhcmttb2RlLWxheWVyLS1uby10cmFuc2l0aW9uIHtcbiAgICAgICAgdHJhbnNpdGlvbjogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmRhcmttb2RlLXRvZ2dsZSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7b3B0aW9ucy5idXR0b25Db2xvckRhcmt9O1xuICAgICAgICB3aWR0aDogM3JlbTtcbiAgICAgICAgaGVpZ2h0OiAzcmVtO1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgYm9yZGVyOm5vbmU7XG4gICAgICAgIHJpZ2h0OiAke29wdGlvbnMucmlnaHR9O1xuICAgICAgICBib3R0b206ICR7b3B0aW9ucy5ib3R0b219O1xuICAgICAgICBsZWZ0OiAke29wdGlvbnMubGVmdH07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5kYXJrbW9kZS10b2dnbGUtLXdoaXRlIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHtvcHRpb25zLmJ1dHRvbkNvbG9yTGlnaHR9O1xuICAgICAgfVxuXG4gICAgICAuZGFya21vZGUtdG9nZ2xlLS1pbmFjdGl2ZSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5kYXJrbW9kZS1iYWNrZ3JvdW5kIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHtvcHRpb25zLmJhY2tncm91bmRDb2xvcn07XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIHotaW5kZXg6IC0xMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgfVxuXG4gICAgICBpbWcsIC5kYXJrbW9kZS1pZ25vcmUge1xuICAgICAgICBpc29sYXRpb246IGlzb2xhdGU7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgQG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OiBhY3RpdmUpLCAoLW1zLWhpZ2gtY29udHJhc3Q6IG5vbmUpIHtcbiAgICAgICAgLmRhcmttb2RlLXRvZ2dsZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50fVxuICAgICAgfVxuXG4gICAgICBAc3VwcG9ydHMgKC1tcy1pbWUtYWxpZ246YXV0byksICgtbXMtYWNjZWxlcmF0b3I6dHJ1ZSkge1xuICAgICAgICAuZGFya21vZGUtdG9nZ2xlIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnR9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY29uc3QgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgYnV0dG9uLmlubmVySFRNTCA9IG9wdGlvbnMubGFiZWw7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rhcmttb2RlLXRvZ2dsZS0taW5hY3RpdmUnKTtcbiAgICBsYXllci5jbGFzc0xpc3QuYWRkKCdkYXJrbW9kZS1sYXllcicpO1xuICAgIGJhY2tncm91bmQuY2xhc3NMaXN0LmFkZCgnZGFya21vZGUtYmFja2dyb3VuZCcpO1xuXG4gICAgY29uc3QgZGFya21vZGVBY3RpdmF0ZWQgPVxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXJrbW9kZScpID09PSAndHJ1ZSc7XG4gICAgY29uc3QgcHJlZmVyZWRUaGVtZU9zID1cbiAgICAgIG9wdGlvbnMuYXV0b01hdGNoT3NUaGVtZSAmJlxuICAgICAgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzO1xuICAgIGNvbnN0IGRhcmttb2RlTmV2ZXJBY3RpdmF0ZWRCeUFjdGlvbiA9XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Rhcmttb2RlJykgPT09IG51bGw7XG5cbiAgICBpZiAoXG4gICAgICAoZGFya21vZGVBY3RpdmF0ZWQgPT09IHRydWUgJiYgb3B0aW9ucy5zYXZlSW5Db29raWVzKSB8fFxuICAgICAgKGRhcmttb2RlTmV2ZXJBY3RpdmF0ZWRCeUFjdGlvbiAmJiBwcmVmZXJlZFRoZW1lT3MpXG4gICAgKSB7XG4gICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFxuICAgICAgICAnZGFya21vZGUtbGF5ZXItLWV4cGFuZGVkJyxcbiAgICAgICAgJ2Rhcmttb2RlLWxheWVyLS1zaW1wbGUnLFxuICAgICAgICAnZGFya21vZGUtbGF5ZXItLW5vLXRyYW5zaXRpb24nXG4gICAgICApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rhcmttb2RlLXRvZ2dsZS0td2hpdGUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZGFya21vZGUtLWFjdGl2YXRlZCcpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGJ1dHRvbiwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShsYXllciwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShiYWNrZ3JvdW5kLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuXG4gICAgdGhpcy5hZGRTdHlsZShjc3MpO1xuXG4gICAgdGhpcy5idXR0b24gPSBidXR0b247XG4gICAgdGhpcy5sYXllciA9IGxheWVyO1xuICAgIHRoaXMuc2F2ZUluQ29va2llcyA9IG9wdGlvbnMuc2F2ZUluQ29va2llcztcbiAgICB0aGlzLnRpbWUgPSBvcHRpb25zLnRpbWU7XG4gIH1cblxuICBhZGRTdHlsZShjc3MpIHtcbiAgICBjb25zdCBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcblxuICAgIGxpbmtFbGVtZW50LnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICBsaW5rRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICBsaW5rRWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgICAnaHJlZicsXG4gICAgICAnZGF0YTp0ZXh0L2NzcztjaGFyc2V0PVVURi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoY3NzKVxuICAgICk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rRWxlbWVudCk7XG4gIH1cblxuICBzaG93V2lkZ2V0KCkge1xuICAgIGlmICghSVNfQlJPV1NFUikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBidXR0b24gPSB0aGlzLmJ1dHRvbjtcbiAgICBjb25zdCBsYXllciA9IHRoaXMubGF5ZXI7XG4gICAgY29uc3QgdGltZSA9IHBhcnNlRmxvYXQodGhpcy50aW1lKSAqIDEwMDA7XG5cbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnZGFya21vZGUtdG9nZ2xlJyk7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Rhcmttb2RlLXRvZ2dsZS0taW5hY3RpdmUnKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkFjdGl2YXRlIGRhcmsgbW9kZVwiKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgbGF5ZXIuY2xhc3NMaXN0LmFkZCgnZGFya21vZGUtbGF5ZXItLWJ1dHRvbicpO1xuXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNEYXJrbW9kZSA9IHRoaXMuaXNBY3RpdmF0ZWQoKTtcblxuICAgICAgaWYgKCFpc0Rhcmttb2RlKSB7XG4gICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoJ2Rhcmttb2RlLWxheWVyLS1leHBhbmRlZCcpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKCdkYXJrbW9kZS1sYXllci0tbm8tdHJhbnNpdGlvbicpO1xuICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoJ2Rhcmttb2RlLWxheWVyLS1zaW1wbGUnKTtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9LCB0aW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Rhcmttb2RlLWxheWVyLS1zaW1wbGUnKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZSgnZGFya21vZGUtbGF5ZXItLW5vLXRyYW5zaXRpb24nKTtcbiAgICAgICAgICBsYXllci5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrbW9kZS1sYXllci0tZXhwYW5kZWQnKTtcbiAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9LCAxKTtcbiAgICAgIH1cblxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2Rhcmttb2RlLXRvZ2dsZS0td2hpdGUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFya21vZGUtLWFjdGl2YXRlZCcpO1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYXJrbW9kZScsICFpc0Rhcmttb2RlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZSgpIHtcbiAgICBpZiAoIUlTX0JST1dTRVIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmxheWVyO1xuICAgIGNvbnN0IGlzRGFya21vZGUgPSB0aGlzLmlzQWN0aXZhdGVkKCk7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5idXR0b247XG5cbiAgICBsYXllci5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrbW9kZS1sYXllci0tc2ltcGxlJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrbW9kZS0tYWN0aXZhdGVkJyk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYXJrbW9kZScsICFpc0Rhcmttb2RlKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkRlLWFjdGl2YXRlIGRhcmsgbW9kZVwiKTtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcblxuICB9XG5cbiAgaXNBY3RpdmF0ZWQoKSB7XG4gICAgaWYgKCFJU19CUk9XU0VSKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrbW9kZS0tYWN0aXZhdGVkJyk7XG4gIH1cbn1cbiIsImltcG9ydCBEYXJrbW9kZSwgeyBJU19CUk9XU0VSIH0gZnJvbSAnLi9kYXJrbW9kZSc7XHJcbmV4cG9ydCBkZWZhdWx0IERhcmttb2RlO1xyXG5cclxuLyogZXNsaW50LWRpc2FibGUgKi9cclxuaWYgKElTX0JST1dTRVIpIHtcclxuICAoZnVuY3Rpb24od2luZG93KSB7XHJcbiAgICB3aW5kb3cuRGFya21vZGUgPSBEYXJrbW9kZTtcclxuICB9KSh3aW5kb3cpO1xyXG59XHJcbi8qIGVzbGludC1lbmFibGUgKi9cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.marked = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n        return function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var defaults = createCommonjsModule(function (module) {\n    function getDefaults() {\n      return {\n        baseUrl: null,\n        breaks: false,\n        gfm: true,\n        headerIds: true,\n        headerPrefix: '',\n        highlight: null,\n        langPrefix: 'language-',\n        mangle: true,\n        pedantic: false,\n        renderer: null,\n        sanitize: false,\n        sanitizer: null,\n        silent: false,\n        smartLists: false,\n        smartypants: false,\n        tokenizer: null,\n        walkTokens: null,\n        xhtml: false\n      };\n    }\n\n    function changeDefaults(newDefaults) {\n      module.exports.defaults = newDefaults;\n    }\n\n    module.exports = {\n      defaults: getDefaults(),\n      getDefaults: getDefaults,\n      changeDefaults: changeDefaults\n    };\n  });\n  var defaults_1 = defaults.defaults;\n  var defaults_2 = defaults.getDefaults;\n  var defaults_3 = defaults.changeDefaults;\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  }\n\n  var helpers = {\n    escape: escape,\n    unescape: unescape,\n    edit: edit,\n    cleanUrl: cleanUrl,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest,\n    merge: merge,\n    splitCells: splitCells,\n    rtrim: rtrim,\n    findClosingBracket: findClosingBracket,\n    checkSanitizeDeprecation: checkSanitizeDeprecation\n  };\n\n  var defaults$1 = defaults.defaults;\n  var rtrim$1 = helpers.rtrim,\n      splitCells$1 = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket$1 = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$1;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src, tokens) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && lastToken.type === 'paragraph') {\n          return {\n            raw: cap[0],\n            text: cap[0].trimRight()\n          };\n        }\n\n        var text = cap[0].replace(/^ {4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim$1(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var isparen = bull[bull.length - 1] === ')';\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            b,\n            addBack,\n            loose,\n            istask,\n            ischecked;\n        var l = itemMatch.length;\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item; // Remove the list item's bullet\n          // so it is seen as the next token.\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) */, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n\n          if (i !== l - 1) {\n            b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];\n\n            if (isordered ? b.length === 1 || !isparen && b[b.length - 1] === ')' : b.length > 1 || this.options.smartLists && b !== bull) {\n              addBack = itemMatch.slice(i + 1).join('\\n');\n              list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n              i = l - 1;\n            }\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src, tokens) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          return {\n            raw: cap[0],\n            text: cap[0]\n          };\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var lastParenIndex = findClosingBracket$1(cap[2], '()');\n\n        if (lastParenIndex > -1) {\n          var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          var linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          } else {\n            title = '';\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n        var token = outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n        return token;\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        var token = outputLink(cap, link, cap[0]);\n        return token;\n      }\n    };\n\n    _proto.strong = function strong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.strong.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '**' ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.strong.middle.exec(maskedSrc.slice(0, match.index + 3));\n\n          if (cap) {\n            return {\n              type: 'strong',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(2, cap[0].length - 2)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.em = function em(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.em.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '*' ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.em.middle.exec(maskedSrc.slice(0, match.index + 2));\n\n          if (cap) {\n            return {\n              type: 'em',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(1, cap[0].length - 1)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest$1 = helpers.noopTest,\n      edit$1 = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^\\n+/,\n    code: /^( {4}[^\\n]+\\n*)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest$1,\n    table: noopTest$1,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\n  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\n  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\n  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge$1({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge$1({}, block.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' *([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' *\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge$1({}, block.normal, {\n    html: edit$1('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n    fences: noopTest$1,\n    // fences not supported\n    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest$1,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    strong: {\n      start: /^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,\n      endAst: /[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]__(?!_)(?:(?=[punctuation\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    em: {\n      start: /^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,\n      endAst: /[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]_(?!_)(?:(?=[punctuation\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest$1,\n    text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/,\n    punctuation: /^([\\s*punctuation])/\n  }; // list of punctuation marks from common mark spec\n  // without * and _ to workaround cases with double emphasis\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit$1(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline._blockSkip = '\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>';\n  inline._overlapSkip = '__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*';\n  inline.em.start = edit$1(inline.em.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.middle = edit$1(inline.em.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.em.endAst = edit$1(inline.em.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.endUnd = edit$1(inline.em.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.start = edit$1(inline.strong.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.middle = edit$1(inline.strong.middle).replace(/punctuation/g, inline._punctuation).replace(/blockSkip/g, inline._blockSkip).getRegex();\n  inline.strong.endAst = edit$1(inline.strong.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.endUnd = edit$1(inline.strong.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.blockSkip = edit$1(inline._blockSkip, 'g').getRegex();\n  inline.overlapSkip = edit$1(inline._overlapSkip, 'g').getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit$1(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();\n  inline.reflinkSearch = edit$1(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge$1({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge$1({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit$1(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit$1(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge$1({}, inline.normal, {\n    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n    text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n  });\n  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge$1({}, inline.gfm, {\n    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit$1(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block,\n    inline: inline\n  };\n\n  var defaults$2 = defaults.defaults;\n  var block$1 = rules.block,\n      inline$1 = rules.inline;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$2;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block$1.normal,\n        inline: inline$1.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block$1.pedantic;\n        rules.inline = inline$1.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block$1.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline$1.breaks;\n        } else {\n          rules.inline = inline$1.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      src = src.replace(/^ +$/gm, '');\n      var token, i, l, lastToken;\n\n      while (src) {\n        // newline\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n\n\n        if (top && (token = this.tokenizer.paragraph(src))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock, prevChar) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var token; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      }\n\n      while (src) {\n        // escape\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          tokens.push(token);\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // strong\n\n\n        if (token = this.tokenizer.strong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // em\n\n\n        if (token = this.tokenizer.em(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n          prevChar = token.raw.slice(-1);\n          tokens.push(token);\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block$1,\n          inline: inline$1\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$3 = defaults.defaults;\n  var cleanUrl$1 = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$3;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n    /**\n     * Convert string to unique id\n     */\n\n\n    var _proto = Slugger.prototype;\n\n    _proto.slug = function slug(value) {\n      var slug = value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n\n      if (this.seen.hasOwnProperty(slug)) {\n        var originalSlug = slug;\n\n        do {\n          this.seen[originalSlug]++;\n          slug = originalSlug + '-' + this.seen[originalSlug];\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      this.seen[slug] = 0;\n      return slug;\n    };\n\n    return Slugger;\n  }();\n\n  var defaults$4 = defaults.defaults;\n  var unescape$1 = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$4;\n      this.options.renderer = this.options.renderer || new Renderer_1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer_1();\n      this.slugger = new Slugger_1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var merge$2 = helpers.merge,\n      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,\n      escape$2 = helpers.escape;\n  var getDefaults = defaults.getDefaults,\n      changeDefaults = defaults.changeDefaults,\n      defaults$5 = defaults.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer_1.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            out = Parser_1.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer_1.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge$2(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults$5;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function (extension) {\n    var opts = merge$2({}, extension);\n\n    if (extension.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer_1();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop];\n\n          renderer[prop] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var ret = extension.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (extension.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop];\n\n          tokenizer[prop] = function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            var ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    }\n\n    if (extension.walkTokens) {\n      var walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        extension.walkTokens(token);\n\n        if (walkTokens) {\n          walkTokens(token);\n        }\n      };\n    }\n\n    marked.setOptions(opts);\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser_1;\n  marked.parser = Parser_1.parse;\n  marked.Renderer = Renderer_1;\n  marked.TextRenderer = TextRenderer_1;\n  marked.Lexer = Lexer_1;\n  marked.lexer = Lexer_1.lex;\n  marked.Tokenizer = Tokenizer_1;\n  marked.Slugger = Slugger_1;\n  marked.parse = marked;\n  var marked_1 = marked;\n\n  return marked_1;\n\n})));\n","import marked from 'marked';\r\nexport class OhHiMark {\r\n    static preprocess(md) {\r\n        let processedMd = md;\r\n        Object.keys(OhHiMark.PREPROCESSORS).forEach((key) => {\r\n            const preprocessor = OhHiMark.PREPROCESSORS[key];\r\n            processedMd = preprocessor(processedMd);\r\n        });\r\n        return processedMd;\r\n    }\r\n    static create(md) {\r\n        return marked(OhHiMark.preprocess(md));\r\n    }\r\n    static async createFromUrl(url) {\r\n        const fetched = await fetch(url);\r\n        let md = `\r\n/\r\n# This is awkward...\r\n/\r\nSomething went wrong!\r\nOne of these could've happened:\r\n* the url is invalid\r\n* I did something wrong in the code\r\n* you are offline\r\n* the world is ending\r\n/\r\n[You can use me as a button to go back to safety!](javascript:history.back())\r\n\t\t`;\r\n        if (fetched?.ok) {\r\n            md = await fetched.text();\r\n        }\r\n        return OhHiMark.create(md);\r\n    }\r\n}\r\nOhHiMark.PREPROCESSORS = {\r\n    x(md) {\r\n        const parts = md\r\n            .trim()\r\n            .split('\\n');\r\n        const processedParts = parts.getAll((part) => {\r\n            if (part[0] !== '/') {\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        const tag = 'x';\r\n        if (processedParts.length === 1) {\r\n            return md;\r\n        }\r\n        let parsed = '';\r\n        parts.fastEach((part, i) => {\r\n            let processedTag = tag;\r\n            let processedPart = part;\r\n            if (processedPart[0] === '!'\r\n                && processedPart[1] === '/') {\r\n                parsed += `\\n</${tag}>`;\r\n                parsed += '\\n';\r\n                return;\r\n            }\r\n            if (processedPart[0] !== '/') {\r\n                parsed += part;\r\n                parsed += '\\n';\r\n                return;\r\n            }\r\n            if (processedPart[1] === '{') {\r\n                const classes = processedPart\r\n                    .split('}')[0]\r\n                    .substr(2);\r\n                processedTag += ` class=\"${classes}\"`;\r\n                processedPart = processedPart.substr(processedPart.indexOf('}') + 1);\r\n            }\r\n            switch (true) {\r\n                case parsed === '': {\r\n                    parsed += `<${processedTag}>\\n`;\r\n                    break;\r\n                }\r\n                case i === parts.length - 1: {\r\n                    parsed += `\\n</${tag}>`;\r\n                    break;\r\n                }\r\n                default: {\r\n                    parsed += `\\n</${tag}>\\n<${processedTag}>\\n`;\r\n                    break;\r\n                }\r\n            }\r\n            parsed += '\\n';\r\n        });\r\n        return parsed;\r\n    },\r\n    br(md) {\r\n        const parts = md\r\n            .trim()\r\n            .split('\\n');\r\n        const processedParts = parts.getAll((part) => {\r\n            if (part[0] !== '_') {\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        const tag = 'bruh';\r\n        if (processedParts.length === 1) {\r\n            return md;\r\n        }\r\n        let parsed = '';\r\n        parts.fastEach((part) => {\r\n            const processedTag = tag;\r\n            const processedPart = part;\r\n            if (processedPart[0] !== '_') {\r\n                parsed += part;\r\n                parsed += '\\n';\r\n                return;\r\n            }\r\n            parsed += `<${processedTag}></${tag}>`;\r\n            parsed += '\\n';\r\n        });\r\n        return parsed;\r\n    },\r\n};\r\n//# sourceMappingURL=ohHiMark.js.map","import { $, $$, ForUtility, } from '../../utilities.js';\r\nexport class $Factory {\r\n    create(objectToCreateFrom = {}) {\r\n        ForUtility.addToArrayPrototype();\r\n        const object = {\r\n            evaluate(functionToEvaluate) {\r\n                return this.apply(functionToEvaluate(this));\r\n            },\r\n            addClass(classNames) {\r\n                switch (classNames.constructor) {\r\n                    case String:\r\n                        classNames.split(' ').fastEach((className) => {\r\n                            this.classList.add(className);\r\n                        });\r\n                        break;\r\n                    case Array:\r\n                        classNames.fastEach((className) => {\r\n                            this.addClass(className);\r\n                        });\r\n                        break;\r\n                    default:\r\n                }\r\n                return this;\r\n            },\r\n            removeClass(classNames) {\r\n                switch (classNames.constructor) {\r\n                    case String:\r\n                        classNames.split(' ').fastEach((className) => {\r\n                            this.classList.remove(className);\r\n                        });\r\n                        break;\r\n                    case Array:\r\n                        classNames.fastEach((className) => {\r\n                            this.removeClass(className);\r\n                        });\r\n                        break;\r\n                    default:\r\n                }\r\n                return this;\r\n            },\r\n            toggleClass(classNames) {\r\n                switch (classNames.constructor) {\r\n                    case String:\r\n                        classNames.split(' ').fastEach((className) => {\r\n                            this.classList.toggle(className);\r\n                        });\r\n                        break;\r\n                    case Array:\r\n                        classNames.fastEach((className) => {\r\n                            this.toggleClass(className);\r\n                        });\r\n                        break;\r\n                    default:\r\n                }\r\n                return this;\r\n            },\r\n            css(property, value, options = {}) {\r\n                // handle when the options are passed into the value argument\r\n                if (value\r\n                    && value.constructor === Object) {\r\n                    return this.css(property, undefined, value);\r\n                }\r\n                let processedValue = null;\r\n                let returnedValues = null;\r\n                let propertyHasParentheses = null;\r\n                let stackable = null;\r\n                const unitlessProperties = [\r\n                    'opacity',\r\n                    'gridRowStart',\r\n                    'gridRowEnd',\r\n                    'columns',\r\n                    'columnCount',\r\n                ];\r\n                const stackableProperties = [{\r\n                        name: 'transition',\r\n                        hasParentheses: false,\r\n                    }, {\r\n                        name: 'transform',\r\n                        hasParentheses: true,\r\n                    }];\r\n                switch (property.constructor) {\r\n                    case String:\r\n                        // determine if the property is a stackable one\r\n                        stackableProperties.fastEach(({ name, hasParentheses, }) => {\r\n                            // return if the 'property' is not in 'stacakbleProperties'\r\n                            if (name !== property) {\r\n                                return;\r\n                            }\r\n                            stackable = true;\r\n                            propertyHasParentheses = hasParentheses;\r\n                        });\r\n                        if (value === undefined) {\r\n                            // the value of the property should be returned instead of set\r\n                            processedValue = this.style[property];\r\n                            if (options.computed) {\r\n                                processedValue = getValueWithoutUnit(getComputedStyle(this)[property]);\r\n                            }\r\n                            if (stackable\r\n                                && options.returnAsObject) {\r\n                                processedValue = getAttributesFromValueString(processedValue, propertyHasParentheses);\r\n                            }\r\n                            return processedValue;\r\n                        }\r\n                        // the value of the property should be set instead of returned\r\n                        processedValue = value;\r\n                        // if the value string is missing a unit, add px\r\n                        if (unitlessProperties.includes(property) === false) {\r\n                            processedValue = getValueWithUnit(value);\r\n                        }\r\n                        if (stackable) {\r\n                            // create attribute objects from the value strings\r\n                            const oldAttributes = getAttributesFromValueString(this.style[property], propertyHasParentheses);\r\n                            const newAttributes = getAttributesFromValueString(processedValue, propertyHasParentheses);\r\n                            const processedAttributes = oldAttributes;\r\n                            Object.assign(processedAttributes, newAttributes);\r\n                            processedValue = getValueStringFromAttributes(processedAttributes, propertyHasParentheses);\r\n                        }\r\n                        this.style[property] = processedValue;\r\n                        return this;\r\n                    case Array:\r\n                        if (value === undefined) {\r\n                            returnedValues = {};\r\n                            property.fastEach((item) => {\r\n                                returnedValues[item] = this.css(item);\r\n                            });\r\n                            return returnedValues;\r\n                        }\r\n                        property.fastEach((item, i) => {\r\n                            this.css(item, value[i]);\r\n                        });\r\n                        return this;\r\n                    case Object:\r\n                        returnedValues = {};\r\n                        Object.keys(property).fastEach((key) => {\r\n                            const returnedValue = this.css(key, property[key]);\r\n                            if (returnedValue === this) {\r\n                                return;\r\n                            }\r\n                            returnedValues[key] = returnedValue;\r\n                        });\r\n                        return returnedValues === {} ? this : returnedValues;\r\n                    default:\r\n                        return this.style;\r\n                }\r\n                function formatValueString(valueString) {\r\n                    return valueString\r\n                        .toLowerCase()\r\n                        .replace(/\\s/g, '');\r\n                }\r\n                function getValueWithoutUnit(valueWithUnit) {\r\n                    if (valueWithUnit.includes('px') === false) {\r\n                        return valueWithUnit;\r\n                    }\r\n                    return valueWithUnit.replace(/px/g, '');\r\n                }\r\n                function getValueWithUnit(valueWithoutUnit) {\r\n                    if (!valueWithoutUnit) {\r\n                        return valueWithoutUnit;\r\n                    }\r\n                    if (valueWithoutUnit.constructor === Number\r\n                        || Number.isNaN(Number(valueWithoutUnit)) === false) {\r\n                        return `${valueWithoutUnit}px`;\r\n                    }\r\n                    return valueWithoutUnit;\r\n                }\r\n                function getAttributesFromValueString(valueStringWithAttributes, hasParentheses) {\r\n                    let valueArrayWithAttributes = null;\r\n                    let attributeKeys = null;\r\n                    let attributeValues = null;\r\n                    if (hasParentheses) {\r\n                        // split between ')' and remove ')' in the meantime\r\n                        valueArrayWithAttributes = formatValueString(valueStringWithAttributes)\r\n                            .split(')');\r\n                        // remove everything inside parentheses\r\n                        // regex is slower than native functions https://jsben.ch/8GY5K\r\n                        attributeKeys = valueArrayWithAttributes\r\n                            .map((attribute) => attribute\r\n                            .substr(0, attribute.indexOf('('))\r\n                            .trim());\r\n                        // remove everything before and including '('\r\n                        // ')' was removed when we split it in 'valueArrayWithAttributes'\r\n                        attributeValues = valueArrayWithAttributes\r\n                            .map((attribute) => attribute\r\n                            .substr(attribute.indexOf('(') + 1));\r\n                    }\r\n                    else {\r\n                        // split between and remove every ','\r\n                        valueArrayWithAttributes = formatValueString(valueStringWithAttributes)\r\n                            .split(',');\r\n                        // get the substring before anything that isn't an alphabet\r\n                        attributeKeys = valueArrayWithAttributes.map((attribute) => attribute\r\n                            .substring(0, attribute.search(/[^a-zA-Z]/)));\r\n                        // get the substring starting at the first character that isn't an alphabet\r\n                        attributeValues = valueArrayWithAttributes.map((attribute) => attribute\r\n                            .substr(attribute.search(/[^a-zA-Z]/)));\r\n                    }\r\n                    const attributeObject = {};\r\n                    attributeKeys.fastEach((key, i) => {\r\n                        if (!key) {\r\n                            return;\r\n                        }\r\n                        attributeObject[key] = attributeValues[i];\r\n                    });\r\n                    return attributeObject;\r\n                }\r\n                function getValueStringFromAttributes(attributes, hasParentheses) {\r\n                    let valueArray = null;\r\n                    let valueString = null;\r\n                    if (hasParentheses) {\r\n                        valueArray = Object.keys(attributes).map((attributeKey) => `${attributeKey}(${attributes[attributeKey]})`);\r\n                        valueString = valueArray.join('');\r\n                    }\r\n                    else {\r\n                        valueArray = Object.keys(attributes).map((attributeKey) => `${attributeKey}${attributes[attributeKey]}`);\r\n                        valueString = valueArray.join(',');\r\n                    }\r\n                    return valueString;\r\n                }\r\n            },\r\n            on(eventsStr, ...options) {\r\n                const events = eventsStr.split(' ');\r\n                let selector = null;\r\n                let handler = null;\r\n                let eventOptions = {};\r\n                options.fastEach((option) => {\r\n                    switch (typeof option) {\r\n                        case 'string':\r\n                            if (selector === null) {\r\n                                selector = option;\r\n                            }\r\n                            break;\r\n                        case 'function':\r\n                            if (handler === null) {\r\n                                handler = option;\r\n                            }\r\n                            break;\r\n                        case 'object':\r\n                            if (option === null) {\r\n                                break;\r\n                            }\r\n                            if (Object.keys(eventOptions).length === 0) {\r\n                                eventOptions = option;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                events.fastEach((eventStr) => {\r\n                    this.addEventListener(eventStr, (event) => {\r\n                        const processedEvent = event;\r\n                        if (!event) {\r\n                            return handler(undefined);\r\n                        }\r\n                        const { target } = processedEvent;\r\n                        if (!target) {\r\n                            return null;\r\n                        }\r\n                        if (selector !== null\r\n                            && target.matches(selector) === false) {\r\n                            return null;\r\n                        }\r\n                        return handler.call(target, processedEvent);\r\n                    }, eventOptions);\r\n                });\r\n                return this;\r\n            },\r\n            off(eventsStr, ...options) {\r\n                const events = eventsStr.split(' ');\r\n                let selector = null;\r\n                let handler = null;\r\n                options.fastEach((option, i) => {\r\n                    switch (option.constructor) {\r\n                        case String:\r\n                            if (selector !== null) {\r\n                                break;\r\n                            }\r\n                            selector = option;\r\n                            break;\r\n                        case Function:\r\n                            if (i !== options.length - 1) {\r\n                                break;\r\n                            }\r\n                            handler = option;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n                events.fastEach((eventStr) => {\r\n                    this.removeEventListener(eventStr, (event) => {\r\n                        const processedEvent = event;\r\n                        if (!event) {\r\n                            return handler(undefined);\r\n                        }\r\n                        const { target } = processedEvent;\r\n                        if (!target) {\r\n                            return null;\r\n                        }\r\n                        if (selector !== null\r\n                            && target.matches(selector) === false) {\r\n                            return null;\r\n                        }\r\n                        return handler.call(target, processedEvent);\r\n                    });\r\n                });\r\n                return this;\r\n            },\r\n            async getJSON(url, callback) {\r\n                const response = await fetch(url);\r\n                return callback ? callback(await response.json()) : response.json();\r\n            },\r\n            $,\r\n            $$,\r\n            // workaround to keep the type\r\n            ...{},\r\n        };\r\n        // ...spread doesn't work directly on dom objects apparently\r\n        Object.assign(objectToCreateFrom, object);\r\n        return objectToCreateFrom;\r\n    }\r\n}\r\n//# sourceMappingURL=$.factory.js.map","import { $Factory } from './factories/$.factory';\r\n// eslint-disable-next-line import/named\r\nclass NotJQuery {\r\n    // the object that is applied to can be just some random object\r\n    $(objectToCreateFrom = {}) {\r\n        const m$Factory = new $Factory();\r\n        switch (true) {\r\n            case this\r\n                && this.constructor === Object\r\n                && objectToCreateFrom.constructor === String:\r\n                return m$Factory.create(Object.values(this)\r\n                    .find((node) => node.matches && node.matches(objectToCreateFrom)));\r\n            case objectToCreateFrom === undefined:\r\n                return m$Factory.create({});\r\n            case objectToCreateFrom === null:\r\n                throw new Error('Cannot create from null!');\r\n            case objectToCreateFrom.constructor === String: {\r\n                const queryResult = document.querySelector(objectToCreateFrom);\r\n                return queryResult && m$Factory.create(queryResult);\r\n            }\r\n            default:\r\n                return m$Factory.create(objectToCreateFrom);\r\n        }\r\n    }\r\n    $$(objectToCreateFrom = {}) {\r\n        const m$Factory = new $Factory();\r\n        switch (true) {\r\n            case this\r\n                && this.constructor === Object\r\n                && objectToCreateFrom.constructor === String:\r\n                return Object.values(this)\r\n                    .getAll((node) => node.matches && node.matches(objectToCreateFrom))\r\n                    .map((elem) => m$Factory.create(elem));\r\n            case objectToCreateFrom === undefined:\r\n                return [m$Factory.create({})];\r\n            case objectToCreateFrom === null:\r\n                throw new Error('Cannot create from null!');\r\n            case objectToCreateFrom.constructor === String:\r\n                return Array.from(document.querySelectorAll(objectToCreateFrom)).map((elem) => m$Factory.create(elem));\r\n            default:\r\n                return [m$Factory.create(objectToCreateFrom)];\r\n        }\r\n    }\r\n}\r\nconst mNotJQuery = new NotJQuery();\r\nexport const { $ } = mNotJQuery;\r\nexport const { $$ } = mNotJQuery;\r\n//# sourceMappingURL=$.utility.js.map","export class ForUtility {\r\n    static addToArrayPrototype() {\r\n        // non-standard, used by this to keep track of the singleton\r\n        if (Array.prototype.__forUtilitySingletonExecuted) {\r\n            return;\r\n        }\r\n        const methods = {\r\n            fastEach(callback, ctx = null) {\r\n                const workingArray = this;\r\n                if (ctx === null) {\r\n                    for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                        callback(workingArray[i], i);\r\n                    }\r\n                    return;\r\n                }\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    callback.call(ctx || this, workingArray[i], i);\r\n                }\r\n            },\r\n            async forAwait(callback, ctx = null) {\r\n                const workingArray = this;\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    await callback.call(ctx || this, workingArray[i], i);\r\n                }\r\n            },\r\n            getAll(callback, ctx = null) {\r\n                const workingArray = this;\r\n                const returnValues = [];\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    if (callback.call(ctx || this, workingArray[i], i)) {\r\n                        returnValues.push(workingArray[i]);\r\n                    }\r\n                }\r\n                return returnValues;\r\n            },\r\n            getSome(callback, ctx = null) {\r\n                const workingArray = this;\r\n                for (let i = 0, l = workingArray.length; i < l; ++i) {\r\n                    if (callback.call(ctx || this, workingArray[i], i)) {\r\n                        return workingArray[i];\r\n                    }\r\n                }\r\n                return null;\r\n            },\r\n        };\r\n        Object.keys(methods).forEach((key) => {\r\n            Array.prototype[key] = methods[key];\r\n        });\r\n        Array.prototype.__forUtilitySingletonExecuted = true;\r\n    }\r\n}\r\n//# sourceMappingURL=for.utility.js.map","import { $ } from './$.utility';\r\nexport class WindowUtility {\r\n    static invalidateCache() {\r\n        this.cache = {};\r\n    }\r\n    static refresh() {\r\n        this.invalidateCache();\r\n        this.cache = {\r\n            inner: this.inner,\r\n            viewport: this.viewport,\r\n            client: this.client,\r\n            isMobile: this.isMobile,\r\n        };\r\n    }\r\n    static vh(amount) {\r\n        return (this.viewport.height / 100) * amount;\r\n    }\r\n    static vw(amount) {\r\n        return (this.viewport.width / 100) * amount;\r\n    }\r\n    static px(amount) {\r\n        return amount * window.devicePixelRatio;\r\n    }\r\n    static get client() {\r\n        if (this.cache?.client?.height\r\n            || this.cache?.client?.width) {\r\n            return this.cache.client;\r\n        }\r\n        return {\r\n            height: document.documentElement.clientHeight,\r\n            width: document.documentElement.clientWidth,\r\n        };\r\n    }\r\n    static get inner() {\r\n        if (this.cache?.inner?.height\r\n            || this.cache?.inner?.width) {\r\n            return this.cache.inner;\r\n        }\r\n        return {\r\n            height: window.innerHeight,\r\n            width: window.innerWidth,\r\n        };\r\n    }\r\n    static get viewport() {\r\n        if (this.cache?.viewport?.height\r\n            || this.cache?.viewport?.width) {\r\n            return this.cache.viewport;\r\n        }\r\n        const viewportCalibrator = $('.__windowUtility.viewportCalibrator');\r\n        const height = viewportCalibrator.offsetHeight;\r\n        const width = viewportCalibrator.offsetWidth;\r\n        return {\r\n            height,\r\n            width,\r\n        };\r\n    }\r\n    static get isMobile() {\r\n        if (this.cache?.isMobile) {\r\n            return this.cache.isMobile;\r\n        }\r\n        const isMobile = window.matchMedia('(pointer: coarse)').matches\r\n            || window.matchMedia('(pointer: cnone)').matches;\r\n        this.cache.isMobile = isMobile;\r\n        return isMobile;\r\n    }\r\n}\r\nWindowUtility.cache = {};\r\n$(window).on('resize', () => WindowUtility.refresh());\r\n//# sourceMappingURL=window.utility.js.map","/**\r\n * https://github.com/gre/bezier-easing\r\n * BezierEasing - use bezier curve for transition easing function\r\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n */\r\nexport class BezierUtility {\r\n    constructor(mX1, mY1, mX2, mY2) {\r\n        this.mX1 = mX1;\r\n        this.mY1 = mY1;\r\n        this.mX2 = mX2;\r\n        this.mY2 = mY2;\r\n        // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n        this.NEWTON_ITERATIONS = 4;\r\n        this.NEWTON_MIN_SLOPE = 0.001;\r\n        this.SUBDIVISION_PRECISION = 0.0000001;\r\n        this.SUBDIVISION_MAX_ITERATIONS = 10;\r\n        this.kSplineTableSize = 11;\r\n        this.kSampleStepSize = 1.0 / (this.kSplineTableSize - 1.0);\r\n        this.sampleValues = (typeof Float32Array === 'function')\r\n            ? new Float32Array(this.kSplineTableSize)\r\n            : new Array(this.kSplineTableSize);\r\n        if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1)) {\r\n            throw new Error('bezier x values must be in [0, 1] range');\r\n        }\r\n        // LinearEasing\r\n        if (mX1 === mY1 && mX2 === mY2) {\r\n            return this;\r\n        }\r\n        // Precompute samples table\r\n        for (let i = 0; i < this.kSplineTableSize; ++i) {\r\n            this.sampleValues[i] = this.calcBezier(i * this.kSampleStepSize, mX1, mX2);\r\n        }\r\n    }\r\n    getValue(value) {\r\n        // LinearEasing\r\n        if (this.mX1 === this.mY1\r\n            && this.mX2 === this.mY2) {\r\n            return value;\r\n        }\r\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n        if (value === 0 || value === 1) {\r\n            return value;\r\n        }\r\n        // LinearEasing\r\n        if (this.mX1 === this.mY1 && this.mX2 === this.mY2) {\r\n            return value;\r\n        }\r\n        return this.calcBezier(this.getTForX(value, this.mX1, this.mX2), this.mY1, this.mY2);\r\n    }\r\n    getTForX(aX, mX1, mX2) {\r\n        let intervalStart = 0.0;\r\n        let currentSample = 1;\r\n        const lastSample = this.kSplineTableSize - 1;\r\n        for (; currentSample !== lastSample && this.sampleValues[currentSample] <= aX; ++currentSample) {\r\n            intervalStart += this.kSampleStepSize;\r\n        }\r\n        --currentSample;\r\n        // Interpolate to provide an initial guess for t\r\n        const dist = (aX - this.sampleValues[currentSample])\r\n            / (this.sampleValues[currentSample + 1]\r\n                - this.sampleValues[currentSample]);\r\n        const guessForT = intervalStart + dist * this.kSampleStepSize;\r\n        const initialSlope = this.getSlope(guessForT, mX1, mX2);\r\n        if (initialSlope >= this.NEWTON_MIN_SLOPE) {\r\n            return this.newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n        }\r\n        if (initialSlope === 0.0) {\r\n            return guessForT;\r\n        }\r\n        return this.binarySubdivide(aX, intervalStart, intervalStart + this.kSampleStepSize, mX1, mX2);\r\n    }\r\n    A(aA1, aA2) {\r\n        return 1.0 - 3.0 * aA2 + 3.0 * aA1;\r\n    }\r\n    B(aA1, aA2) {\r\n        return 3.0 * aA2 - 6.0 * aA1;\r\n    }\r\n    C(aA1) {\r\n        return 3.0 * aA1;\r\n    }\r\n    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    calcBezier(aT, aA1, aA2) {\r\n        return ((this.A(aA1, aA2) * aT + this.B(aA1, aA2)) * aT + this.C(aA1)) * aT;\r\n    }\r\n    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    getSlope(aT, aA1, aA2) {\r\n        return 3.0 * this.A(aA1, aA2) * aT * aT + 2.0 * this.B(aA1, aA2) * aT + this.C(aA1);\r\n    }\r\n    binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n        let currentX;\r\n        let currentT;\r\n        let i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = this.calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            }\r\n            else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > this.SUBDIVISION_PRECISION\r\n            && ++i < this.SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n    newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n        for (let i = 0; i < this.NEWTON_ITERATIONS; ++i) {\r\n            const currentSlope = this.getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) {\r\n                return aGuessT;\r\n            }\r\n            const currentX = this.calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n}\r\n//# sourceMappingURL=bezier.utility.js.map","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t\"use strict\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bm_rounder = Math.round;\r\nvar bm_rnd;\r\nvar bm_pow = Math.pow;\r\nvar bm_sqrt = Math.sqrt;\r\nvar bm_abs = Math.abs;\r\nvar bm_floor = Math.floor;\r\nvar bm_max = Math.max;\r\nvar bm_min = Math.min;\r\nvar blitter = 10;\r\n\r\nvar BMMath = {};\r\n(function(){\r\n    var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"];\r\n    var i, len = propertyNames.length;\r\n    for(i=0;i<len;i+=1){\r\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n}());\r\n\r\nfunction ProjectInterface(){return {};}\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function(val){\r\n    var tOfVal = typeof val;\r\n    if(tOfVal === 'object' && val.length){\r\n        var absArr = createSizedArray(val.length);\r\n        var i, len = val.length;\r\n        for(i=0;i<len;i+=1){\r\n            absArr[i] = Math.abs(val[i]);\r\n        }\r\n        return absArr;\r\n    }\r\n    return Math.abs(val);\r\n\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI/180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag){\r\n    if(flag){\r\n        bm_rnd = Math.round;\r\n    }else{\r\n        bm_rnd = function(val){\r\n            return val;\r\n        };\r\n    }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element){\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier){\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier){\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier){\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames){\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target){\r\n    this.type = type;\r\n    this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nvar createElementID = (function(){\r\n    var _count = 0;\r\n    return function createID() {\r\n        return '__lottie_element_' + ++_count\r\n    }\r\n}())\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n    var r, g, b, i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n    return [ r,\r\n        g,\r\n         b ];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\r\n        d = max - min,\r\n        h,\r\n        s = (max === 0 ? 0 : d / max),\r\n        v = max / 255;\r\n\r\n    switch (max) {\r\n        case min: h = 0; break;\r\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\r\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    }\r\n\r\n    return [\r\n         h,\r\n         s,\r\n         v\r\n    ];\r\n}\r\n\r\nfunction addSaturationToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[1] += offset;\r\n    if (hsv[1] > 1) {\r\n        hsv[1] = 1;\r\n    }\r\n    else if (hsv[1] <= 0) {\r\n        hsv[1] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[2] += offset;\r\n    if (hsv[2] > 1) {\r\n        hsv[2] = 1;\r\n    }\r\n    else if (hsv[2] < 0) {\r\n        hsv[2] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color,offset) {\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[0] += offset/360;\r\n    if (hsv[0] > 1) {\r\n        hsv[0] -= 1;\r\n    }\r\n    else if (hsv[0] < 0) {\r\n        hsv[0] += 1;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function(){\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n    for(i=0;i<256;i+=1){\r\n        hex = i.toString(16);\r\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function(r, g, b) {\r\n        if(r<0){\r\n            r = 0;\r\n        }\r\n        if(g<0){\r\n            g = 0;\r\n        }\r\n        if(b<0){\r\n            b = 0;\r\n        }\r\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n}());\r\nfunction BaseEvent(){}\r\nBaseEvent.prototype = {\r\n\ttriggerEvent: function (eventName, args) {\r\n\t    if (this._cbs[eventName]) {\r\n\t        var len = this._cbs[eventName].length;\r\n\t        for (var i = 0; i < len; i++){\r\n\t            this._cbs[eventName][i](args);\r\n\t        }\r\n\t    }\r\n\t},\r\n\taddEventListener: function (eventName, callback) {\r\n\t    if (!this._cbs[eventName]){\r\n\t        this._cbs[eventName] = [];\r\n\t    }\r\n\t    this._cbs[eventName].push(callback);\r\n\r\n\t\treturn function() {\r\n\t\t\tthis.removeEventListener(eventName, callback);\r\n\t\t}.bind(this);\r\n\t},\r\n\tremoveEventListener: function (eventName,callback){\r\n\t    if (!callback){\r\n\t        this._cbs[eventName] = null;\r\n\t    }else if(this._cbs[eventName]){\r\n\t        var i = 0, len = this._cbs[eventName].length;\r\n\t        while(i<len){\r\n\t            if(this._cbs[eventName][i] === callback){\r\n\t                this._cbs[eventName].splice(i,1);\r\n\t                i -=1;\r\n\t                len -= 1;\r\n\t            }\r\n\t            i += 1;\r\n\t        }\r\n\t        if(!this._cbs[eventName].length){\r\n\t            this._cbs[eventName] = null;\r\n\t        }\r\n\t    }\r\n\t}\r\n};\r\nvar createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n\treturn Array.apply(null,{length:len});\r\n}\r\nfunction createTag(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElement(type);\r\n}\r\nfunction DynamicPropertyContainer(){};\r\nDynamicPropertyContainer.prototype = {\r\n\taddDynamicProperty: function(prop) {\r\n\t\tif(this.dynamicProperties.indexOf(prop) === -1) {\r\n\t        this.dynamicProperties.push(prop);\r\n\t        this.container.addDynamicProperty(this);\r\n\t    \tthis._isAnimated = true;\r\n\t    }\r\n\t},\r\n\titerateDynamicProperties: function(){\r\n\t    this._mdf = false;\r\n\t    var i, len = this.dynamicProperties.length;\r\n\t    for(i=0;i<len;i+=1){\r\n\t        this.dynamicProperties[i].getValue();\r\n\t        if(this.dynamicProperties[i]._mdf) {\r\n\t            this._mdf = true;\r\n\t        }\r\n\t    }\r\n\t},\r\n\tinitDynamicPropertyContainer: function(container){\r\n\t    this.container = container;\r\n\t    this.dynamicProperties = [];\r\n\t    this._mdf = false;\r\n\t    this._isAnimated = false;\r\n\t}\r\n}\r\nvar getBlendMode = (function() {\r\n\r\n\tvar blendModeEnums = {\r\n        0:'source-over',\r\n        1:'multiply',\r\n        2:'screen',\r\n        3:'overlay',\r\n        4:'darken',\r\n        5:'lighten',\r\n        6:'color-dodge',\r\n        7:'color-burn',\r\n        8:'hard-light',\r\n        9:'soft-light',\r\n        10:'difference',\r\n        11:'exclusion',\r\n        12:'hue',\r\n        13:'saturation',\r\n        14:'color',\r\n        15:'luminosity'\r\n    }\r\n\r\n\treturn function(mode) {\r\n\t\treturn blendModeEnums[mode] || '';\r\n\t}\r\n}())\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        if(!sz && sz !== 0) {\r\n            sz = 1;\r\n        }\r\n        if(sx === 1 && sy === 1 && sz === 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        var inverseMatrix = new Matrix();\r\n        inverseMatrix.props[0] = a;\r\n        inverseMatrix.props[1] = b;\r\n        inverseMatrix.props[4] = c;\r\n        inverseMatrix.props[5] = d;\r\n        inverseMatrix.props[12] = e;\r\n        inverseMatrix.props[13] = f;\r\n        return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var inverseMatrix = this.getInverseMatrix();\r\n        return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0)\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [\r\n                x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n                x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n                x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n            ];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        var _p = this.props;\r\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n        var v = 10000;\r\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n            return _rnd(val * v) / v;\r\n        }\r\n        return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var props = this.props;\r\n        var _a = roundMatrixProperty(props[0]);\r\n        var _b = roundMatrixProperty(props[1]);\r\n        var _c = roundMatrixProperty(props[4]);\r\n        var _d = roundMatrixProperty(props[5]);\r\n        var _e = roundMatrixProperty(props[12]);\r\n        var _f = roundMatrixProperty(props[13]);\r\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\r\n    }\r\n\r\n    return function(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this.getInverseMatrix = getInverseMatrix;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n}());\r\n\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\nvar BezierFactory = (function(){\r\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n        var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a,b,c,d,nm){\r\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\r\n        if(beziers[str]){\r\n            return beziers[str];\r\n        }\r\n        var bezEasing = new BezierEasing([a,b,c,d]);\r\n        beziers[str] = bezEasing;\r\n        return bezEasing;\r\n    }\r\n\r\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n    var float32ArraySupported = typeof Float32Array === \"function\";\r\n\r\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C (aA1)      { return 3.0 * aA1; }\r\n\r\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    function calcBezier (aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n\r\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    function getSlope (aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\r\n        var currentX, currentT, i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            } else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\r\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) return aGuessT;\r\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n\r\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n    function BezierEasing (points) {\r\n        this._p = points;\r\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n        this._precomputed = false;\r\n\r\n        this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n\r\n        get: function (x) {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            if (!this._precomputed) this._precompute();\r\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n            if (x === 0) return 0;\r\n            if (x === 1) return 1;\r\n            return calcBezier(this._getTForX(x), mY1, mY2);\r\n        },\r\n\r\n        // Private part\r\n\r\n        _precompute: function () {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            this._precomputed = true;\r\n            if (mX1 !== mY1 || mX2 !== mY2)\r\n                this._calcSampleValues();\r\n        },\r\n\r\n        _calcSampleValues: function () {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2];\r\n            for (var i = 0; i < kSplineTableSize; ++i) {\r\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n        _getTForX: function (aX) {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2],\r\n                mSampleValues = this._mSampleValues;\r\n\r\n            var intervalStart = 0.0;\r\n            var currentSample = 1;\r\n            var lastSample = kSplineTableSize - 1;\r\n\r\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n                intervalStart += kSampleStepSize;\r\n            }\r\n            --currentSample;\r\n\r\n            // Interpolate to provide an initial guess for t\r\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\r\n            var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n            var initialSlope = getSlope(guessForT, mX1, mX2);\r\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n            } else if (initialSlope === 0.0) {\r\n                return guessForT;\r\n            } else {\r\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n            }\r\n        }\r\n    };\r\n\r\n    return ob;\r\n\r\n}());\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if(!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function () {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    if(!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\nfunction extendPrototype(sources,destination){\r\n    var i, len = sources.length, sourcePrototype;\r\n    for (i = 0;i < len;i += 1) {\r\n        sourcePrototype = sources[i].prototype;\r\n        for (var attr in sourcePrototype) {\r\n            if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n\tfunction ProxyFunction(){}\r\n\tProxyFunction.prototype = prototype;\r\n\treturn ProxyFunction;\r\n}\r\nfunction bezFunction(){\r\n\r\n    var easingFunctions = [];\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\r\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\r\n        return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\r\n        if(z1 === 0 && z2 === 0 && z3 === 0) {\r\n            return pointOnLine2D(x1,y1, x2,y2, x3,y3);\r\n        }\r\n        var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\r\n        var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\r\n        var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\r\n        var diffDist;\r\n        if(dist1 > dist2){\r\n            if(dist1 > dist3){\r\n                diffDist = dist1 - dist2 - dist3;\r\n            } else {\r\n                diffDist = dist3 - dist2 - dist1;\r\n            }\r\n        } else if(dist3 > dist2){\r\n            diffDist = dist3 - dist2 - dist1;\r\n        } else {\r\n            diffDist = dist2 - dist1 - dist3;\r\n        }\r\n        return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = (function(){\r\n\r\n        return function(pt1,pt2,pt3,pt4){\r\n            var curveSegments = defaultCurveSegments;\r\n            var k;\r\n            var i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point = [],lastPoint = [];\r\n            var lengthData = bezier_length_pool.newElement();\r\n            len = pt3.length;\r\n            for(k=0;k<curveSegments;k+=1){\r\n                perc = k/(curveSegments-1);\r\n                ptDistance = 0;\r\n                for(i=0;i<len;i+=1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint[i] !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                    lastPoint[i] = point[i];\r\n                }\r\n                if(ptDistance){\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                }\r\n                lengthData.percents[k] = perc;\r\n                lengthData.lengths[k] = addedLength;\r\n            }\r\n            lengthData.addedLength = addedLength;\r\n            return lengthData;\r\n        };\r\n    }());\r\n\r\n    function getSegmentsLength(shapeData) {\r\n        var segmentsLength = segments_length_pool.newElement();\r\n        var closed = shapeData.c;\r\n        var pathV = shapeData.v;\r\n        var pathO = shapeData.o;\r\n        var pathI = shapeData.i;\r\n        var i, len = shapeData._length;\r\n        var lengths = segmentsLength.lengths;\r\n        var totalLength = 0;\r\n        for(i=0;i<len-1;i+=1){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        if(closed && len){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        segmentsLength.totalLength = totalLength;\r\n        return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length){\r\n        this.segmentLength = 0;\r\n        this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial,point){\r\n        this.partialLength = partial;\r\n        this.point = point;\r\n    }\r\n\r\n    var buildBezierData = (function(){\r\n\r\n        var storedData = {};\r\n\r\n        return function (pt1, pt2, pt3, pt4){\r\n            var bezierName = (pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g, 'p');\r\n            if(!storedData[bezierName]){\r\n                var curveSegments = defaultCurveSegments;\r\n                var k, i, len;\r\n                var ptCoord,perc,addedLength = 0;\r\n                var ptDistance;\r\n                var point,lastPoint = null;\r\n                if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\r\n                    curveSegments = 2;\r\n                }\r\n                var bezierData = new BezierData(curveSegments);\r\n                len = pt3.length;\r\n                for (k = 0; k < curveSegments; k += 1) {\r\n                    point = createSizedArray(len);\r\n                    perc = k / (curveSegments - 1);\r\n                    ptDistance = 0;\r\n                    for (i = 0; i < len; i += 1){\r\n                        ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\r\n                        point[i] = ptCoord;\r\n                        if(lastPoint !== null){\r\n                            ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                        }\r\n                    }\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                    bezierData.points[k] = new PointData(ptDistance, point);\r\n                    lastPoint = point;\r\n                }\r\n                bezierData.segmentLength = addedLength;\r\n                storedData[bezierName] = bezierData;\r\n            }\r\n            return storedData[bezierName];\r\n        };\r\n    }());\r\n\r\n    function getDistancePerc(perc,bezierData){\r\n        var percents = bezierData.percents;\r\n        var lengths = bezierData.lengths;\r\n        var len = percents.length;\r\n        var initPos = bm_floor((len-1)*perc);\r\n        var lengthPos = perc*bezierData.addedLength;\r\n        var lPerc = 0;\r\n        if(initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]){\r\n            return percents[initPos];\r\n        }else{\r\n            var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n            var flag = true;\r\n            while(flag){\r\n                if(lengths[initPos] <= lengthPos && lengths[initPos+1] > lengthPos){\r\n                    lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos+1] - lengths[initPos]);\r\n                    flag = false;\r\n                }else{\r\n                    initPos += dir;\r\n                }\r\n                if(initPos < 0 || initPos >= len - 1){\r\n                    //FIX for TypedArrays that don't store floating point values with enough accuracy\r\n                    if(initPos === len - 1) {\r\n                        return percents[initPos];\r\n                    }\r\n                    flag = false;\r\n                }\r\n            }\r\n            return percents[initPos] + (percents[initPos+1] - percents[initPos])*lPerc;\r\n        }\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n        var t1 = getDistancePerc(percent,bezierData);\r\n        var u0 = 1;\r\n        var u1 = 1 - t1;\r\n        var ptX = Math.round((u1*u1*u1* pt1[0] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[0] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[0] + t1*t1*t1* pt2[0])* 1000) / 1000;\r\n        var ptY = Math.round((u1*u1*u1* pt1[1] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[1] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[1] + t1*t1*t1* pt2[1])* 1000) / 1000;\r\n        return [ptX, ptY];\r\n    }\r\n\r\n    function getSegmentArray() {\r\n\r\n    }\r\n\r\n    var bezier_segment_points = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\r\n\r\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\r\n        var t0 = getDistancePerc(startPerc,bezierData);\r\n        endPerc = endPerc > 1 ? 1 : endPerc;\r\n        var t1 = getDistancePerc(endPerc,bezierData);\r\n        var i, len = pt1.length;\r\n        var u0 = 1 - t0;\r\n        var u1 = 1 - t1;\r\n        var u0u0u0 = u0*u0*u0;\r\n        var t0u0u0_3 = t0*u0*u0*3;\r\n        var t0t0u0_3 = t0*t0*u0*3;\r\n        var t0t0t0 = t0*t0*t0;\r\n        //\r\n        var u0u0u1 = u0*u0*u1;\r\n        var t0u0u1_3 = t0*u0*u1 + u0*t0*u1 + u0*u0*t1;\r\n        var t0t0u1_3 = t0*t0*u1 + u0*t0*t1 + t0*u0*t1;\r\n        var t0t0t1 = t0*t0*t1;\r\n        //\r\n        var u0u1u1 = u0*u1*u1;\r\n        var t0u1u1_3 = t0*u1*u1 + u0*t1*u1 + u0*u1*t1;\r\n        var t0t1u1_3 = t0*t1*u1 + u0*t1*t1 + t0*u1*t1;\r\n        var t0t1t1 = t0*t1*t1;\r\n        //\r\n        var u1u1u1 = u1*u1*u1;\r\n        var t1u1u1_3 = t1*u1*u1 + u1*t1*u1 + u1*u1*t1;\r\n        var t1t1u1_3 = t1*t1*u1 + u1*t1*t1 + t1*u1*t1;\r\n        var t1t1t1 = t1*t1*t1;\r\n        for(i=0;i<len;i+=1){\r\n            bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n        }\r\n\r\n        return bezier_segment_points;\r\n    }\r\n\r\n    return {\r\n        getSegmentsLength : getSegmentsLength,\r\n        getNewSegment : getNewSegment,\r\n        getPointInSegment : getPointInSegment,\r\n        buildBezierData : buildBezierData,\r\n        pointOnLine2D : pointOnLine2D,\r\n        pointOnLine3D : pointOnLine3D\r\n    };\r\n}\r\n\r\nvar bez = bezFunction();\r\nfunction dataFunctionManager(){\r\n\r\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n    function completeLayers(layers, comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData) || layerData.completed){\r\n                continue;\r\n            }\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.layers = findCompLayers(layerData.refId, comps);\r\n                completeLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                completeShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                completeText(layerData, fontManager);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findCompLayers(id,comps){\r\n        var i = 0, len = comps.length;\r\n        while(i<len){\r\n            if(comps[i].id === id){\r\n                if(!comps[i].layers.__used) {\r\n                    comps[i].layers.__used = true;\r\n                    return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function completeShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                completeShapes(arr[i].it);\r\n            }\r\n        }\r\n        /*if(hasPaths){\r\n            //mx: distance\r\n            //ss: sensitivity\r\n            //dc: decay\r\n            arr.splice(arr.length-1,0,{\r\n                \"ty\": \"ms\",\r\n                \"mx\":20,\r\n                \"ss\":10,\r\n                 \"dc\":0.001,\r\n                \"maxDist\":200\r\n            });\r\n        }*/\r\n    }\r\n\r\n    function convertPathsToAbsoluteValues(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] += path.v[i][0];\r\n            path.i[i][1] += path.v[i][1];\r\n            path.o[i][0] += path.v[i][0];\r\n            path.o[i][1] += path.v[i][1];\r\n        }\r\n    }\r\n\r\n    function checkVersion(minimum,animVersionString){\r\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\r\n        if(minimum[0]>animVersion[0]){\r\n            return true;\r\n        } else if(animVersion[0] > minimum[0]){\r\n            return false;\r\n        }\r\n        if(minimum[1]>animVersion[1]){\r\n            return true;\r\n        } else if(animVersion[1] > minimum[1]){\r\n            return false;\r\n        }\r\n        if(minimum[2]>animVersion[2]){\r\n            return true;\r\n        } else if(animVersion[2] > minimum[2]){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var checkText = (function(){\r\n        var minimumVersion = [4,4,14];\r\n\r\n        function updateTextLayer(textLayer){\r\n            var documentData = textLayer.t.d;\r\n            textLayer.t.d = {\r\n                k: [\r\n                    {\r\n                        s:documentData,\r\n                        t:0\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 5){\r\n                    updateTextLayer(layers[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkChars = (function() {\r\n        var minimumVersion = [4,7,99];\r\n        return function (animationData){\r\n            if(animationData.chars && !checkVersion(minimumVersion,animationData.v)){\r\n                var i, len = animationData.chars.length, j, jLen, k, kLen;\r\n                var pathData, paths;\r\n                for(i = 0; i < len; i += 1) {\r\n                    if(animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                        paths = animationData.chars[i].data.shapes[0].it;\r\n                        jLen = paths.length;\r\n\r\n                        for(j = 0; j < jLen; j += 1) {\r\n                            pathData = paths[j].ks.k;\r\n                            if(!pathData.__converted) {\r\n                                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                                pathData.__converted = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkColors = (function(){\r\n        var minimumVersion = [4,1,9];\r\n\r\n        function iterateShapes(shapes){\r\n            var i, len = shapes.length;\r\n            var j, jLen;\r\n            for(i=0;i<len;i+=1){\r\n                if(shapes[i].ty === 'gr'){\r\n                    iterateShapes(shapes[i].it);\r\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\r\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\r\n                        jLen = shapes[i].c.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(shapes[i].c.k[j].s){\r\n                                shapes[i].c.k[j].s[0] /= 255;\r\n                                shapes[i].c.k[j].s[1] /= 255;\r\n                                shapes[i].c.k[j].s[2] /= 255;\r\n                                shapes[i].c.k[j].s[3] /= 255;\r\n                            }\r\n                            if(shapes[i].c.k[j].e){\r\n                                shapes[i].c.k[j].e[0] /= 255;\r\n                                shapes[i].c.k[j].e[1] /= 255;\r\n                                shapes[i].c.k[j].e[2] /= 255;\r\n                                shapes[i].c.k[j].e[3] /= 255;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        shapes[i].c.k[0] /= 255;\r\n                        shapes[i].c.k[1] /= 255;\r\n                        shapes[i].c.k[2] /= 255;\r\n                        shapes[i].c.k[3] /= 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 4){\r\n                    iterateShapes(layers[i].shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkShapes = (function(){\r\n        var minimumVersion = [4,4,18];\r\n\r\n\r\n\r\n        function completeShapes(arr){\r\n            var i, len = arr.length;\r\n            var j, jLen;\r\n            var hasPaths = false;\r\n            for(i=len-1;i>=0;i-=1){\r\n                if(arr[i].ty == 'sh'){\r\n                    if(arr[i].ks.k.i){\r\n                        arr[i].ks.k.c = arr[i].closed;\r\n                    }else{\r\n                        jLen = arr[i].ks.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(arr[i].ks.k[j].s){\r\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                            }\r\n                            if(arr[i].ks.k[j].e){\r\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                            }\r\n                        }\r\n                    }\r\n                    hasPaths = true;\r\n                }else if(arr[i].ty == 'gr'){\r\n                    completeShapes(arr[i].it);\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var layerData;\r\n            var i, len = layers.length;\r\n            var j, jLen, k, kLen;\r\n            for(i=0;i<len;i+=1){\r\n                layerData = layers[i];\r\n                if(layerData.hasMask){\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(maskProps[j].pt.k.i){\r\n                            maskProps[j].pt.k.c = maskProps[j].cl;\r\n                        }else{\r\n                            kLen = maskProps[j].pt.k.length;\r\n                            for(k=0;k<kLen;k+=1){\r\n                                if(maskProps[j].pt.k[k].s){\r\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                                }\r\n                                if(maskProps[j].pt.k[k].e){\r\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(layerData.ty === 4){\r\n                    completeShapes(layerData.shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    function completeData(animationData, fontManager){\r\n        if(animationData.__complete){\r\n            return;\r\n        }\r\n        checkColors(animationData);\r\n        checkText(animationData);\r\n        checkChars(animationData);\r\n        checkShapes(animationData);\r\n        completeLayers(animationData.layers, animationData.assets, fontManager);\r\n        animationData.__complete = true;\r\n        //blitAnimation(animationData, animationData.assets, fontManager);\r\n    }\r\n\r\n    function completeText(data, fontManager){\r\n        if(data.t.a.length === 0 && !('m' in data.t.p)){\r\n            data.singleShape = true;\r\n        }\r\n    }\r\n\r\n    var moduleOb = {};\r\n    moduleOb.completeData = completeData;\r\n    moduleOb.checkColors = checkColors;\r\n    moduleOb.checkChars = checkChars;\r\n    moduleOb.checkShapes = checkShapes;\r\n    moduleOb.completeLayers = completeLayers;\r\n\r\n    return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\nvar FontManager = (function(){\r\n\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n        w: 0,\r\n        size:0,\r\n        shapes:[]\r\n    };\r\n    var combinedCharacters = [];\r\n    //Hindi characters\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366\r\n    , 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379\r\n    , 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n    function trimFontOptions(font) {\r\n        var familyArray = font.split(',');\r\n        var i, len = familyArray.length;\r\n        var enabledFamilies = [];\r\n        for (i = 0; i < len; i += 1) {\r\n            if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n                enabledFamilies.push(familyArray[i]);\r\n            }\r\n        }\r\n        return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family){\r\n        var parentNode = createTag('span');\r\n        parentNode.style.fontFamily    = family;\r\n        var node = createTag('span');\r\n        // Characters that vary significantly among different fonts\r\n        node.innerText = 'giItT1WQy@!-/#';\r\n        // Visible - so we can measure it - but not on the screen\r\n        parentNode.style.position      = 'absolute';\r\n        parentNode.style.left          = '-10000px';\r\n        parentNode.style.top           = '-10000px';\r\n        // Large font size makes even subtle changes obvious\r\n        parentNode.style.fontSize      = '300px';\r\n        // Reset any font properties\r\n        parentNode.style.fontVariant   = 'normal';\r\n        parentNode.style.fontStyle     = 'normal';\r\n        parentNode.style.fontWeight    = 'normal';\r\n        parentNode.style.letterSpacing = '0';\r\n        parentNode.appendChild(node);\r\n        document.body.appendChild(parentNode);\r\n\r\n        // Remember width with no applied web font\r\n        var width = node.offsetWidth;\r\n        node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n        return {node:node, w:width, parent:parentNode};\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n        var i, len = this.fonts.length;\r\n        var node, w;\r\n        var loadedCount = len;\r\n        for(i=0;i<len; i+= 1){\r\n            if(this.fonts[i].loaded){\r\n                loadedCount -= 1;\r\n                continue;\r\n            }\r\n            if(this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0){\r\n                this.fonts[i].loaded = true;\r\n            } else{\r\n                node = this.fonts[i].monoCase.node;\r\n                w = this.fonts[i].monoCase.w;\r\n                if(node.offsetWidth !== w){\r\n                    loadedCount -= 1;\r\n                    this.fonts[i].loaded = true;\r\n                }else{\r\n                    node = this.fonts[i].sansCase.node;\r\n                    w = this.fonts[i].sansCase.w;\r\n                    if(node.offsetWidth !== w){\r\n                        loadedCount -= 1;\r\n                        this.fonts[i].loaded = true;\r\n                    }\r\n                }\r\n                if(this.fonts[i].loaded){\r\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\r\n            setTimeout(this.checkLoadedFontsBinded, 20);\r\n        }else{\r\n            setTimeout(this.setIsLoadedBinded, 10);\r\n\r\n        }\r\n    }\r\n\r\n    function createHelper(def, fontData){\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px';\r\n        //tHelper.style.fontFamily = fontData.fFamily;\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontData.fStyle);\r\n        tHelper.setAttribute('font-weight', fontData.fWeight);\r\n        tHelper.textContent = '1';\r\n        if(fontData.fClass){\r\n            tHelper.style.fontFamily = 'inherit';\r\n            tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n            tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n        def.appendChild(tHelper);\r\n        var tCanvasHelper = createTag('canvas').getContext('2d');\r\n        tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px '+ fontData.fFamily;\r\n        //tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n        return tHelper;\r\n    }\r\n\r\n    function addFonts(fontData, defs){\r\n        if(!fontData){\r\n            this.isLoaded = true;\r\n            return;\r\n        }\r\n        if(this.chars){\r\n            this.isLoaded = true;\r\n            this.fonts = fontData.list;\r\n            return;\r\n        }\r\n\r\n\r\n        var fontArr = fontData.list;\r\n        var i, len = fontArr.length;\r\n        var _pendingFonts = len;\r\n        for(i=0; i<len; i+= 1){\r\n            var shouldLoadFont = true;\r\n            var loadedSelector;\r\n            var j;\r\n            fontArr[i].loaded = false;\r\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\r\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\r\n            if(!fontArr[i].fPath) {\r\n                fontArr[i].loaded = true;\r\n                _pendingFonts -= 1;\r\n            }else if(fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3){\r\n                loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+ fontArr[i].fFamily +'\"], style[f-origin=\"3\"][f-family=\"'+ fontArr[i].fFamily +'\"]');\r\n\r\n                if (loadedSelector.length > 0) {\r\n                    shouldLoadFont = false;\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var s = createTag('style');\r\n                    s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    s.setAttribute('f-origin', fontArr[i].origin);\r\n                    s.setAttribute('f-family', fontArr[i].fFamily);\r\n                    s.type = \"text/css\";\r\n                    s.innerText = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\r\n                    defs.appendChild(s);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1){\r\n                loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var l = createTag('link');\r\n                    l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    l.setAttribute('f-origin', fontArr[i].origin);\r\n                    l.type = \"text/css\";\r\n                    l.rel = \"stylesheet\";\r\n                    l.href = fontArr[i].fPath;\r\n                    document.body.appendChild(l);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 't' || fontArr[i].origin === 2){\r\n                loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (fontArr[i].fPath === loadedSelector[j].src) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var sc = createTag('link');\r\n                    sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    sc.setAttribute('f-origin', fontArr[i].origin);\r\n                    sc.setAttribute('rel','stylesheet');\r\n                    sc.setAttribute('href',fontArr[i].fPath);\r\n                    defs.appendChild(sc);\r\n                }\r\n            }\r\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\r\n            fontArr[i].cache = {};\r\n            this.fonts.push(fontArr[i]);\r\n        }\r\n        if (_pendingFonts === 0) {\r\n            this.isLoaded = true;\r\n        } else {\r\n            //On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n            //Adding this timeout seems to fix it\r\n           setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n        }\r\n    }\r\n\r\n    function addChars(chars){\r\n        if(!chars){\r\n            return;\r\n        }\r\n        if(!this.chars){\r\n            this.chars = [];\r\n        }\r\n        var i, len = chars.length;\r\n        var j, jLen = this.chars.length, found;\r\n        for(i=0;i<len;i+=1){\r\n            j = 0;\r\n            found = false;\r\n            while(j<jLen){\r\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\r\n                    found = true;\r\n                }\r\n                j += 1;\r\n            }\r\n            if(!found){\r\n                this.chars.push(chars[i]);\r\n                jLen += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCharData(char, style, font){\r\n        var i = 0, len = this.chars.length;\r\n        while( i < len) {\r\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\r\n\r\n                return this.chars[i];\r\n            }\r\n            i+= 1;\r\n        }\r\n        if((typeof char === 'string' && char.charCodeAt(0) !== 13 || !char) && console && console.warn) {\r\n            console.warn('Missing character from exported characters list: ', char, style, font);\r\n        }\r\n        return emptyChar;\r\n    }\r\n\r\n    function measureText(char, fontName, size) {\r\n        var fontData = this.getFontByName(fontName);\r\n        var index = char.charCodeAt(0);\r\n        if(!fontData.cache[index + 1]) {\r\n            var tHelper = fontData.helper;\r\n            //Canvas version\r\n            //fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n            //SVG version\r\n            //console.log(tHelper.getBBox().width)\r\n            if (char === ' ') {\r\n                tHelper.textContent = '|' + char + '|';\r\n                var doubleSize = tHelper.getComputedTextLength();\r\n                tHelper.textContent = '||';\r\n                var singleSize = tHelper.getComputedTextLength();\r\n                fontData.cache[index + 1] = (doubleSize - singleSize)/100;\r\n            } else {\r\n                tHelper.textContent = char;\r\n                fontData.cache[index + 1] = (tHelper.getComputedTextLength())/100;\r\n            }\r\n        }\r\n        return fontData.cache[index + 1] * size;\r\n    }\r\n\r\n    function getFontByName(name){\r\n        var i = 0, len = this.fonts.length;\r\n        while(i<len){\r\n            if(this.fonts[i].fName === name) {\r\n                return this.fonts[i];\r\n            }\r\n            i += 1;\r\n        }\r\n        return this.fonts[0];\r\n    }\r\n\r\n    function getCombinedCharacterCodes() {\r\n        return combinedCharacters;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n        this.isLoaded = true\r\n    }\r\n\r\n    var Font = function(){\r\n        this.fonts = [];\r\n        this.chars = null;\r\n        this.typekitLoaded = 0;\r\n        this.isLoaded = false;\r\n        this.initTime = Date.now();\r\n        this.setIsLoadedBinded = this.setIsLoaded.bind(this)\r\n        this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this)\r\n    };\r\n    //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \r\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n    var fontPrototype = {\r\n        addChars: addChars,\r\n        addFonts: addFonts,\r\n        getCharData: getCharData,\r\n        getFontByName: getFontByName,\r\n        measureText: measureText,\r\n        checkLoadedFonts: checkLoadedFonts,\r\n        setIsLoaded: setIsLoaded,\r\n    }\r\n\r\n    Font.prototype = fontPrototype;\r\n\r\n    return Font;\r\n\r\n}());\r\n\r\nvar PropertyFactory = (function(){\r\n\r\n    var initFrame = initialDefaultFrame;\r\n    var math_abs = Math.abs;\r\n\r\n    function interpolateValue(frameNum, caching) {\r\n        var offsetTime = this.offsetTime;\r\n        var newValue;\r\n        if (this.propType === 'multidimensional') {\r\n            newValue = createTypedArray('float32', this.pv.length);\r\n        }\r\n        var iterationIndex = caching.lastIndex;\r\n        var i = iterationIndex;\r\n        var len = this.keyframes.length - 1, flag = true;\r\n        var keyData, nextKeyData;\r\n\r\n        while (flag) {\r\n            keyData = this.keyframes[i];\r\n            nextKeyData = this.keyframes[i + 1];\r\n            if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime){\r\n                if(keyData.h){\r\n                    keyData = nextKeyData;\r\n                }\r\n                iterationIndex = 0;\r\n                break;\r\n            }\r\n            if ((nextKeyData.t - offsetTime) > frameNum){\r\n                iterationIndex = i;\r\n                break;\r\n            }\r\n            if (i < len - 1){\r\n                i += 1;\r\n            } else {\r\n                iterationIndex = 0;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        var k, kLen, perc, jLen, j, fnc;\r\n        var nextKeyTime = nextKeyData.t - offsetTime;\r\n        var keyTime = keyData.t - offsetTime;\r\n        var endValue;\r\n        if (keyData.to) {\r\n            if (!keyData.bezierData) {\r\n                keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n            }\r\n            var bezierData = keyData.bezierData;\r\n            if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n                var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n                kLen = bezierData.points[ind].point.length;\r\n                for (k = 0; k < kLen; k += 1) {\r\n                    newValue[k] = bezierData.points[ind].point[k];\r\n                }\r\n                // caching._lastKeyframeIndex = -1;\r\n            } else {\r\n                if (keyData.__fnct) {\r\n                    fnc = keyData.__fnct;\r\n                } else {\r\n                    fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n                    keyData.__fnct = fnc;\r\n                }\r\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n                var distanceInLine = bezierData.segmentLength*perc;\r\n\r\n                var segmentPerc;\r\n                var addedLength =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n                j =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n                flag = true;\r\n                jLen = bezierData.points.length;\r\n                while (flag) {\r\n                    addedLength += bezierData.points[j].partialLength;\r\n                    if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k];\r\n                        }\r\n                        break;\r\n                    } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n                        segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (j < jLen - 1){\r\n                        j += 1;\r\n                    } else {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                caching._lastPoint = j;\r\n                caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n                caching._lastKeyframeIndex = i;\r\n            }\r\n        } else {\r\n            var outX, outY, inX, inY, keyValue;\r\n            len = keyData.s.length;\r\n            endValue = nextKeyData.s || keyData.e;\r\n            if (this.sh && keyData.h !== 1) {\r\n                if (frameNum >= nextKeyTime) {\r\n                    newValue[0] = endValue[0];\r\n                    newValue[1] = endValue[1];\r\n                    newValue[2] = endValue[2];\r\n                } else if (frameNum <= keyTime) {\r\n                    newValue[0] = keyData.s[0];\r\n                    newValue[1] = keyData.s[1];\r\n                    newValue[2] = keyData.s[2];\r\n                } else {\r\n                    var quatStart = createQuaternion(keyData.s);\r\n                    var quatEnd = createQuaternion(endValue);\r\n                    var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n                    quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n                }\r\n                \r\n            } else {\r\n                for(i = 0; i < len; i += 1) {\r\n                    if (keyData.h !== 1) {\r\n                        if (frameNum >= nextKeyTime) {\r\n                            perc = 1;\r\n                        } else if(frameNum < keyTime) {\r\n                            perc = 0;\r\n                        } else {\r\n                            if(keyData.o.x.constructor === Array) {\r\n                                if (!keyData.__fnct) {\r\n                                    keyData.__fnct = [];\r\n                                }\r\n                                if (!keyData.__fnct[i]) {\r\n                                    outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                                    outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                                    inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                                    inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct[i] = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct[i];\r\n                                }\r\n                            } else {\r\n                                if (!keyData.__fnct) {\r\n                                    outX = keyData.o.x;\r\n                                    outY = keyData.o.y;\r\n                                    inX = keyData.i.x;\r\n                                    inY = keyData.i.y;\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct;\r\n                                }\r\n                            }\r\n                            perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\r\n                        }\r\n                    }\r\n\r\n                    endValue = nextKeyData.s || keyData.e;\r\n                    keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n                    if (this.propType === 'multidimensional') {\r\n                        newValue[i] = keyValue;\r\n                    } else {\r\n                        newValue = keyValue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        caching.lastIndex = iterationIndex;\r\n        return newValue;\r\n    }\r\n\r\n    //based on @Toji's https://github.com/toji/gl-matrix/\r\n    function slerp(a, b, t) {\r\n        var out = [];\r\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3],\r\n        bx = b[0], by = b[1], bz = b[2], bw = b[3]\r\n\r\n        var omega, cosom, sinom, scale0, scale1;\r\n\r\n        cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n        if (cosom < 0.0) {\r\n            cosom = -cosom;\r\n            bx = -bx;\r\n            by = -by;\r\n            bz = -bz;\r\n            bw = -bw;\r\n        }\r\n        if ((1.0 - cosom) > 0.000001) {\r\n            omega = Math.acos(cosom);\r\n            sinom = Math.sin(omega);\r\n            scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n            scale1 = Math.sin(t * omega) / sinom;\r\n        } else {\r\n            scale0 = 1.0 - t;\r\n            scale1 = t;\r\n        }\r\n        out[0] = scale0 * ax + scale1 * bx;\r\n        out[1] = scale0 * ay + scale1 * by;\r\n        out[2] = scale0 * az + scale1 * bz;\r\n        out[3] = scale0 * aw + scale1 * bw;\r\n\r\n        return out;\r\n    }\r\n\r\n    function quaternionToEuler(out, quat) {\r\n        var qx = quat[0];\r\n        var qy = quat[1];\r\n        var qz = quat[2];\r\n        var qw = quat[3];\r\n        var heading = Math.atan2(2*qy*qw-2*qx*qz , 1 - 2*qy*qy - 2*qz*qz)\r\n        var attitude = Math.asin(2*qx*qy + 2*qz*qw) \r\n        var bank = Math.atan2(2*qx*qw-2*qy*qz , 1 - 2*qx*qx - 2*qz*qz);\r\n        out[0] = heading/degToRads;\r\n        out[1] = attitude/degToRads;\r\n        out[2] = bank/degToRads;\r\n    }\r\n\r\n    function createQuaternion(values) {\r\n        var heading = values[0] * degToRads;\r\n        var attitude = values[1] * degToRads;\r\n        var bank = values[2] * degToRads;\r\n        var c1 = Math.cos(heading / 2);\r\n        var c2 = Math.cos(attitude / 2);\r\n        var c3 = Math.cos(bank / 2);\r\n        var s1 = Math.sin(heading / 2);\r\n        var s2 = Math.sin(attitude / 2);\r\n        var s3 = Math.sin(bank / 2);\r\n        var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n        var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n        var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n        var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n        return [x,y,z,w];\r\n    }\r\n\r\n    function getValueAtCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length- 1].t-this.offsetTime;\r\n        if(!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))){\r\n            if(this._caching.lastFrame >= frameNum) {\r\n                this._caching._lastKeyframeIndex = -1;\r\n                this._caching.lastIndex = 0;\r\n            }\r\n\r\n            var renderResult = this.interpolateValue(frameNum, this._caching);\r\n            this.pv = renderResult;\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function setVValue(val) {\r\n        var multipliedValue;\r\n        if(this.propType === 'unidimensional') {\r\n            multipliedValue = val * this.mult;\r\n            if(math_abs(this.v - multipliedValue) > 0.00001) {\r\n                this.v = multipliedValue;\r\n                this._mdf = true;\r\n            }\r\n        } else {\r\n            var i = 0, len = this.v.length;\r\n            while (i < len) {\r\n                multipliedValue = val[i] * this.mult;\r\n                if (math_abs(this.v[i] - multipliedValue) > 0.00001) {\r\n                    this.v[i] = multipliedValue;\r\n                    this._mdf = true;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n            return;\r\n        }\r\n        if(this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = this._isFirstFrame;\r\n        var multipliedValue;\r\n        var i, len = this.effectsSequence.length;\r\n        var finalValue = this.kf ? this.pv : this.data.k;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this._isFirstFrame = false;\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    function ValueProperty(elem, data, mult, container){\r\n        this.propType = 'unidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this.v = mult ? data.k * mult : data.k;\r\n        this.pv = data.k;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.vel = 0;\r\n        this.effectsSequence = [];\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult, container) {\r\n        this.propType = 'multidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.frameId = -1;\r\n        var i, len = data.k.length;\r\n        this.v = createTypedArray('float32', len);\r\n        this.pv = createTypedArray('float32', len);\r\n        var arr = createTypedArray('float32', len);\r\n        this.vel = createTypedArray('float32', len);\r\n        for (i = 0; i < len; i += 1) {\r\n            this.v[i] = data.k[i] * this.mult;\r\n            this.pv[i] = data.k[i];\r\n        }\r\n        this._isFirstFrame = true;\r\n        this.effectsSequence = [];\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult, container) {\r\n        this.propType = 'unidimensional';\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.frameId = -1;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1};\r\n        this.k = true;\r\n        this.kf = true;\r\n        this.data = data;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.v = initFrame;\r\n        this.pv = initFrame;\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult, container){\r\n        this.propType = 'multidimensional';\r\n        var i, len = data.k.length;\r\n        var s, e,to,ti;\r\n        for (i = 0; i < len - 1; i += 1) {\r\n            if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n                s = data.k[i].s;\r\n                e = data.k[i + 1].s;\r\n                to = data.k[i].to;\r\n                ti = data.k[i].ti;\r\n                if((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0] + to[0],s[1] + to[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0] + ti[0],e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0] + to[0],s[1] + to[1],s[2] + to[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0] + ti[0],e[1] + ti[1],e[2] + ti[2]))){\r\n                    data.k[i].to = null;\r\n                    data.k[i].ti = null;\r\n                }\r\n                if(s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n                    if(s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n                        data.k[i].to = null;\r\n                        data.k[i].ti = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.k = true;\r\n        this.kf = true;\r\n        this._isFirstFrame = true;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.frameId = -1;\r\n        var arrLen = data.k[0].s.length;\r\n        this.v = createTypedArray('float32', arrLen);\r\n        this.pv = createTypedArray('float32', arrLen);\r\n        for (i = 0; i < arrLen; i += 1) {\r\n            this.v[i] = initFrame;\r\n            this.pv[i] = initFrame;\r\n        }\r\n        this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32', arrLen)};\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function getProp(elem,data,type, mult, container) {\r\n        var p;\r\n        if(!data.k.length){\r\n            p = new ValueProperty(elem,data, mult, container);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            p = new MultiDimensionalProperty(elem,data, mult, container);\r\n        }else{\r\n            switch(type){\r\n                case 0:\r\n                    p = new KeyframedValueProperty(elem,data,mult, container);\r\n                    break;\r\n                case 1:\r\n                    p = new KeyframedMultidimensionalProperty(elem,data,mult, container);\r\n                    break;\r\n            }\r\n        }\r\n        if(p.effectsSequence.length){\r\n            container.addDynamicProperty(p);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    var ob = {\r\n        getProp: getProp\r\n    };\r\n    return ob;\r\n}());\r\nvar TransformPropertyFactory = (function() {\r\n\r\n    var defaultVector = [0,0]\r\n\r\n    function applyToMatrix(mat) {\r\n        var _mdf = this._mdf;\r\n        this.iterateDynamicProperties();\r\n        this._mdf = this._mdf || _mdf;\r\n        if (this.a) {\r\n            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n        if (this.s) {\r\n            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n        if (this.sk) {\r\n            mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n        if (this.r) {\r\n            mat.rotate(-this.r.v);\r\n        } else {\r\n            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n        if (this.data.p.s) {\r\n            if (this.data.p.z) {\r\n                mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n            } else {\r\n                mat.translate(this.px.v, this.py.v, 0);\r\n            }\r\n        } else {\r\n            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n    }\r\n    function processKeys(forceRender){\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        }\r\n        if(this._isDirty) {\r\n            this.precalculateMatrix();\r\n            this._isDirty = false;\r\n        }\r\n\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf || forceRender) {\r\n            this.v.cloneFromProps(this.pre.props);\r\n            if (this.appliedTransformations < 1) {\r\n                this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            }\r\n            if(this.appliedTransformations < 2) {\r\n                this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            }\r\n            if (this.sk && this.appliedTransformations < 3) {\r\n                this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n            }\r\n            if (this.r && this.appliedTransformations < 4) {\r\n                this.v.rotate(-this.r.v);\r\n            } else if (!this.r && this.appliedTransformations < 4){\r\n                this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            }\r\n            if (this.autoOriented) {\r\n                var v1,v2, frameRate = this.elem.globalData.frameRate;\r\n                if(this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n                    if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n                    } else if(this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n                        v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n                    } else {\r\n                        v1 = this.p.pv;\r\n                        v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n                    }\r\n                } else if(this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n                    v1 = [];\r\n                    v2 = [];\r\n                    var px = this.px, py = this.py, frameRate;\r\n                    if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate,0);\r\n                    } else if(px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate),0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate),0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                    } else {\r\n                        v1 = [px.pv, py.pv];\r\n                        v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate,px.offsetTime);\r\n                        v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate,py.offsetTime);\r\n                    }\r\n                } else {\r\n                    v1 = v2 = defaultVector\r\n                }\r\n                this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n            }\r\n            if(this.data.p && this.data.p.s){\r\n                if(this.data.p.z) {\r\n                    this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n                } else {\r\n                    this.v.translate(this.px.v, this.py.v, 0);\r\n                }\r\n            }else{\r\n                this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n        if(!this.a.k) {\r\n            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            this.appliedTransformations = 1;\r\n        } else {\r\n            return;\r\n        }\r\n        if(!this.s.effectsSequence.length) {\r\n            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            this.appliedTransformations = 2;\r\n        } else {\r\n            return;\r\n        }\r\n        if(this.sk) {\r\n            if(!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n                this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n            this.appliedTransformations = 3;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        if (this.r) {\r\n            if(!this.r.effectsSequence.length) {\r\n                this.pre.rotate(-this.r.v);\r\n                this.appliedTransformations = 4;\r\n            } else {\r\n                return;\r\n            }\r\n        } else if(!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            this.appliedTransformations = 4;\r\n        }\r\n    }\r\n\r\n    function autoOrient(){\r\n        //\r\n        //var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n        this._addDynamicProperty(prop);\r\n        this.elem.addDynamicProperty(prop);\r\n        this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem,data,container){\r\n        this.elem = elem;\r\n        this.frameId = -1;\r\n        this.propType = 'transform';\r\n        this.data = data;\r\n        this.v = new Matrix();\r\n        //Precalculated matrix with non animated properties\r\n        this.pre = new Matrix();\r\n        this.appliedTransformations = 0;\r\n        this.initDynamicPropertyContainer(container || elem);\r\n        if(data.p && data.p.s){\r\n            this.px = PropertyFactory.getProp(elem,data.p.x,0,0,this);\r\n            this.py = PropertyFactory.getProp(elem,data.p.y,0,0,this);\r\n            if(data.p.z){\r\n                this.pz = PropertyFactory.getProp(elem,data.p.z,0,0,this);\r\n            }\r\n        }else{\r\n            this.p = PropertyFactory.getProp(elem,data.p || {k:[0,0,0]},1,0,this);\r\n        }\r\n        if(data.rx) {\r\n            this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n            this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n            this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n            if(data.or.k[0].ti) {\r\n                var i, len = data.or.k.length;\r\n                for(i=0;i<len;i+=1) {\r\n                    data.or.k[i].to = data.or.k[i].ti = null;\r\n                }\r\n            }\r\n            this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n            //sh Indicates it needs to be capped between -180 and 180\r\n            this.or.sh = true;\r\n        } else {\r\n            this.r = PropertyFactory.getProp(elem, data.r || {k: 0}, 0, degToRads, this);\r\n        }\r\n        if(data.sk){\r\n            this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n            this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n        }\r\n        this.a = PropertyFactory.getProp(elem,data.a || {k:[0,0,0]},1,0,this);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:[100,100,100]},1,0.01,this);\r\n        // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n        if(data.o){\r\n            this.o = PropertyFactory.getProp(elem,data.o,0,0.01,elem);\r\n        } else {\r\n            this.o = {_mdf:false,v:1};\r\n        }\r\n        this._isDirty = true;\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue(true);\r\n        }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n        applyToMatrix: applyToMatrix,\r\n        getValue: processKeys,\r\n        precalculateMatrix: precalculateMatrix,\r\n        autoOrient: autoOrient\r\n    }\r\n\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem,data,container){\r\n        return new TransformProperty(elem,data,container);\r\n    }\r\n\r\n    return {\r\n        getTransformProperty: getTransformProperty\r\n    };\r\n\r\n}());\r\nfunction ShapePath(){\r\n\tthis.c = false;\r\n\tthis._length = 0;\r\n\tthis._maxLength = 8;\r\n\tthis.v = createSizedArray(this._maxLength);\r\n\tthis.o = createSizedArray(this._maxLength);\r\n\tthis.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function(closed, len) {\r\n\tthis.c = closed;\r\n\tthis.setLength(len);\r\n\tvar i = 0;\r\n\twhile(i < len){\r\n\t\tthis.v[i] = point_pool.newElement();\r\n\t\tthis.o[i] = point_pool.newElement();\r\n\t\tthis.i[i] = point_pool.newElement();\r\n\t\ti += 1;\r\n\t}\r\n};\r\n\r\nShapePath.prototype.setLength = function(len) {\r\n\twhile(this._maxLength < len) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tthis._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function() {\r\n\tthis.v = this.v.concat(createSizedArray(this._maxLength));\r\n\tthis.i = this.i.concat(createSizedArray(this._maxLength));\r\n\tthis.o = this.o.concat(createSizedArray(this._maxLength));\r\n\tthis._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function(x, y, type, pos, replace) {\r\n\tvar arr;\r\n\tthis._length = Math.max(this._length, pos + 1);\r\n\tif(this._length >= this._maxLength) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tswitch(type){\r\n\t\tcase 'v':\r\n\t\t\tarr = this.v;\r\n\t\t\tbreak;\r\n\t\tcase 'i':\r\n\t\t\tarr = this.i;\r\n\t\t\tbreak;\r\n\t\tcase 'o':\r\n\t\t\tarr = this.o;\r\n\t\t\tbreak;\r\n\t}\r\n\tif(!arr[pos] || (arr[pos] && !replace)){\r\n\t\tarr[pos] = point_pool.newElement();\r\n\t}\r\n\tarr[pos][0] = x;\r\n\tarr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function(vX,vY,oX,oY,iX,iY,pos, replace) {\r\n\tthis.setXYAt(vX,vY,'v',pos, replace);\r\n\tthis.setXYAt(oX,oY,'o',pos, replace);\r\n\tthis.setXYAt(iX,iY,'i',pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function() {\r\n\tvar newPath = new ShapePath();\r\n\tnewPath.setPathData(this.c, this._length);\r\n\tvar vertices = this.v, outPoints = this.o, inPoints = this.i;\r\n\tvar init = 0;\r\n\tif (this.c) {\r\n\t\tnewPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n        init = 1;\r\n    }\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n\r\n    var i;\r\n    for (i = init; i < len; i += 1) {\r\n    \tnewPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n        cnt -= 1;\r\n    }\r\n    return newPath;\r\n};\r\nvar ShapePropertyFactory = (function(){\r\n\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n        var iterationIndex = caching.lastIndex;\r\n        var keyPropS,keyPropE,isHold, j, k, jLen, kLen, perc, vertexValue;\r\n        var kf = this.keyframes;\r\n        if(frameNum < kf[0].t-this.offsetTime){\r\n            keyPropS = kf[0].s[0];\r\n            isHold = true;\r\n            iterationIndex = 0;\r\n        }else if(frameNum >= kf[kf.length - 1].t-this.offsetTime){\r\n            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n            /*if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            }*/\r\n            isHold = true;\r\n        }else{\r\n            var i = iterationIndex;\r\n            var len = kf.length- 1,flag = true,keyData,nextKeyData;\r\n            while(flag){\r\n                keyData = kf[i];\r\n                nextKeyData = kf[i+1];\r\n                if((nextKeyData.t - this.offsetTime) > frameNum){\r\n                    break;\r\n                }\r\n                if(i < len - 1){\r\n                    i += 1;\r\n                }else{\r\n                    flag = false;\r\n                }\r\n            }\r\n            isHold = keyData.h === 1;\r\n            iterationIndex = i;\r\n            if(!isHold){\r\n                if(frameNum >= nextKeyData.t-this.offsetTime){\r\n                    perc = 1;\r\n                }else if(frameNum < keyData.t-this.offsetTime){\r\n                    perc = 0;\r\n                }else{\r\n                    var fnc;\r\n                    if(keyData.__fnct){\r\n                        fnc = keyData.__fnct;\r\n                    }else{\r\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\r\n                        keyData.__fnct = fnc;\r\n                    }\r\n                    perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\r\n                }\r\n                keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n            }\r\n            keyPropS = keyData.s[0];\r\n        }\r\n        jLen = previousValue._length;\r\n        kLen = keyPropS.i[0].length;\r\n        caching.lastIndex = iterationIndex;\r\n\r\n        for(j=0;j<jLen;j+=1){\r\n            for(k=0;k<kLen;k+=1){\r\n                vertexValue = isHold ? keyPropS.i[j][k] :  keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\r\n                previousValue.i[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.o[j][k] :  keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\r\n                previousValue.o[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.v[j][k] :  keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\r\n                previousValue.v[j][k] = vertexValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n        var lastFrame = this._caching.lastFrame;\r\n        if(!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))){\r\n            ////\r\n            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            this.interpolateShape(frameNum, this.pv, this._caching);\r\n            ////\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function resetShape(){\r\n        this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n        if(shape1._length !== shape2._length || shape1.c !== shape2.c){\r\n            return false;\r\n        }\r\n        var i, len = shape1._length;\r\n        for(i = 0; i < len; i += 1) {\r\n            if(shape1.v[i][0] !== shape2.v[i][0] \r\n            || shape1.v[i][1] !== shape2.v[i][1] \r\n            || shape1.o[i][0] !== shape2.o[i][0] \r\n            || shape1.o[i][1] !== shape2.o[i][1] \r\n            || shape1.i[i][0] !== shape2.i[i][0] \r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n        if(!shapesEqual(this.v, newPath)) {\r\n            this.v = shape_pool.clone(newPath);\r\n            this.localShapeCollection.releaseShapes();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this._mdf = true;\r\n            this.paths = this.localShapeCollection;\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        } else if (!this.effectsSequence.length) {\r\n            this._mdf = false;\r\n            return;\r\n        }\r\n        if (this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = false;\r\n        var finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\r\n        var i, len = this.effectsSequence.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    };\r\n\r\n    function ShapeProperty(elem, data, type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.container = elem;\r\n        this.elem = elem;\r\n        this.data = data;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this._mdf = false;\r\n        var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n        this.v = shape_pool.clone(pathData);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.reset = resetShape;\r\n        this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem,data,type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.elem = elem;\r\n        this.container = elem;\r\n        this.offsetTime = elem.data.st;\r\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n        this.k = true;\r\n        this.kf = true;\r\n        var i, len = this.keyframes[0].s[0].i.length;\r\n        var jLen = this.keyframes[0].s[0].i[0].length;\r\n        this.v = shape_pool.newElement();\r\n        this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.lastFrame = initFrame;\r\n        this.reset = resetShape;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0};\r\n        this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = (function(){\r\n\r\n        var cPoint = roundCorner;\r\n\r\n        function EllShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 4);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.paths = this.localShapeCollection;\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.d = data.d;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertEllToPath();\r\n            }\r\n        };\r\n\r\n        EllShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function (){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n\r\n                if(this._mdf){\r\n                    this.convertEllToPath();\r\n                }\r\n            },\r\n            convertEllToPath: function() {\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\r\n                var _cw = this.d !== 3;\r\n                var _v = this.v;\r\n                _v.v[0][0] = p0;\r\n                _v.v[0][1] = p1 - s1;\r\n                _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.v[1][1] = p1;\r\n                _v.v[2][0] = p0;\r\n                _v.v[2][1] = p1 + s1;\r\n                _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.v[3][1] = p1;\r\n                _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.i[0][1] = p1 - s1;\r\n                _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.i[1][1] = p1 - s1 * cPoint;\r\n                _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.i[2][1] = p1 + s1;\r\n                _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.i[3][1] = p1 + s1 * cPoint;\r\n                _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.o[0][1] = p1 - s1;\r\n                _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.o[1][1] = p1 + s1 * cPoint;\r\n                _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.o[2][1] = p1 + s1;\r\n                _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.o[3][1] = p1 - s1 * cPoint;\r\n            }\r\n        }\r\n\r\n        extendPrototype([DynamicPropertyContainer], EllShapeProperty);\r\n\r\n        return EllShapeProperty;\r\n    }());\r\n\r\n    var StarShapeProperty = (function() {\r\n\r\n        function StarShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 0);\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.data = data;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            if(data.sy === 1){\r\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this);\r\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this);\r\n                this.convertToPath = this.convertStarToPath;\r\n            } else {\r\n                this.convertToPath = this.convertPolygonToPath;\r\n            }\r\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this);\r\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this);\r\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertToPath();\r\n            }\r\n        };\r\n\r\n        StarShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function() {\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertToPath();\r\n                }\r\n            },\r\n            convertStarToPath: function() {\r\n                var numPts = Math.floor(this.pt.v)*2;\r\n                var angle = Math.PI*2/numPts;\r\n                /*this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts;*/\r\n                var longFlag = true;\r\n                var longRad = this.or.v;\r\n                var shortRad = this.ir.v;\r\n                var longRound = this.os.v;\r\n                var shortRound = this.is.v;\r\n                var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\r\n                var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\r\n                var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\r\n                currentAng += this.r.v;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    rad = longFlag ? longRad : shortRad;\r\n                    roundness = longFlag ? longRound : shortRound;\r\n                    perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n\r\n                    /*this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts;*/\r\n                    longFlag = !longFlag;\r\n                    currentAng += angle*dir;\r\n                }\r\n            },\r\n            convertPolygonToPath: function() {\r\n                var numPts = Math.floor(this.pt.v);\r\n                var angle = Math.PI*2/numPts;\r\n                var rad = this.or.v;\r\n                var roundness = this.os.v;\r\n                var perimSegment = 2*Math.PI*rad/(numPts*4);\r\n                var i, currentAng = -Math.PI/ 2;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                currentAng += this.r.v;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n                    currentAng += angle*dir;\r\n                }\r\n                this.paths.length = 0;\r\n                this.paths[0] = this.v;\r\n            }\r\n\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], StarShapeProperty);\r\n\r\n        return StarShapeProperty;\r\n    }());\r\n\r\n    var RectShapeProperty = (function() {\r\n\r\n         function RectShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.c = true;\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertRectToPath();\r\n            }\r\n        };\r\n\r\n        RectShapeProperty.prototype = {\r\n            convertRectToPath: function (){\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\r\n                var round = bm_min(v0,v1,this.r.v);\r\n                var cPoint = round*(1-roundCorner);\r\n                this.v._length = 0;\r\n\r\n                if(this.d === 2 || this.d === 1) {\r\n                    this.v.setTripleAt(p0+v0, p1-v1+round,p0+v0, p1-v1+round,p0+v0,p1-v1+cPoint,0, true);\r\n                    this.v.setTripleAt(p0+v0, p1+v1-round,p0+v0, p1+v1-cPoint,p0+v0, p1+v1-round,1, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round, p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);\r\n                    }\r\n                }else{\r\n                    this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3, true);\r\n\r\n                    }\r\n                }\r\n            },\r\n            getValue: function(frameNum){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertRectToPath();\r\n                }\r\n\r\n            },\r\n            reset: resetShape\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], RectShapeProperty);\r\n\r\n        return RectShapeProperty;\r\n    }());\r\n\r\n    function getShapeProp(elem,data,type){\r\n        var prop;\r\n        if(type === 3 || type === 4){\r\n            var dataProp = type === 3 ? data.pt : data.ks;\r\n            var keys = dataProp.k;\r\n            if(keys.length){\r\n                prop = new KeyframedShapeProperty(elem, data, type);\r\n            }else{\r\n                prop = new ShapeProperty(elem, data, type);\r\n            }\r\n        }else if(type === 5){\r\n            prop = new RectShapeProperty(elem, data);\r\n        }else if(type === 6){\r\n            prop = new EllShapeProperty(elem, data);\r\n        }else if(type === 7){\r\n            prop = new StarShapeProperty(elem, data);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n        return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n        return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n}());\r\nvar ShapeModifiers = (function(){\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm,factory){\r\n        if(!modifiers[nm]){\r\n            modifiers[nm] = factory;\r\n        }\r\n    }\r\n\r\n    function getModifier(nm,elem, data){\r\n        return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n}());\r\n\r\nfunction ShapeModifier(){}\r\nShapeModifier.prototype.initModifierProperties = function(){};\r\nShapeModifier.prototype.addShapeToModifier = function(){};\r\nShapeModifier.prototype.addShape = function(data){\r\n    if (!this.closed) {\r\n        // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n        data.sh.container.addDynamicProperty(data.sh);\r\n        var shapeData = {shape:data.sh, data: data, localShapeCollection:shapeCollection_pool.newShapeCollection()};\r\n        this.shapes.push(shapeData);\r\n        this.addShapeToModifier(shapeData);\r\n        if (this._isAnimated) {\r\n            data.setAsAnimated();\r\n        }\r\n    }\r\n};\r\nShapeModifier.prototype.init = function(elem,data){\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\nShapeModifier.prototype.processKeys = function(){\r\n    if(this.elem.globalData.frameId === this.frameId){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\nfunction TrimModifier(){\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function(elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function(shapeData){\r\n    shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function(s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n    if (e <= 1) {\r\n        segments.push({\r\n            s: s,\r\n            e: e\r\n        });\r\n    } else if (s >= 1) {\r\n        segments.push({\r\n            s: s - 1,\r\n            e: e - 1\r\n        });\r\n    } else {\r\n        segments.push({\r\n            s: s,\r\n            e: 1\r\n        });\r\n        segments.push({\r\n            s: 0,\r\n            e: e - 1\r\n        });\r\n    }\r\n    var shapeSegments = [];\r\n    var i, len = segments.length, segmentOb;\r\n    for (i = 0; i < len; i += 1) {\r\n        segmentOb = segments[i];\r\n        if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\r\n            \r\n        } else {\r\n            var shapeS, shapeE;\r\n            if (segmentOb.s * totalModifierLength <= addedLength) {\r\n                shapeS = 0;\r\n            } else {\r\n                shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n            }\r\n            if(segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n                shapeE = 1;\r\n            } else {\r\n                shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n            }\r\n            shapeSegments.push([shapeS, shapeE]);\r\n        }\r\n    }\r\n    if (!shapeSegments.length) {\r\n        shapeSegments.push([0, 0]);\r\n    }\r\n    return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function(pathsData) {\r\n    var i, len = pathsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        segments_length_pool.release(pathsData[i]);\r\n    }\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var s, e;\r\n    if (this._mdf || _isFirstFrame) {\r\n        var o = (this.o.v % 360) / 360;\r\n        if (o < 0) {\r\n            o += 1;\r\n        }\r\n        s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\r\n        e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\r\n        if (s === e) {\r\n\r\n        }\r\n        if (s > e) {\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        s = Math.round(s * 10000) * 0.0001;\r\n        e = Math.round(e * 10000) * 0.0001;\r\n        this.sValue = s;\r\n        this.eValue = e;\r\n    } else {\r\n        s = this.sValue;\r\n        e = this.eValue;\r\n    }\r\n    var shapePaths;\r\n    var i, len = this.shapes.length, j, jLen;\r\n    var pathsData, pathData, totalShapeLength, totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].localShapeCollection.releaseShapes();\r\n            this.shapes[i].shape._mdf = true;\r\n            this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n            if (this._mdf) {\r\n                this.shapes[i].pathsData.length = 0;\r\n            }\r\n        }\r\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))){\r\n        var segments = [], shapeData, localShapeCollection;\r\n        for (i = 0; i < len; i += 1) {\r\n            shapeData = this.shapes[i];\r\n            // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n                shapeData.shape.paths = shapeData.localShapeCollection;\r\n            } else {\r\n                shapePaths = shapeData.shape.paths;\r\n                jLen = shapePaths._length;\r\n                totalShapeLength = 0;\r\n                if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n                    totalShapeLength = shapeData.totalShapeLength;\r\n                } else {\r\n                    pathsData = this.releasePathsData(shapeData.pathsData);\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                        pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n                        pathsData.push(pathData);\r\n                        totalShapeLength += pathData.totalLength;\r\n                    }\r\n                    shapeData.totalShapeLength = totalShapeLength;\r\n                    shapeData.pathsData = pathsData;\r\n                }\r\n\r\n                totalModifierLength += totalShapeLength;\r\n                shapeData.shape._mdf = true;\r\n            }\r\n        }\r\n        var shapeS = s, shapeE = e, addedLength = 0, edges;\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n            shapeData = this.shapes[i];\r\n            if (shapeData.shape._mdf) {\r\n                localShapeCollection = shapeData.localShapeCollection;\r\n                localShapeCollection.releaseShapes();\r\n                //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n                if (this.m === 2 && len > 1) {\r\n                    edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n                    addedLength += shapeData.totalShapeLength;\r\n                } else {\r\n                    edges = [[shapeS, shapeE]];\r\n                }\r\n                jLen = edges.length;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    shapeS = edges[j][0];\r\n                    shapeE = edges[j][1];\r\n                    segments.length = 0;\r\n                    if (shapeE <= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength * shapeE\r\n                        });\r\n                    } else if (shapeS >= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * (shapeS - 1),\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    } else {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength\r\n                        });\r\n                        segments.push({\r\n                            s:0,\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    }\r\n                    var newShapesData = this.addShapes(shapeData,segments[0]);\r\n                    if (segments[0].s !== segments[0].e) {\r\n                        if (segments.length > 1) {\r\n                            var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n                            if (lastShapeInCollection.c) {\r\n                                var lastShape = newShapesData.pop();\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                            } else {\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1]);\r\n                            }\r\n                        } \r\n                        this.addPaths(newShapesData, localShapeCollection);\r\n                    }\r\n                    \r\n                }\r\n                shapeData.shape.paths = localShapeCollection;\r\n            }\r\n        }\r\n    } else if (this._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            //Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n            //Don't remove this even if it's losing cached info.\r\n            this.shapes[i].pathsData.length = 0;\r\n            this.shapes[i].shape._mdf = true;\r\n        }\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {\r\n    var i, len = newPaths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i, len = shapeData.shape.paths._length, j, jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData,segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n    if (!shapePath) {\r\n        shapePath = shape_pool.newElement();\r\n        segmentCount = 0;\r\n        initPos = 0;\r\n    } else {\r\n        segmentCount = shapePath._length;\r\n        initPos = shapePath._length;\r\n    }\r\n    shapes.push(shapePath);\r\n    for (i = 0; i < len; i += 1) {\r\n        lengths = pathsData[i].lengths;\r\n        shapePath.c = shapePaths[i].c;\r\n        jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n        for (j = 1; j < jLen; j +=1) {\r\n            currentLengthData = lengths[j-1];\r\n            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n                addedLength += currentLengthData.addedLength;\r\n                shapePath.c = false;\r\n            } else if(addedLength > shapeSegment.e) {\r\n                shapePath.c = false;\r\n                break;\r\n            } else {\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength,(shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n                addedLength += currentLengthData.addedLength;\r\n                segmentCount += 1;\r\n            }\r\n        }\r\n        if (shapePaths[i].c && lengths.length) {\r\n            currentLengthData = lengths[j - 1];\r\n            if (addedLength <= shapeSegment.e) {\r\n                var segmentLength = lengths[j - 1].addedLength;\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n            } else {\r\n                shapePath.c = false;\r\n            }\r\n            addedLength += currentLengthData.addedLength;\r\n            segmentCount += 1;\r\n        }\r\n        if (shapePath._length) {\r\n            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1],'o', shapePath._length - 1);\r\n        }\r\n        if (addedLength > shapeSegment.e) {\r\n            break;\r\n        }\r\n        if (i < len - 1) {\r\n            shapePath = shape_pool.newElement();\r\n            newShape = true;\r\n            shapes.push(shapePath);\r\n            segmentCount = 0;\r\n        }\r\n    }\r\n    return shapes;\r\n};\r\n\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\nfunction RoundCornersModifier(){}\r\nextendPrototype([ShapeModifier],RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function(path, round){\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var i, len = path._length;\r\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc,index = 0;\r\n    var vX,vY,oX,oY,iX,iY;\r\n    for(i=0;i<len;i+=1){\r\n        currentV = path.v[i];\r\n        currentO = path.o[i];\r\n        currentI = path.i[i];\r\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\r\n            if((i===0 || i === len - 1) && !path.c){\r\n                cloned_path.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);\r\n                /*cloned_path.v[index] = currentV;\r\n                cloned_path.o[index] = currentO;\r\n                cloned_path.i[index] = currentI;*/\r\n                index += 1;\r\n            } else {\r\n                if(i===0){\r\n                    closerV = path.v[len-1];\r\n                } else {\r\n                    closerV = path.v[i-1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\r\n                oX = vX-(vX-currentV[0])*roundCorner;\r\n                oY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n\r\n                if(i === len - 1){\r\n                    closerV = path.v[0];\r\n                } else {\r\n                    closerV = path.v[i+1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\r\n                iX = vX-(vX-currentV[0])*roundCorner;\r\n                iY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n            }\r\n        } else {\r\n            cloned_path.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);\r\n            index += 1;\r\n        }\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if(rd !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j],rd));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\r\nfunction PuckerAndBloatModifier(){}\r\nextendPrototype([ShapeModifier],PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem,data.a,0,null,this);\r\n    this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function(path, amount){\r\n    var percent = amount / 100;\r\n    var centerPoint = [0, 0];\r\n    var pathLength = path._length, i = 0;\r\n    for (i = 0; i < pathLength; i += 1) {\r\n        centerPoint[0] += path.v[i][0];\r\n        centerPoint[1] += path.v[i][1];\r\n    }\r\n    centerPoint[0] /= pathLength;\r\n    centerPoint[1] /= pathLength;\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var vX, vY, oX, oY, iX, iY;\r\n    for(i = 0; i < pathLength; i += 1) {\r\n        vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n        vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n        oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n        oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n        iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n        iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n        cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var amount = this.amount.v;\r\n\r\n    if(amount !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\nShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);\r\nfunction RepeaterModifier(){}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem,data.c,0,null,this);\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,null,this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem,data.tr,this);\r\n    this.so = PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);\r\n    this.eo = PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);\r\n    this.data = data;\r\n    if(!this.dynamicProperties.length){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform, perc, inv){\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function(elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,arr[pos]);\r\n    var cont = 0;\r\n    while(pos>0){\r\n        pos -= 1;\r\n        //this._elements.unshift(arr.splice(pos,1)[0]);\r\n        this._elements.unshift(arr[pos]);\r\n        cont += 1;\r\n    }\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function(elements){\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._processed = false;\r\n        if(elements[i].ty === 'gr'){\r\n            this.resetElements(elements[i].it);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function(elements){\r\n    var i, len = elements.length;\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._render = renderFlag;\r\n        if(elements[i].ty === 'gr') {\r\n            this.changeGroupRender(elements[i].it, renderFlag);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var items, itemsTransform, i, dir, cont;\r\n    if(this._mdf || _isFirstFrame){\r\n        var copies = Math.ceil(this.c.v);\r\n        if(this._groups.length < copies){\r\n            while(this._groups.length < copies){\r\n                var group = {\r\n                    it:this.cloneElements(this._elements),\r\n                    ty:'gr'\r\n                };\r\n                group.it.push({\"a\":{\"a\":0,\"ix\":1,\"k\":[0,0]},\"nm\":\"Transform\",\"o\":{\"a\":0,\"ix\":7,\"k\":100},\"p\":{\"a\":0,\"ix\":2,\"k\":[0,0]},\"r\":{\"a\":1,\"ix\":6,\"k\":[{s:0,e:0,t:0},{s:0,e:0,t:1}]},\"s\":{\"a\":0,\"ix\":3,\"k\":[100,100]},\"sa\":{\"a\":0,\"ix\":5,\"k\":0},\"sk\":{\"a\":0,\"ix\":4,\"k\":0},\"ty\":\"tr\"});\r\n                \r\n                this.arr.splice(0,0,group);\r\n                this._groups.splice(0,0,group);\r\n                this._currentCopies += 1;\r\n            }\r\n            this.elem.reloadShapes();\r\n        }\r\n        cont = 0;\r\n        var renderFlag;\r\n        for(i = 0; i  <= this._groups.length - 1; i += 1){\r\n            renderFlag = cont < copies;\r\n            this._groups[i]._render = renderFlag;\r\n            this.changeGroupRender(this._groups[i].it, renderFlag);\r\n            cont += 1;\r\n        }\r\n        \r\n        this._currentCopies = copies;\r\n        ////\r\n\r\n        var offset = this.o.v;\r\n        var offsetModulo = offset%1;\r\n        var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n        var k;\r\n        var tMat = this.tr.v.props;\r\n        var pProps = this.pMatrix.props;\r\n        var rProps = this.rMatrix.props;\r\n        var sProps = this.sMatrix.props;\r\n        this.pMatrix.reset();\r\n        this.rMatrix.reset();\r\n        this.sMatrix.reset();\r\n        this.tMatrix.reset();\r\n        this.matrix.reset();\r\n        var iteration = 0;\r\n\r\n        if(offset > 0) {\r\n            while(iteration<roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                iteration += 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n                iteration += offsetModulo;\r\n            }\r\n        } else if(offset < 0) {\r\n            while(iteration>roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n                iteration -= 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\r\n                iteration -= offsetModulo;\r\n            }\r\n        }\r\n        i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n        dir = this.data.m === 1 ? 1 : -1;\r\n        cont = this._currentCopies;\r\n        var j, jLen;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            jLen = itemsTransform.length;\r\n            items[items.length - 1].transform.mProps._mdf = true;\r\n            items[items.length - 1].transform.op._mdf = true;\r\n            items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n            if(iteration !== 0){\r\n                if((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)){\r\n                    this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                }\r\n                this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);\r\n                this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);\r\n                this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);\r\n                \r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n                this.matrix.reset();\r\n            } else {\r\n                this.matrix.reset();\r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n            }\r\n            iteration += 1;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    } else {\r\n        cont = this._currentCopies;\r\n        i = 0;\r\n        dir = 1;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            items[items.length - 1].transform.mProps._mdf = false;\r\n            items[items.length - 1].transform.op._mdf = false;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function(){};\r\n\r\nShapeModifiers.registerModifier('rp',RepeaterModifier);\r\nfunction ShapeCollection(){\r\n\tthis._length = 0;\r\n\tthis._maxLength = 4;\r\n\tthis.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function(shapeData){\r\n\tif(this._length === this._maxLength){\r\n\t\tthis.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n\t\tthis._maxLength *= 2;\r\n\t}\r\n\tthis.shapes[this._length] = shapeData;\r\n\tthis._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function(){\r\n\tvar i;\r\n\tfor(i = 0; i < this._length; i += 1) {\r\n\t\tshape_pool.release(this.shapes[i]);\r\n\t}\r\n\tthis._length = 0;\r\n};\r\nfunction DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32',  data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32',  1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i, len = data.length || 0, prop;\r\n    for(i = 0; i < len; i += 1) {\r\n        prop = PropertyFactory.getProp(elem,data[i].v,0, 0, this);\r\n        this.k = prop.k || this.k;\r\n        this.dataProps[i] = {n:data[i].n,p:prop};\r\n    }\r\n    if(!this.k){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function(forceRender) {\r\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n    if (this._mdf) {\r\n        var i = 0, len = this.dataProps.length;\r\n        if(this.renderer === 'svg') {\r\n            this.dashStr = '';\r\n        }\r\n        for(i=0;i<len;i+=1){\r\n            if(this.dataProps[i].n != 'o'){\r\n                if(this.renderer === 'svg') {\r\n                    this.dashStr += ' ' + this.dataProps[i].p.v;\r\n                }else{\r\n                    this.dashArray[i] = this.dataProps[i].p.v;\r\n                }\r\n            }else{\r\n                this.dashoffset[0] = this.dataProps[i].p.v;\r\n            }\r\n        }\r\n    }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\nfunction GradientProperty(elem,data,container){\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p*4);\r\n    var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem,data.k,1,null,this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function(values, points) {\r\n    var i = 0, len = this.o.length/2, diff;\r\n    while(i < len) {\r\n        diff = Math.abs(values[i*4] - values[points*4 + i*2]);\r\n        if(diff > 0.01){\r\n            return false;\r\n        }\r\n        i += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function() {\r\n    if (this.o.length/2 !== this.c.length/4) {\r\n        return false;\r\n    }\r\n    if (this.data.k.k[0].s) {\r\n        var i = 0, len = this.data.k.k.length;\r\n        while (i < len) {\r\n            if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n                return false;\r\n            }\r\n            i += 1;\r\n        }\r\n    } else if(!this.comparePoints(this.data.k.k, this.data.p)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function(forceRender){\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    if(this.prop._mdf || forceRender){\r\n        var i, len = this.data.p*4;\r\n        var mult, val;\r\n        for(i=0;i<len;i+=1){\r\n            mult = i%4 === 0 ? 100 : 255;\r\n            val = Math.round(this.prop.v[i]*mult);\r\n            if(this.c[i] !== val){\r\n                this.c[i] = val;\r\n                this._cmdf = !forceRender;\r\n            }\r\n        }\r\n        if(this.o.length){\r\n            len = this.prop.v.length;\r\n            for(i=this.data.p*4;i<len;i+=1){\r\n                mult = i%2 === 0 ? 100 : 1;\r\n                val = i%2 === 0 ?  Math.round(this.prop.v[i]*100):this.prop.v[i];\r\n                if(this.o[i-this.data.p*4] !== val){\r\n                    this.o[i-this.data.p*4] = val;\r\n                    this._omdf = !forceRender;\r\n                }\r\n            }\r\n        }\r\n        this._mdf = !forceRender;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\nvar buildShapeString = function(pathNodes, length, closed, mat) {\r\n\tif(length === 0) {\r\n            return '';\r\n        }\r\n        var _o = pathNodes.o;\r\n        var _i = pathNodes.i;\r\n        var _v = pathNodes.v;\r\n        var i, shapeString = \" M\" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n        for(i = 1; i < length; i += 1) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[i][0], _i[i][1]) + \" \" + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n        }\r\n        if (closed && length) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[0][0], _i[0][1]) + \" \" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n            shapeString += 'z';\r\n        }\r\n        return shapeString;\r\n}\r\nvar audioControllerFactory = (function() {\r\n\r\n\tfunction AudioController(audioFactory) {\r\n\t\tthis.audios = [];\r\n\t\tthis.audioFactory = audioFactory;\r\n\t\tthis._volume = 1;\r\n\t\tthis._isMuted = false;\r\n\t}\r\n\r\n\tAudioController.prototype = {\r\n\t\taddAudio: function(audio) {\r\n\t\t\tthis.audios.push(audio);\r\n\t\t},\r\n\t\tpause: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].pause()\r\n\t\t\t}\r\n\t\t},\r\n\t\tresume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].resume()\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetRate: function(rateValue) {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].setRate(rateValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateAudio: function(assetPath) {\r\n\t\t\tif (this.audioFactory) {\r\n\t\t\t\treturn this.audioFactory(assetPath);\r\n\t\t\t} else if (Howl) {\r\n\t\t\t\treturn new Howl({\r\n\t\t\t\t\tsrc: [assetPath]\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisPlaying: false,\r\n\t\t\t\t\tplay: function(){this.isPlaying = true},\r\n\t\t\t\t\tseek: function(){this.isPlaying = false},\r\n\t\t\t\t\tplaying: function(){},\r\n\t\t\t\t\trate: function(){},\r\n\t\t\t\t\tsetVolume: function(){},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAudioFactory: function(audioFactory) {\r\n\t\t\tthis.audioFactory = audioFactory;\r\n\t\t},\r\n\t\tsetVolume: function(value) {\r\n\t\t\tthis._volume = value;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tmute: function() {\r\n\t\t\tthis._isMuted = true;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tunmute: function() {\r\n\t\t\tthis._isMuted = false;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tgetVolume: function(value) {\r\n\t\t\treturn this._volume;\r\n\t\t},\r\n\t\t_updateVolume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].volume(this._volume * (this._isMuted ? 0 : 1))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn function() {\r\n\t\treturn new AudioController()\r\n\t}\r\n\r\n}())\r\nvar ImagePreloader = (function(){\r\n\r\n    var proxyImage = (function(){\r\n        var canvas = createTag('canvas');\r\n        canvas.width = 1;\r\n        canvas.height = 1;\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = 'rgba(0,0,0,0)';\r\n        ctx.fillRect(0, 0, 1, 1);\r\n        return canvas;\r\n    }())\r\n\r\n    function imageLoaded(){\r\n        this.loadedAssets += 1;\r\n        if(this.loadedAssets === this.totalImages){\r\n            if(this.imagesLoadedCb) {\r\n                this.imagesLoadedCb(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, original_path) {\r\n        var path = '';\r\n        if (assetData.e) {\r\n            path = assetData.p;\r\n        } else if(assetsPath) {\r\n            var imagePath = assetData.p;\r\n            if (imagePath.indexOf('images/') !== -1) {\r\n                imagePath = imagePath.split('/')[1];\r\n            }\r\n            path = assetsPath + imagePath;\r\n        } else {\r\n            path = original_path;\r\n            path += assetData.u ? assetData.u : '';\r\n            path += assetData.p;\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createNS('image');\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.setAttributeNS('http://www.w3.org/1999/xlink','href', path);\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createTag('img');\r\n        img.crossOrigin = 'anonymous';\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.src = path;\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb){\r\n        this.imagesLoadedCb = cb;\r\n        var i, len = assets.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!assets[i].layers){\r\n                this.totalImages += 1;\r\n                this.images.push(this._createImageData(assets[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    function setPath(path){\r\n        this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path){\r\n        this.assetsPath = path || '';\r\n    }\r\n\r\n    function getImage(assetData) {\r\n        var i = 0, len = this.images.length;\r\n        while (i < len) {\r\n            if (this.images[i].assetData === assetData) {\r\n                return this.images[i].img;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function destroy() {\r\n        this.imagesLoadedCb = null;\r\n        this.images.length = 0;\r\n    }\r\n\r\n    function loaded() {\r\n        return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function setCacheType(type) {\r\n        if (type === 'svg') {\r\n            this._createImageData = this.createImageData.bind(this);\r\n        } else {\r\n            this._createImageData = this.createImgData.bind(this);\r\n        }\r\n    }\r\n\r\n    function ImagePreloader(type){\r\n        this._imageLoaded = imageLoaded.bind(this);\r\n        this.assetsPath = '';\r\n        this.path = '';\r\n        this.totalImages = 0;\r\n        this.loadedAssets = 0;\r\n        this.imagesLoadedCb = null;\r\n        this.images = [];\r\n    };\r\n\r\n    ImagePreloader.prototype = {\r\n        loadAssets: loadAssets,\r\n        setAssetsPath: setAssetsPath,\r\n        setPath: setPath,\r\n        loaded: loaded,\r\n        destroy: destroy,\r\n        getImage: getImage,\r\n        createImgData: createImgData,\r\n        createImageData: createImageData,\r\n        imageLoaded: imageLoaded,\r\n        setCacheType: setCacheType,\r\n    }\r\n\r\n    return ImagePreloader;\r\n}());\r\nvar featureSupport = (function(){\r\n\tvar ob = {\r\n\t\tmaskType: true\r\n\t};\r\n\tif (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n\t   ob.maskType = false;\r\n\t}\r\n\treturn ob;\r\n}());\r\nvar filtersFactory = (function(){\r\n\tvar ob = {};\r\n\tob.createFilter = createFilter;\r\n\tob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n\tfunction createFilter(filId){\r\n        \tvar fil = createNS('filter');\r\n        \tfil.setAttribute('id',filId);\r\n                fil.setAttribute('filterUnits','objectBoundingBox');\r\n                fil.setAttribute('x','0%');\r\n                fil.setAttribute('y','0%');\r\n                fil.setAttribute('width','100%');\r\n                fil.setAttribute('height','100%');\r\n                return fil;\r\n\t}\r\n\r\n\tfunction createAlphaToLuminanceFilter(){\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type','matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n                feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n                return feColorMatrix;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar assetLoader = (function(){\r\n\r\n\tfunction formatResponse(xhr) {\r\n\t\tif(xhr.response && typeof xhr.response === 'object') {\r\n\t\t\treturn xhr.response;\r\n\t\t} else if(xhr.response && typeof xhr.response === 'string') {\r\n\t\t\treturn JSON.parse(xhr.response);\r\n\t\t} else if(xhr.responseText) {\r\n\t\t\treturn JSON.parse(xhr.responseText);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadAsset(path, callback, errorCallback) {\r\n\t\tvar response;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', path, true);\r\n\t\t// set responseType after calling open or IE will break.\r\n\t\ttry {\r\n\t\t    // This crashes on Android WebView prior to KitKat\r\n\t\t    xhr.responseType = \"json\";\r\n\t\t} catch (err) {}\r\n\t    xhr.send();\r\n\t    xhr.onreadystatechange = function () {\r\n\t        if (xhr.readyState == 4) {\r\n\t            if(xhr.status == 200){\r\n\t            \tresponse = formatResponse(xhr);\r\n\t            \tcallback(response);\r\n\t            }else{\r\n\t                try{\r\n\t            \t\tresponse = formatResponse(xhr);\r\n\t            \t\tcallback(response);\r\n\t                }catch(err){\r\n\t                \tif(errorCallback) {\r\n\t                \t\terrorCallback(err);\r\n\t                \t}\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t}\r\n\treturn {\r\n\t\tload: loadAsset\r\n\t}\r\n}())\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem){\r\n    this._isFirstFrame = true;\r\n\tthis._hasMaskedPath = false;\r\n\tthis._frameId = -1;\r\n\tthis._textData = textData;\r\n\tthis._renderType = renderType;\r\n    this._elem = elem;\r\n\tthis._animatorsData = createSizedArray(this._textData.a.length);\r\n\tthis._pathData = {};\r\n\tthis._moreOptions = {\r\n\t\talignment: {}\r\n\t};\r\n\tthis.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function(){\r\n    var i, len = this._textData.a.length, animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n    for(i=0;i<len;i+=1){\r\n        animatorProps = this._textData.a[i];\r\n        this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n    if(this._textData.p && 'm' in this._textData.p){\r\n        this._pathData = {\r\n            f: getProp(this._elem,this._textData.p.f,0,0,this),\r\n            l: getProp(this._elem,this._textData.p.l,0,0,this),\r\n            r: this._textData.p.r,\r\n            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n        };\r\n        this._hasMaskedPath = true;\r\n    } else {\r\n        this._hasMaskedPath = false;\r\n    }\r\n    this._moreOptions.alignment = getProp(this._elem,this._textData.m.a,1,0,this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag){\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n    if(!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n        return;\r\n    }\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var data = this.data;\r\n    var xPos,yPos;\r\n    var i, len;\r\n    var letters = documentData.l, pathInfo, currentLength, currentPoint, segmentLength, flag, pointInd, segmentInd, prevPoint, points, segments, partialLength, totalLength, perc, tanAngle, mask;\r\n    if(this._hasMaskedPath) {\r\n        mask = this._pathData.m;\r\n        if(!this._pathData.n || this._pathData._mdf){\r\n            var paths = mask.v;\r\n            if(this._pathData.r){\r\n                paths = paths.reverse();\r\n            }\r\n            // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n            pathInfo = {\r\n                tLength: 0,\r\n                segments: []\r\n            };\r\n            len = paths._length - 1;\r\n            var bezierData;\r\n            totalLength = 0;\r\n            for (i = 0; i < len; i += 1) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[i + 1]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            i = len;\r\n            if (mask.v.c) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[0]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            this._pathData.pi = pathInfo;\r\n        }\r\n        pathInfo = this._pathData.pi;\r\n\r\n        currentLength = this._pathData.f.v;\r\n        segmentInd = 0;\r\n        pointInd = 1;\r\n        segmentLength = 0;\r\n        flag = true;\r\n        segments = pathInfo.segments;\r\n        if (currentLength < 0 && mask.v.c) {\r\n            if (pathInfo.tLength < Math.abs(currentLength)) {\r\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n            }\r\n            segmentInd = segments.length - 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n            while (currentLength < 0) {\r\n                currentLength += points[pointInd].partialLength;\r\n                pointInd -= 1;\r\n                if (pointInd < 0) {\r\n                    segmentInd -= 1;\r\n                    points = segments[segmentInd].points;\r\n                    pointInd = points.length - 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps, animatorSelector;\r\n    var j, jLen;\r\n    var letterValue;\r\n\r\n    jLen = animators.length;\r\n    var lastLetter;\r\n\r\n    var mult, ind = -1, offf, xPathPos, yPathPos;\r\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\r\n    var elemOpacity;\r\n    var sc,sw,fc,k;\r\n    var lineLength = 0;\r\n    var letterSw, letterSc, letterFc, letterM = '', letterP = this.defaultPropsArray, letterO;\r\n\r\n    //\r\n    if(documentData.j === 2 || documentData.j === 1) {\r\n        var animatorJustifyOffset = 0;\r\n        var animatorFirstCharOffset = 0;\r\n        var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n        var lastIndex = 0;\r\n        var isNewLine = true;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n            if (letters[i].n) {\r\n                if(animatorJustifyOffset) {\r\n                    animatorJustifyOffset += animatorFirstCharOffset;\r\n                }\r\n                while (lastIndex < i) {\r\n                    letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n                    lastIndex += 1;\r\n                }\r\n                animatorJustifyOffset = 0;\r\n                isNewLine = true;\r\n            } else {\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.t.propType) {\r\n                        if (isNewLine && documentData.j === 2) {\r\n                            animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n                        }\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n                        if (mult.length) {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult[0] * justifyOffsetMult;\r\n                        } else {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult * justifyOffsetMult;\r\n                        }\r\n                    }\r\n                }\r\n                isNewLine = false;\r\n            }\r\n        }\r\n        if(animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while(lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n        }\r\n    }\r\n    //\r\n\r\n    for( i = 0; i < len; i += 1) {\r\n\r\n        matrixHelper.reset();\r\n        elemOpacity = 1;\r\n        if(letters[i].n) {\r\n            xPos = 0;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            currentLength = initPathPos ;\r\n            firstLine = false;\r\n            lineLength = 0;\r\n            if(this._hasMaskedPath) {\r\n                segmentInd = initSegmentInd;\r\n                pointInd = initPointInd;\r\n                points = segments[segmentInd].points;\r\n                prevPoint = points[pointInd - 1];\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n                segmentLength = 0;\r\n            }\r\n            letterO = letterSw = letterFc = letterM = '';\r\n            letterP = this.defaultPropsArray;\r\n        }else{\r\n            if(this._hasMaskedPath) {\r\n                if(currentLine !== letters[i].line){\r\n                    switch(documentData.j){\r\n                        case 1:\r\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                            break;\r\n                        case 2:\r\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\r\n                            break;\r\n                    }\r\n                    currentLine = letters[i].line;\r\n                }\r\n                if (ind !== letters[i].ind) {\r\n                    if (letters[ind]) {\r\n                        currentLength += letters[ind].extra;\r\n                    }\r\n                    currentLength += letters[i].an / 2;\r\n                    ind = letters[i].ind;\r\n                }\r\n                currentLength += alignment[0] * letters[i].an / 200;\r\n                var animatorOffset = 0;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.p.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.p.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                    if (animatorProps.a.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.a.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.a.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                flag = true;\r\n                while (flag) {\r\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n                        matrixHelper.translate(-alignment[0]*letters[i].an/200, -(alignment[1] * yOff / 100));\r\n                        flag = false;\r\n                    } else if (points) {\r\n                        segmentLength += currentPoint.partialLength;\r\n                        pointInd += 1;\r\n                        if (pointInd >= points.length) {\r\n                            pointInd = 0;\r\n                            segmentInd += 1;\r\n                            if (!segments[segmentInd]) {\r\n                                if (mask.v.c) {\r\n                                    pointInd = 0;\r\n                                    segmentInd = 0;\r\n                                    points = segments[segmentInd].points;\r\n                                } else {\r\n                                    segmentLength -= currentPoint.partialLength;\r\n                                    points = null;\r\n                                }\r\n                            } else {\r\n                                points = segments[segmentInd].points;\r\n                            }\r\n                        }\r\n                        if (points) {\r\n                            prevPoint = currentPoint;\r\n                            currentPoint = points[pointInd];\r\n                            partialLength = currentPoint.partialLength;\r\n                        }\r\n                    }\r\n                }\r\n                offf = letters[i].an / 2 - letters[i].add;\r\n                matrixHelper.translate(-offf, 0, 0);\r\n            } else {\r\n                offf = letters[i].an/2 - letters[i].add;\r\n                matrixHelper.translate(-offf,0,0);\r\n\r\n                // Grouping alignment\r\n                matrixHelper.translate(-alignment[0]*letters[i].an/200, -alignment[1]*yOff/100, 0);\r\n            }\r\n\r\n            lineLength += letters[i].l/2;\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.t.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    //This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n                    if(xPos !== 0 || documentData.j !== 0) {\r\n                        if(this._hasMaskedPath) {\r\n                            if(mult.length) {\r\n                                currentLength += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                currentLength += animatorProps.t.v*mult;\r\n                            }\r\n                        }else{\r\n                            if(mult.length) {\r\n                                xPos += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                xPos += animatorProps.t.v*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            lineLength += letters[i].l/2;\r\n            if(documentData.strokeWidthAnim) {\r\n                sw = documentData.sw || 0;\r\n            }\r\n            if(documentData.strokeColorAnim) {\r\n                if(documentData.sc){\r\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n                }else{\r\n                    sc = [0,0,0];\r\n                }\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc) {\r\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.a.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n\r\n                    if(mult.length){\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\r\n                    } else {\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.s.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(mult.length){\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\r\n                    } else {\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1) {\r\n                animatorProps = animators[j].a;\r\n                animatorSelector = animators[j].s;\r\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                if (animatorProps.sk.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n                    } else {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.r.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n                    } else {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.ry.propType) {\r\n\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\r\n                    }else{\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.rx.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\r\n                    } else {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.o.propType) {\r\n                    if(mult.length) {\r\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\r\n                    } else {\r\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n                    if(mult.length) {\r\n                        sw += animatorProps.sw.v*mult[0];\r\n                    } else {\r\n                        sw += animatorProps.sw.v*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n                    for(k=0;k<3;k+=1){\r\n                        if(mult.length) {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0];\r\n                        } else {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult;\r\n                        }\r\n                    }\r\n                }\r\n                if (documentData.fillColorAnim && documentData.fc) {\r\n                    if(animatorProps.fc.propType){\r\n                        for(k=0;k<3;k+=1){\r\n                            if(mult.length) {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\r\n                            } else {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(animatorProps.fh.propType){\r\n                        if(mult.length) {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\r\n                        } else {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fs.propType){\r\n                        if(mult.length) {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\r\n                        } else {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fb.propType){\r\n                        if(mult.length) {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\r\n                        } else {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n\r\n                if (animatorProps.p.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n                        } else {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n                        } else {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(documentData.strokeWidthAnim){\r\n                letterSw = sw < 0 ? 0 : sw;\r\n            }\r\n            if(documentData.strokeColorAnim){\r\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc){\r\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\r\n            }\r\n\r\n            if(this._hasMaskedPath) {\r\n                matrixHelper.translate(0,-documentData.ls);\r\n\r\n                matrixHelper.translate(0, alignment[1]*yOff/100 + yPos,0);\r\n                if (textData.p.p) {\r\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\r\n                        rot += 180;\r\n                    }\r\n                    matrixHelper.rotate(-rot * Math.PI / 180);\r\n                }\r\n                matrixHelper.translate(xPathPos, yPathPos, 0);\r\n                currentLength -= alignment[0]*letters[i].an/200;\r\n                if(letters[i+1] && ind !== letters[i+1].ind){\r\n                    currentLength += letters[i].an / 2;\r\n                    currentLength += documentData.tr/1000*documentData.finalSize;\r\n                }\r\n            }else{\r\n\r\n                matrixHelper.translate(xPos,yPos,0);\r\n\r\n                if(documentData.ps){\r\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n                }\r\n                switch(documentData.j){\r\n                    case 1:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\r\n                        break;\r\n                    case 2:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\r\n                        break;\r\n                }\r\n                matrixHelper.translate(0,-documentData.ls);\r\n                matrixHelper.translate(offf,0,0);\r\n                matrixHelper.translate(alignment[0]*letters[i].an/200,alignment[1]*yOff/100,0);\r\n                xPos += letters[i].l + documentData.tr/1000*documentData.finalSize;\r\n            }\r\n            if(renderType === 'html'){\r\n                letterM = matrixHelper.toCSS();\r\n            }else if(renderType === 'svg'){\r\n                letterM = matrixHelper.to2dCSS();\r\n            }else{\r\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\r\n            }\r\n            letterO = elemOpacity;\r\n        }\r\n\r\n        if(renderedLettersCount <= i) {\r\n            letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\r\n            this.renderedLetters.push(letterValue);\r\n            renderedLettersCount += 1;\r\n            this.lettersChangedFlag = true;\r\n        } else {\r\n            letterValue = this.renderedLetters[i];\r\n            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n        }\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function(){\r\n\tif(this._elem.globalData.frameId === this._frameId){\r\n        return;\r\n    }\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n\tvar defaultData = {propType:false};\r\n\tvar getProp = PropertyFactory.getProp;\r\n\tvar textAnimator_animatables = animatorProps.a;\r\n\tthis.a = {\r\n\t\tr: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, container) : defaultData,\r\n\t\trx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, container) : defaultData,\r\n\t\try: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, container) : defaultData,\r\n\t\tsk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, container) : defaultData,\r\n\t\tsa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, container) : defaultData,\r\n\t\ts: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, container) : defaultData,\r\n\t\ta: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, container) : defaultData,\r\n\t\to: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, container) : defaultData,\r\n\t\tp: textAnimator_animatables.p ? getProp(elem,textAnimator_animatables.p, 1, 0, container) : defaultData,\r\n\t\tsw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, container) : defaultData,\r\n\t\tsc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, container) : defaultData,\r\n\t\tfc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, container) : defaultData,\r\n\t\tfh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, container) : defaultData,\r\n\t\tfs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, container) : defaultData,\r\n\t\tfb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, container) : defaultData,\r\n\t\tt: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, container) : defaultData\r\n\t};\r\n\r\n\tthis.s = TextSelectorProp.getTextSelectorProp(elem,animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n}\r\nfunction LetterProps(o, sw, sc, fc, m, p){\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n    \to: true,\r\n    \tsw: !!sw,\r\n    \tsc: !!sc,\r\n    \tfc: !!fc,\r\n    \tm: true,\r\n    \tp: true\r\n    };\r\n}\r\n\r\nLetterProps.prototype.update = function(o, sw, sc, fc, m, p) {\r\n\tthis._mdf.o = false;\r\n\tthis._mdf.sw = false;\r\n\tthis._mdf.sc = false;\r\n\tthis._mdf.fc = false;\r\n\tthis._mdf.m = false;\r\n\tthis._mdf.p = false;\r\n\tvar updated = false;\r\n\r\n\tif(this.o !== o) {\r\n\t\tthis.o = o;\r\n\t\tthis._mdf.o = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sw !== sw) {\r\n\t\tthis.sw = sw;\r\n\t\tthis._mdf.sw = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sc !== sc) {\r\n\t\tthis.sc = sc;\r\n\t\tthis._mdf.sc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.fc !== fc) {\r\n\t\tthis.fc = fc;\r\n\t\tthis._mdf.fc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.m !== m) {\r\n\t\tthis.m = m;\r\n\t\tthis._mdf.m = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n\t\tthis.p = p;\r\n\t\tthis._mdf.p = true;\r\n\t\tupdated = true;\r\n\t}\r\n\treturn updated;\r\n};\r\nfunction TextProperty(elem, data){\r\n\tthis._frameId = initialDefaultFrame;\r\n\tthis.pv = '';\r\n\tthis.v = '';\r\n\tthis.kf = false;\r\n\tthis._isFirstFrame = true;\r\n\tthis._mdf = false;\r\n    this.data = data;\r\n\tthis.elem = elem;\r\n    this.comp = this.elem.comp;\r\n\tthis.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n\tthis.currentData = {\r\n\t\tascent: 0,\r\n        boxWidth: this.defaultBoxWidth,\r\n        f: '',\r\n        fStyle: '',\r\n        fWeight: '',\r\n        fc: '',\r\n        j: '',\r\n        justifyOffset: '',\r\n        l: [],\r\n        lh: 0,\r\n        lineWidths: [],\r\n        ls: '',\r\n        of: '',\r\n        s: '',\r\n        sc: '',\r\n        sw: 0,\r\n        t: 0,\r\n        tr: 0,\r\n        sz:0,\r\n        ps:null,\r\n        fillColorAnim: false,\r\n        strokeColorAnim: false,\r\n        strokeWidthAnim: false,\r\n        yOffset: 0,\r\n        finalSize:0,\r\n        finalText:[],\r\n        finalLineHeight: 0,\r\n        __complete: false\r\n\r\n\t};\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if(!this.searchProperty()) {\r\n        this.completeTextData(this.currentData);\r\n    }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0,0];\r\n\r\nTextProperty.prototype.copyData = function(obj, data) {\r\n    for(var s in data) {\r\n        if(data.hasOwnProperty(s)) {\r\n            obj[s] = data[s];\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n\r\nTextProperty.prototype.setCurrentData = function(data){\r\n    if(!data.__complete) {\r\n        this.completeTextData(data);\r\n    }\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function() {\r\n    return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function() {\r\n    this.kf = this.data.d.k.length > 1;\r\n    if(this.kf) {\r\n        this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n    return this.kf;\r\n}\r\n\r\nTextProperty.prototype.addEffect = function(effectFunction) {\r\n\tthis.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function(_finalValue) {\r\n    if((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n        return;\r\n    }\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n    if(this.lock) {\r\n        this.setCurrentData(this.currentData);\r\n        return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var multipliedValue;\r\n    var i, len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n    for(i = 0; i < len; i += 1) {\r\n        //Checking if index changed to prevent creating a new object every time the expression updates.\r\n        if(currentIndex !== this.keysIndex) {\r\n            finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n        } else {\r\n            finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n        }\r\n    }\r\n    if(currentValue !== finalValue) {\r\n        this.setCurrentData(finalValue);\r\n    }\r\n    this.pv = this.v = this.currentData;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n}\r\n\r\nTextProperty.prototype.getKeyframeValue = function() {\r\n    var textKeys = this.data.d.k, textDocumentData;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0, len = textKeys.length;\r\n    while(i <= len - 1) {\r\n        textDocumentData = textKeys[i].s;\r\n        if(i === len - 1 || textKeys[i+1].t > frameNum){\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(this.keysIndex !== i) {\r\n        this.keysIndex = i;\r\n    }\r\n    return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function(text) {\r\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n    var charactersArray = [];\r\n    var i = 0, len = text.length;\r\n    var charCode;\r\n    while (i < len) {\r\n        charCode = text.charCodeAt(i);\r\n        if (combinedCharacters.indexOf(charCode) !== -1) {\r\n            charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        } else {\r\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n                charCode = text.charCodeAt(i + 1);\r\n                if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n                    charactersArray.push(text.substr(i, 2));\r\n                    ++i;\r\n                } else {\r\n                    charactersArray.push(text.charAt(i));\r\n                }\r\n            } else {\r\n                charactersArray.push(text.charAt(i));\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n    return charactersArray;\r\n}\r\n\r\nTextProperty.prototype.completeTextData = function(documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i, len;\r\n    var newLineFlag, index = 0, val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j, jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData, cLength = 0;\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n    var fWeight = 'normal', fStyle = 'normal';\r\n    len = styles.length;\r\n    var styleName;\r\n    for(i=0;i<len;i+=1){\r\n        styleName = styles[i].toLowerCase();\r\n        switch(styleName) {\r\n            case 'italic':\r\n            fStyle = 'italic';\r\n            break;\r\n            case 'bold':\r\n            fWeight = '700';\r\n            break;\r\n            case 'black':\r\n            fWeight = '900';\r\n            break;\r\n            case 'medium':\r\n            fWeight = '500';\r\n            break;\r\n            case 'regular':\r\n            case 'normal':\r\n            fWeight = '400';\r\n            break;\r\n            case 'light':\r\n            case 'thin':\r\n            fWeight = '200';\r\n            break;\r\n        }\r\n    }\r\n    documentData.fWeight = fontData.fWeight || fWeight;\r\n    documentData.fStyle = fStyle;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var charCode;\r\n    if(documentData.sz){\r\n        var flag = true;\r\n        var boxWidth = documentData.sz[0];\r\n        var boxHeight = documentData.sz[1];\r\n        var currentHeight, finalText;\r\n        while(flag) {\r\n            finalText = this.buildFinalText(documentData.t);\r\n            currentHeight = 0;\r\n            lineWidth = 0;\r\n            len = finalText.length;\r\n            trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n            var lastSpaceIndex = -1;\r\n            for(i=0;i<len;i+=1){\r\n                charCode = finalText[i].charCodeAt(0);\r\n                newLineFlag = false;\r\n                if(finalText[i] === ' '){\r\n                    lastSpaceIndex = i;\r\n                }else if(charCode === 13 || charCode === 3){\r\n                    lineWidth = 0;\r\n                    newLineFlag = true;\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                }\r\n                if(fontManager.chars){\r\n                    charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n                    cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n                }else{\r\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n                    cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n                }\r\n                if(lineWidth + cLength > boxWidth && finalText[i] !== ' '){\r\n                    if(lastSpaceIndex === -1){\r\n                        len += 1;\r\n                    } else {\r\n                        i = lastSpaceIndex;\r\n                    }\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                    finalText.splice(i, lastSpaceIndex === i ? 1 : 0,\"\\r\");\r\n                    //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n                    lastSpaceIndex = -1;\r\n                    lineWidth = 0;\r\n                }else {\r\n                    lineWidth += cLength;\r\n                    lineWidth += trackingOffset;\r\n                }\r\n            }\r\n            currentHeight += fontData.ascent*documentData.finalSize/100;\r\n            if(this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n                documentData.finalSize -= 1;\r\n                documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n            } else {\r\n                documentData.finalText = finalText;\r\n                len = documentData.finalText.length;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n    }\r\n    lineWidth = - trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n    for (i = 0;i < len ;i += 1) {\r\n        newLineFlag = false;\r\n        currentChar = documentData.finalText[i];\r\n        charCode = currentChar.charCodeAt(0);\r\n        if (charCode === 13 || charCode === 3) {\r\n            uncollapsedSpaces = 0;\r\n            lineWidths.push(lineWidth);\r\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n            lineWidth = - 2 * trackingOffset;\r\n            val = '';\r\n            newLineFlag = true;\r\n            currentLine += 1;\r\n        }else{\r\n            val = currentChar;\r\n        }\r\n        if(fontManager.chars){\r\n            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n        }else{\r\n            //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n            //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n            cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        }\r\n\r\n        //\r\n        if(currentChar === ' '){\r\n            uncollapsedSpaces += cLength + trackingOffset;\r\n        } else {\r\n            lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n            uncollapsedSpaces = 0;\r\n        }\r\n        letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine, animatorJustifyOffset: 0});\r\n        if(anchorGrouping == 2){\r\n            currentSize += cLength;\r\n            if(val === '' || val === ' ' || i === len - 1){\r\n                if(val === '' || val === ' '){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                index += 1;\r\n                currentSize = 0;\r\n            }\r\n        }else if(anchorGrouping == 3){\r\n            currentSize += cLength;\r\n            if(val === '' || i === len - 1){\r\n                if(val === ''){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                currentSize = 0;\r\n                index += 1;\r\n            }\r\n        }else{\r\n            letters[index].ind = index;\r\n            letters[index].extra = 0;\r\n            index += 1;\r\n        }\r\n    }\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n    if(documentData.sz){\r\n        documentData.boxWidth = documentData.sz[0];\r\n        documentData.justifyOffset = 0;\r\n    }else{\r\n        documentData.boxWidth = maxLineWidth;\r\n        switch(documentData.j){\r\n            case 1:\r\n                documentData.justifyOffset = - documentData.boxWidth;\r\n                break;\r\n            case 2:\r\n                documentData.justifyOffset = - documentData.boxWidth/2;\r\n                break;\r\n            default:\r\n                documentData.justifyOffset = 0;\r\n        }\r\n    }\r\n    documentData.lineWidths = lineWidths;\r\n\r\n    var animators = data.a, animatorData, letterData;\r\n    jLen = animators.length;\r\n    var based, ind, indexes = [];\r\n    for(j=0;j<jLen;j+=1){\r\n        animatorData = animators[j];\r\n        if(animatorData.a.sc){\r\n            documentData.strokeColorAnim = true;\r\n        }\r\n        if(animatorData.a.sw){\r\n            documentData.strokeWidthAnim = true;\r\n        }\r\n        if(animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb){\r\n            documentData.fillColorAnim = true;\r\n        }\r\n        ind = 0;\r\n        based = animatorData.s.b;\r\n        for(i=0;i<len;i+=1){\r\n            letterData = letters[i];\r\n            letterData.anIndexes[j] = ind;\r\n            if((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))){\r\n                if(animatorData.s.rn === 1){\r\n                    indexes.push(ind);\r\n                }\r\n                ind += 1;\r\n            }\r\n        }\r\n        data.a[j].s.totalChars = ind;\r\n        var currentInd = -1, newInd;\r\n        if(animatorData.s.rn === 1){\r\n            for(i = 0; i < len; i += 1){\r\n                letterData = letters[i];\r\n                if(currentInd != letterData.anIndexes[j]){\r\n                    currentInd = letterData.anIndexes[j];\r\n                    newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\r\n                }\r\n                letterData.anIndexes[j] = newInd;\r\n            }\r\n        }\r\n    }\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize*1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent*documentData.finalSize/100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function(newData, index) {\r\n\tindex = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function(index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n}\r\n\r\nTextProperty.prototype.canResizeFont = function(_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function(_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nvar TextSelectorProp = (function(){\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorProp(elem,data){\r\n        this._currentTextLength = -1;\r\n        this.k = false;\r\n        this.data = data;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.finalS = 0;\r\n        this.finalE = 0;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:0},0,0,this);\r\n        if('e' in data){\r\n            this.e = PropertyFactory.getProp(elem,data.e,0,0,this);\r\n        }else{\r\n            this.e = {v:100};\r\n        }\r\n        this.o = PropertyFactory.getProp(elem,data.o || {k:0},0,0,this);\r\n        this.xe = PropertyFactory.getProp(elem,data.xe || {k:0},0,0,this);\r\n        this.ne = PropertyFactory.getProp(elem,data.ne || {k:0},0,0,this);\r\n        this.a = PropertyFactory.getProp(elem,data.a,0,0.01,this);\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue();\r\n        }\r\n    }\r\n\r\n    TextSelectorProp.prototype = {\r\n        getMult: function(ind) {\r\n            if(this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n                this.getValue();\r\n            }\r\n            //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n            var x1 = 0;\r\n            var y1 = 0;\r\n            var x2 = 1;\r\n            var y2 = 1;\r\n            if(this.ne.v > 0) {\r\n                x1 = this.ne.v / 100.0;\r\n            }\r\n            else {\r\n                y1 = -this.ne.v / 100.0;\r\n            }\r\n            if(this.xe.v > 0) {\r\n                x2 = 1.0 - this.xe.v / 100.0;\r\n            }\r\n            else {\r\n                y2 = 1.0 + this.xe.v / 100.0;\r\n            }\r\n            var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n            var mult = 0;\r\n            var s = this.finalS;\r\n            var e = this.finalE;\r\n            var type = this.data.sh;\r\n            if (type === 2){\r\n                if (e === s) {\r\n                    mult = ind >= e ? 1 : 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                }\r\n                mult = easer(mult);\r\n            } else if(type === 3) {\r\n                if (e === s) {\r\n                    mult = ind >= e ? 0 : 1;\r\n                }else{\r\n                    mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s),1));\r\n                }\r\n\r\n                mult = easer(mult);\r\n            } else if (type === 4) {\r\n                if (e === s) {\r\n                    mult = 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                    if (mult < 0.5) {\r\n                        mult *= 2;\r\n                    } else {\r\n                        mult = 1 - 2 * (mult - 0.5);\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 5) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    var tot = e - s;\r\n                    /*ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    var x = -tot/2+ind;\r\n                    var a = tot/2;\r\n                    mult = Math.sqrt(1 - (x * x) / (a * a));\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 6) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2;\r\n                }\r\n                mult = easer(mult);\r\n            } else {\r\n                if (ind >= floor(s)) {\r\n                    if (ind - s < 0) {\r\n                        mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n                    } else {\r\n                        mult = max(0, min(e - ind, 1));\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            }\r\n            return mult*this.a.v;\r\n        },\r\n        getValue: function(newCharsFlag) {\r\n            this.iterateDynamicProperties();\r\n            this._mdf = newCharsFlag || this._mdf;\r\n            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n            if(newCharsFlag && this.data.r === 2) {\r\n                this.e.v = this._currentTextLength;\r\n            }\r\n            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n            var o = this.o.v/divisor;\r\n            var s = this.s.v/divisor + o;\r\n            var e = (this.e.v/divisor) + o;\r\n            if(s>e){\r\n                var _s = s;\r\n                s = e;\r\n                e = _s;\r\n            }\r\n            this.finalS = s;\r\n            this.finalE = e;\r\n        }\r\n    }\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorProp);\r\n\r\n    function getTextSelectorProp(elem, data,arr) {\r\n        return new TextSelectorProp(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n        getTextSelectorProp: getTextSelectorProp\r\n    };\r\n}());\r\n\r\n    \r\nvar pool_factory = (function() {\r\n\treturn function(initialLength, _create, _release, _clone) {\r\n\r\n\t\tvar _length = 0;\r\n\t\tvar _maxLength = initialLength;\r\n\t\tvar pool = createSizedArray(_maxLength);\r\n\r\n\t\tvar ob = {\r\n\t\t\tnewElement: newElement,\r\n\t\t\trelease: release\r\n\t\t};\r\n\r\n\t\tfunction newElement(){\r\n\t\t\tvar element;\r\n\t\t\tif(_length){\r\n\t\t\t\t_length -= 1;\r\n\t\t\t\telement = pool[_length];\r\n\t\t\t} else {\r\n\t\t\t\telement = _create();\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tfunction release(element) {\r\n\t\t\tif(_length === _maxLength) {\r\n\t\t\t\tpool = pooling.double(pool);\r\n\t\t\t\t_maxLength = _maxLength*2;\r\n\t\t\t}\r\n\t\t\tif (_release) {\r\n\t\t\t\t_release(element);\r\n\t\t\t}\r\n\t\t\tpool[_length] = element;\r\n\t\t\t_length += 1;\r\n\t\t}\r\n\r\n\t\tfunction clone() {\r\n\t\t\tvar clonedElement = newElement();\r\n\t\t\treturn _clone(clonedElement);\r\n\t\t}\r\n\r\n\t\treturn ob;\r\n\t};\r\n}());\r\n\r\nvar pooling = (function(){\r\n\r\n\tfunction double(arr){\r\n\t\treturn arr.concat(createSizedArray(arr.length));\r\n\t}\r\n\r\n\treturn {\r\n\t\tdouble: double\r\n\t};\r\n}());\r\nvar point_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn createTypedArray('float32', 2);\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nvar shape_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn new ShapePath();\r\n\t}\r\n\r\n\tfunction release(shapePath) {\r\n\t\tvar len = shapePath._length, i;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tpoint_pool.release(shapePath.v[i]);\r\n\t\t\tpoint_pool.release(shapePath.i[i]);\r\n\t\t\tpoint_pool.release(shapePath.o[i]);\r\n\t\t\tshapePath.v[i] = null;\r\n\t\t\tshapePath.i[i] = null;\r\n\t\t\tshapePath.o[i] = null;\r\n\t\t}\r\n\t\tshapePath._length = 0;\r\n\t\tshapePath.c = false;\r\n\t}\r\n\r\n\tfunction clone(shape) {\r\n\t\tvar cloned = factory.newElement();\r\n\t\tvar i, len = shape._length === undefined ? shape.v.length : shape._length;\r\n\t\tcloned.setLength(len);\r\n\t\tcloned.c = shape.c;\r\n\t\tvar pt;\r\n\t\t\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tcloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1], i);\r\n\t\t}\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tvar factory = pool_factory(4, create, release);\r\n\tfactory.clone = clone;\r\n\r\n\treturn factory;\r\n}());\r\nvar shapeCollection_pool = (function(){\r\n\tvar ob = {\r\n\t\tnewShapeCollection: newShapeCollection,\r\n\t\trelease: release\r\n\t};\r\n\r\n\tvar _length = 0;\r\n\tvar _maxLength = 4;\r\n\tvar pool = createSizedArray(_maxLength);\r\n\r\n\tfunction newShapeCollection(){\r\n\t\tvar shapeCollection;\r\n\t\tif(_length){\r\n\t\t\t_length -= 1;\r\n\t\t\tshapeCollection = pool[_length];\r\n\t\t} else {\r\n\t\t\tshapeCollection = new ShapeCollection();\r\n\t\t}\r\n\t\treturn shapeCollection;\r\n\t}\r\n\r\n\tfunction release(shapeCollection) {\r\n\t\tvar i, len = shapeCollection._length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tshape_pool.release(shapeCollection.shapes[i]);\r\n\t\t}\r\n\t\tshapeCollection._length = 0;\r\n\r\n\t\tif(_length === _maxLength) {\r\n\t\t\tpool = pooling.double(pool);\r\n\t\t\t_maxLength = _maxLength*2;\r\n\t\t}\r\n\t\tpool[_length] = shapeCollection;\r\n\t\t_length += 1;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar segments_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n\t\t\tlengths: [],\r\n\t\t\ttotalLength: 0\r\n\t\t};\r\n\t}\r\n\r\n\tfunction release(element) {\r\n\t\tvar i, len = element.lengths.length;\r\n\t\tfor(i=0;i<len;i+=1) {\r\n\t\t\tbezier_length_pool.release(element.lengths[i]);\r\n\t\t}\r\n\t\telement.lengths.length = 0;\r\n\t}\r\n\r\n\treturn pool_factory(8, create, release);\r\n}());\r\nvar bezier_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n            addedLength: 0,\r\n            percents: createTypedArray('float32', defaultCurveSegments),\r\n            lengths: createTypedArray('float32', defaultCurveSegments),\r\n        };\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nfunction BaseRenderer(){}\r\nBaseRenderer.prototype.checkLayers = function(num){\r\n    var i, len = this.layers.length, data;\r\n    this.completeLayers = true;\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if (!this.elements[i]) {\r\n            data = this.layers[i];\r\n            if(data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\r\n            {\r\n                this.buildItem(i);\r\n            }\r\n        }\r\n        this.completeLayers = this.elements[i] ? this.completeLayers:false;\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function(layer){\r\n    switch(layer.ty){\r\n        case 2:\r\n            return this.createImage(layer);\r\n        case 0:\r\n            return this.createComp(layer);\r\n        case 1:\r\n            return this.createSolid(layer);\r\n        case 3:\r\n            return this.createNull(layer);\r\n        case 4:\r\n            return this.createShape(layer);\r\n        case 5:\r\n            return this.createText(layer);\r\n        case 6:\r\n            return this.createAudio(layer);\r\n        case 13:\r\n            return this.createCamera(layer);\r\n    }\r\n    return this.createNull(layer);\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function(){\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function(data){\r\n    return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function(){\r\n    var i, len = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.buildItem(i);\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function(newLayers){\r\n    this.completeLayers = false;\r\n    var i, len = newLayers.length;\r\n    var j, jLen = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        j = 0;\r\n        while(j<jLen){\r\n            if(this.layers[j].id == newLayers[i].id){\r\n                this.layers[j] = newLayers[i];\r\n                break;\r\n            }\r\n            j += 1;\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function(pInterface){\r\n    this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function(){\r\n    if(!this.globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i=0, len = layers.length;\r\n    while (i < len) {\r\n        if (layers[i].ind == parentName) {\r\n            if (!elements[i] || elements[i] === true) {\r\n                this.buildItem(i);\r\n                this.addPendingElement(element);\r\n            } else {\r\n                hierarchy.push(elements[i]);\r\n                elements[i].setAsParent();\r\n                if(layers[i].parent !== undefined) {\r\n                    this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n                } else {\r\n                    element.setHierarchy(hierarchy);\r\n                }\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function(element){\r\n    this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i]);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function(animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.audioController = this.animationItem.audioController;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    }\r\n}\r\nfunction SVGRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n    if (config && config.title) {\r\n        var titleElement = createNS('title');\r\n        var titleId = createElementID();\r\n        titleElement.setAttribute('id', titleId);\r\n        titleElement.textContent = config.title;\r\n        this.svgElement.appendChild(titleElement);\r\n        ariaLabel += titleId;\r\n    }\r\n    if (config && config.description) {\r\n        var descElement = createNS('desc');\r\n        var descId = createElementID();\r\n        descElement.setAttribute('id', descId);\r\n        descElement.textContent = config.description;\r\n        this.svgElement.appendChild(descElement);\r\n        ariaLabel += ' ' + descId;\r\n    }\r\n    if (ariaLabel) {\r\n        this.svgElement.setAttribute('aria-labelledby', ariaLabel)\r\n    }\r\n    var defs = createNS( 'defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n        viewBoxSize: (config && config.viewBoxSize) || false,\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n        focusable: config && config.focusable,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '100%',\r\n            height: config && config.filterSize && config.filterSize.height || '100%',\r\n            x: config && config.filterSize && config.filterSize.x || '0%',\r\n            y: config && config.filterSize && config.filterSize.y || '0%',\r\n        }\r\n    };\r\n\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        defs: defs,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n    return new NullElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n    return new SVGTextElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n    return new IImageElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function(animData){\r\n    this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n    if(this.renderConfig.viewBoxSize) {\r\n        this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);\r\n    } else {\r\n        this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);\r\n    }\r\n\r\n    if(!this.renderConfig.viewBoxOnly) {\r\n        this.svgElement.setAttribute('width',animData.w);\r\n        this.svgElement.setAttribute('height',animData.h);\r\n        this.svgElement.style.width = '100%';\r\n        this.svgElement.style.height = '100%';\r\n        this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    if (this.renderConfig.className) {\r\n        this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n        this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n    if (this.renderConfig.focusable !== undefined) {\r\n        this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n    this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);\r\n    //this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n    this.animationItem.wrapper.appendChild(this.svgElement);\r\n    //Mask animation\r\n    var defs = this.globalData.defs;\r\n\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n\r\n    var maskElement = createNS( 'clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width',animData.w);\r\n    rect.setAttribute('height',animData.h);\r\n    rect.setAttribute('x',0);\r\n    rect.setAttribute('y',0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\"+maskId+\")\");\r\n\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerText = '';\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem  = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n\r\n    elements[pos] = element;\r\n    if(expressionsPlugin){\r\n        if(this.layers[pos].ty === 0){\r\n            this.globalData.projectInterface.registerComposition(element);\r\n        }\r\n        element.initExpressions();\r\n    }\r\n    this.appendElementInPos(element,pos);\r\n    if(this.layers[pos].tt){\r\n        if(!this.elements[pos - 1] || this.elements[pos - 1] === true){\r\n            this.buildItem(pos - 1);\r\n            this.addPendingElement(element);\r\n        } else {\r\n            element.setMatte(elements[pos - 1].layerId);\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n        if(element.data.tt){\r\n            var i = 0, len = this.elements.length;\r\n            while(i<len){\r\n                if(this.elements[i] === element){\r\n                    element.setMatte(this.elements[i - 1].layerId);\r\n                    break;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function(num){\r\n    if(this.renderedFrame === num || this.destroyed){\r\n        return;\r\n    }\r\n    if(num === null){\r\n        num = this.renderedFrame;\r\n    }else{\r\n        this.renderedFrame = num;\r\n    }\r\n    // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newElement = element.getBaseElement();\r\n    if(!newElement){\r\n        return;\r\n    }\r\n    var i = 0;\r\n    var nextElement;\r\n    while(i<pos){\r\n        if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement()){\r\n            nextElement = this.elements[i].getBaseElement();\r\n        }\r\n        i += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(newElement);\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function(){\r\n    this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function(){\r\n    this.layerElement.style.display = 'block';\r\n};\r\n\r\nfunction CanvasRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n        context: (config && config.context) || null,\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n    };\r\n    this.renderConfig.dpr = (config && config.dpr) || 1;\r\n    if (this.animationItem.wrapper) {\r\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n    }\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n        frameNum: -1,\r\n        _mdf: false,\r\n        renderConfig: this.renderConfig,\r\n        currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer],CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function(props){\r\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\r\n        return;\r\n    }\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\r\n        return;\r\n    }\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);\r\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function(op){\r\n    /*if(op === 1){\r\n        return;\r\n    }*/\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n        return;\r\n    }\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n    if(this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n        this.canvasContext.globalAlpha = this.contextData.cO;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function(){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.save();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.save();\r\n    }\r\n    var props = this.contextData.cTr.props;\r\n    if(this.contextData._length <= this.contextData.cArrPos) {\r\n        this.contextData.duplicate();\r\n    }\r\n    var i, arr = this.contextData.saved[this.contextData.cArrPos];\r\n    for (i = 0; i < 16; i += 1) {\r\n        arr[i] = props[i];\r\n    }\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.restore();\r\n        this.globalData.blendMode = 'source-over';\r\n    }\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i,arr = this.contextData.cTr.props;\r\n    for(i=0;i<16;i+=1){\r\n        arr[i] = popped[i];\r\n    }\r\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n    if(this.globalData.currentGlobalAlpha !== popped) {\r\n        this.canvasContext.globalAlpha = popped;\r\n        this.globalData.currentGlobalAlpha = popped;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function(animData){\r\n    if(this.animationItem.wrapper){\r\n        this.animationItem.container = createTag('canvas');\r\n        this.animationItem.container.style.width = '100%';\r\n        this.animationItem.container.style.height = '100%';\r\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\r\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\r\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\r\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n        this.canvasContext = this.animationItem.container.getContext('2d');\r\n        if(this.renderConfig.className) {\r\n            this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n        }\r\n        if(this.renderConfig.id) {\r\n            this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n        }\r\n    }else{\r\n        this.canvasContext = this.renderConfig.context;\r\n    }\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n        w: animData.w,\r\n        h:animData.h,\r\n        sx:0,\r\n        sy:0,\r\n        tx:0,\r\n        ty:0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n\r\n    this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n    this.reset();\r\n    var elementWidth,elementHeight;\r\n    if(this.animationItem.wrapper && this.animationItem.container){\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\r\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\r\n    }else{\r\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n    }\r\n    var elementRel,animationRel;\r\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\r\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n        var fillType = par[1] || 'meet';\r\n        var pos = par[0] || 'xMidYMid';\r\n        var xPos = pos.substr(0,4);\r\n        var yPos = pos.substr(4);\r\n        elementRel = elementWidth/elementHeight;\r\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\r\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\r\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        }else{\r\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n        }\r\n\r\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\r\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.tx = 0;\r\n        }\r\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\r\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.ty = 0;\r\n        }\r\n\r\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\r\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }else{\r\n        this.transformCanvas.sx = this.renderConfig.dpr;\r\n        this.transformCanvas.sy = this.renderConfig.dpr;\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }\r\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\r\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n\r\n    this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n    if(this.renderConfig.clearCanvas) {\r\n        this.animationItem.wrapper.innerText = '';\r\n    }\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = len - 1; i >= 0; i-=1) {\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function(num, forceRender){\r\n    if((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1){\r\n        return;\r\n    }\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n\r\n     // console.log('--------');\r\n     // console.log('NEW: ',num);\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i++) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        if(this.renderConfig.clearCanvas === true){\r\n            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n        }else{\r\n            this.save();\r\n        }\r\n        for (i = len - 1; i >= 0; i-=1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n        if(this.renderConfig.clearCanvas !== true){\r\n            this.restore();\r\n        }\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    var element = this.createItem(this.layers[pos], this,this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function(){\r\n    this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function(){\r\n    this.animationItem.container.style.display = 'block';\r\n};\r\n\r\nfunction MaskElement(data,element,globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i, len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n\r\n\r\n    var path, properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j, jLen;\r\n    var layerId = createElementID();\r\n    var rect, expansor, feMorph,x;\r\n    var maskType = 'clipPath', maskRef = 'clip-path';\r\n    for (i = 0; i < len; i++) {\r\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x){\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n        }\r\n\r\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0){\r\n            rect = createNS( 'rect');\r\n            rect.setAttribute('fill', '#ffffff');\r\n            rect.setAttribute('width', this.element.comp.data.w || 0);\r\n            rect.setAttribute('height', this.element.comp.data.h || 0);\r\n            currentMasks.push(rect);\r\n        } else {\r\n            rect = null;\r\n        }\r\n\r\n        path = createNS( 'path');\r\n        if(properties[i].mode == 'n') {\r\n            // TODO move this to a factory or to a constructor\r\n            this.viewData[i] = {\r\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n                elem: path,\r\n                lastPath: ''\r\n            };\r\n            defs.appendChild(path);\r\n            continue;\r\n        }\r\n        count += 1;\r\n\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        path.setAttribute('clip-rule','nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);\r\n            filterID = createElementID();\r\n            expansor = createNS('filter');\r\n            expansor.setAttribute('id',filterID);\r\n            feMorph = createNS('feMorphology');\r\n            feMorph.setAttribute('operator','erode');\r\n            feMorph.setAttribute('in','SourceGraphic');\r\n            feMorph.setAttribute('radius','0');\r\n            expansor.appendChild(feMorph);\r\n            defs.appendChild(expansor);\r\n            path.setAttribute('stroke', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        } else {\r\n            feMorph = null;\r\n            x = null;\r\n        }\r\n\r\n        // TODO move this to a factory or to a constructor\r\n        this.storedData[i] = {\r\n             elem: path,\r\n             x: x,\r\n             expan: feMorph,\r\n            lastPath: '',\r\n            lastOperator:'',\r\n            filterId:filterID,\r\n            lastRadius:0\r\n        };\r\n        if(properties[i].mode == 'i'){\r\n            jLen = currentMasks.length;\r\n            var g = createNS('g');\r\n            for(j=0;j<jLen;j+=1){\r\n                g.appendChild(currentMasks[j]);\r\n            }\r\n            var mask = createNS('mask');\r\n            mask.setAttribute('mask-type','alpha');\r\n            mask.setAttribute('id',layerId+'_'+count);\r\n            mask.appendChild(path);\r\n            defs.appendChild(mask);\r\n            g.setAttribute('mask','url(' + locationHref + '#'+layerId+'_'+count+')');\r\n\r\n            currentMasks.length = 0;\r\n            currentMasks.push(g);\r\n        }else{\r\n            currentMasks.push(path);\r\n        }\r\n        if(properties[i].inv && !this.solidPath){\r\n            this.solidPath = this.createLayerSolidPath();\r\n        }\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n            elem: path,\r\n            lastPath: '',\r\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n            invRect: rect\r\n        };\r\n        if(!this.viewData[i].prop.k){\r\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n    }\r\n\r\n    this.maskElement = createNS( maskType);\r\n\r\n    len = currentMasks.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if(count > 0){\r\n        this.maskElement.setAttribute('id', layerId);\r\n        this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\r\n        defs.appendChild(this.maskElement);\r\n    }\r\n    if (this.viewData.length) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function(pos){\r\n    return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i, len = this.masksProperties.length;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.viewData[i].prop._mdf || isFirstFrame){\r\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n        if(this.viewData[i].op._mdf || isFirstFrame){\r\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\r\n        }\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)){\r\n                this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS())\r\n            }\r\n            if(this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)){\r\n                var feMorph = this.storedData[i].expan;\r\n                if(this.storedData[i].x.v < 0){\r\n                    if(this.storedData[i].lastOperator !== 'erode'){\r\n                        this.storedData[i].lastOperator = 'erode';\r\n                        this.storedData[i].elem.setAttribute('filter','url(' + locationHref + '#'+this.storedData[i].filterId+')');\r\n                    }\r\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\r\n                }else{\r\n                    if(this.storedData[i].lastOperator !== 'dilate'){\r\n                        this.storedData[i].lastOperator = 'dilate';\r\n                        this.storedData[i].elem.setAttribute('filter',null);\r\n                    }\r\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function(){\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w ;\r\n    path += ' v' + this.globalData.compSize.h ;\r\n    path += ' h-' + this.globalData.compSize.w ;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\r\n    var pathString = \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    var i, len;\r\n    len = pathNodes._length;\r\n    for(i=1;i<len;i+=1){\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    }\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    if(pathNodes.c && len > 1){\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    }\r\n    //pathNodes.__renderedString = pathString;\r\n\r\n    if(viewData.lastPath !== pathString){\r\n        var pathShapeValue = '';\r\n        if(viewData.elem){\r\n            if(pathNodes.c){\r\n                pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n            }\r\n            viewData.elem.setAttribute('d',pathShapeValue);\r\n        }\r\n        viewData.lastPath = pathString;\r\n    }\r\n};\r\n\r\nMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file \r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement(){}\r\n\r\nHierarchyElement.prototype = {\r\n\t/**\r\n     * @function \r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n\tinitHierarchy: function() {\r\n\t\t//element's parent list\r\n\t    this.hierarchy = [];\r\n\t    //if element is parent of another layer _isParent will be true\r\n\t    this._isParent = false;\r\n\t    this.checkParenting();\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */ \r\n\tsetHierarchy: function(hierarchy){\r\n\t    this.hierarchy = hierarchy;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer as parent.\r\n     *\r\n     */ \r\n\tsetAsParent: function() {\r\n\t    this._isParent = true;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Searches layer's parenting chain\r\n     *\r\n     */ \r\n\tcheckParenting: function(){\r\n\t    if (this.data.parent !== undefined){\r\n\t        this.comp.buildElementParenting(this, this.data.parent, []);\r\n\t    }\r\n\t}\r\n};\r\n/**\r\n * @file \r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement(){}\r\n\r\nFrameElement.prototype = {\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n    initFrame: function(){\r\n        //set to true when inpoint is rendered\r\n        this._isFirstFrame = false;\r\n        //list of animated properties\r\n        this.dynamicProperties = [];\r\n        // If layer has been modified in current tick this will be true\r\n        this._mdf = false;\r\n    },\r\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\r\n    prepareProperties: function(num, isVisible) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for (i = 0;i < len; i += 1) {\r\n            if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n                this.dynamicProperties[i].getValue();\r\n                if (this.dynamicProperties[i]._mdf) {\r\n                    this.globalData._mdf = true;\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    addDynamicProperty: function(prop) {\r\n        if(this.dynamicProperties.indexOf(prop) === -1) {\r\n            this.dynamicProperties.push(prop);\r\n        }\r\n    }\r\n};\r\nfunction TransformElement(){}\r\n\r\nTransformElement.prototype = {\r\n    initTransform: function() {\r\n        this.finalTransform = {\r\n            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {o:0},\r\n            _matMdf: false,\r\n            _opMdf: false,\r\n            mat: new Matrix()\r\n        };\r\n        if (this.data.ao) {\r\n            this.finalTransform.mProp.autoOriented = true;\r\n        }\r\n\r\n        //TODO: check TYPE 11: Guided elements\r\n        if (this.data.ty !== 11) {\r\n            //this.createElements();\r\n        }\r\n    },\r\n    renderTransform: function() {\r\n\r\n        this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n        this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n        if (this.hierarchy) {\r\n            var mat;\r\n            var finalMat = this.finalTransform.mat;\r\n            var i = 0, len = this.hierarchy.length;\r\n            //Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n            if (!this.finalTransform._matMdf) {\r\n                while (i < len) {\r\n                    if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n                        this.finalTransform._matMdf = true;\r\n                        break;\r\n                    }\r\n                    i += 1;\r\n                }\r\n            }\r\n            \r\n            if (this.finalTransform._matMdf) {\r\n                mat = this.finalTransform.mProp.v.props;\r\n                finalMat.cloneFromProps(mat);\r\n                for (i = 0; i < len; i += 1) {\r\n                    mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n                    finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    globalToLocal: function(pt) {\r\n        var transforms = [];\r\n        transforms.push(this.finalTransform);\r\n        var flag = true;\r\n        var comp = this.comp;\r\n        while (flag) {\r\n            if (comp.finalTransform) {\r\n                if (comp.data.hasMask) {\r\n                    transforms.splice(0, 0, comp.finalTransform);\r\n                }\r\n                comp = comp.comp;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        var i, len = transforms.length,ptNew;\r\n        for (i = 0; i < len; i += 1) {\r\n            ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n            //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n            pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n        }\r\n        return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nfunction RenderableElement(){\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n    initRenderable: function() {\r\n        //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n        this.isInRange = false;\r\n        //layer's display state\r\n        this.hidden = false;\r\n        // If layer's transparency equals 0, it can be hidden\r\n        this.isTransparent = false;\r\n        //list of animated components\r\n        this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) === -1) {\r\n            this.renderableComponents.push(component);\r\n        }\r\n    },\r\n    removeRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) !== -1) {\r\n            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n        }\r\n    },\r\n    prepareRenderableFrame: function(num) {\r\n        this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function(){\r\n        if(this.finalTransform.mProp.o.v <= 0) {\r\n            if(!this.isTransparent && this.globalData.renderConfig.hideOnTransparent){\r\n                this.isTransparent = true;\r\n                this.hide();\r\n            }\r\n        } else if(this.isTransparent) {\r\n            this.isTransparent = false;\r\n            this.show();\r\n        }\r\n    },\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\r\n    checkLayerLimits: function(num) {\r\n        if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\r\n        {\r\n            if(this.isInRange !== true){\r\n                this.globalData._mdf = true;\r\n                this._mdf = true;\r\n                this.isInRange = true;\r\n                this.show();\r\n            }\r\n        } else {\r\n            if(this.isInRange !== false){\r\n                this.globalData._mdf = true;\r\n                this.isInRange = false;\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n    renderRenderable: function() {\r\n        var i, len = this.renderableComponents.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n        }\r\n        /*this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame);*/\r\n    },\r\n    sourceRectAtTime: function(){\r\n        return {\r\n            top:0,\r\n            left:0,\r\n            width:100,\r\n            height:100\r\n        };\r\n    },\r\n    getLayerSize: function(){\r\n        if(this.data.ty === 5){\r\n            return {w:this.data.textData.width,h:this.data.textData.height};\r\n        }else{\r\n            return {w:this.data.width,h:this.data.height};\r\n        }\r\n    }\r\n};\r\nfunction RenderableDOMElement() {}\r\n\r\n(function(){\r\n    var _prototype = {\r\n        initElement: function(data,globalData,comp) {\r\n            this.initFrame();\r\n            this.initBaseData(data, globalData, comp);\r\n            this.initTransform(data, globalData, comp);\r\n            this.initHierarchy();\r\n            this.initRenderable();\r\n            this.initRendererElement();\r\n            this.createContainerElements();\r\n            this.createRenderableComponents();\r\n            this.createContent();\r\n            this.hide();\r\n        },\r\n        hide: function(){\r\n            if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n                var elem = this.baseElement || this.layerElement;\r\n                elem.style.display = 'none';\r\n                this.hidden = true;\r\n            }\r\n        },\r\n        show: function(){\r\n            if (this.isInRange && !this.isTransparent){\r\n                if (!this.data.hd) {\r\n                    var elem = this.baseElement || this.layerElement;\r\n                    elem.style.display = 'block';\r\n                }\r\n                this.hidden = false;\r\n                this._isFirstFrame = true;\r\n            }\r\n        },\r\n        renderFrame: function() {\r\n            //If it is exported as hidden (data.hd === true) no need to render\r\n            //If it is not visible no need to render\r\n            if (this.data.hd || this.hidden) {\r\n                return;\r\n            }\r\n            this.renderTransform();\r\n            this.renderRenderable();\r\n            this.renderElement();\r\n            this.renderInnerContent();\r\n            if (this._isFirstFrame) {\r\n                this._isFirstFrame = false;\r\n            }\r\n        },\r\n        renderInnerContent: function() {},\r\n        prepareFrame: function(num) {\r\n            this._mdf = false;\r\n            this.prepareRenderableFrame(num);\r\n            this.prepareProperties(num, this.isInRange);\r\n            this.checkTransparency();\r\n        },\r\n        destroy: function(){\r\n            this.innerElem =  null;\r\n            this.destroyBaseElement();\r\n        }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\nfunction ProcessedElement(element, position) {\r\n\tthis.elem = element;\r\n\tthis.pos = position;\r\n}\r\nfunction SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level;\r\n    //TODO find if there are some cases where _isAnimated can be false. \r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n    this._isAnimated = !!shape.k;\r\n    // TODO: commenting this for now since all shapes are animated\r\n    var i = 0, len = transformers.length;\r\n    while(i < len) {\r\n    \tif(transformers[i].mProps.dynamicProperties.length) {\r\n    \t\tthis._isAnimated = true;\r\n    \t\tbreak;\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function() {\r\n    this._isAnimated = true;\r\n}\r\nfunction ShapeGroupData() {\r\n\tthis.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n}\r\nfunction ShapeTransformManager() {\r\n\tthis.sequences = {};\r\n\tthis.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n\taddTransformSequence: function(transforms) {\r\n\t\tvar i, len = transforms.length;\r\n\t\tvar key = '_';\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tkey += transforms[i].transform.key + '_';\r\n\t\t}\r\n\t\tvar sequence = this.sequences[key];\r\n\t\tif(!sequence) {\r\n\t\t\tsequence = {\r\n\t\t\t\ttransforms: [].concat(transforms),\r\n\t\t\t\tfinalTransform: new Matrix(),\r\n\t\t\t\t_mdf: false\r\n\t\t\t};\r\n\t\t\tthis.sequences[key] = sequence;\r\n\t\t\tthis.sequenceList.push(sequence);\r\n\t\t}\r\n\t\treturn sequence;\r\n\t},\r\n\tprocessSequence: function(sequence, isFirstFrame) {\r\n\t\tvar i = 0, len = sequence.transforms.length, _mdf = isFirstFrame;\r\n\t\twhile (i < len && !isFirstFrame) {\r\n\t\t\tif (sequence.transforms[i].transform.mProps._mdf) {\r\n\t\t\t\t_mdf = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ti += 1\r\n\t\t}\r\n\t\tif (_mdf) {\r\n\t\t\tvar props;\r\n\t\t\tsequence.finalTransform.reset();\r\n\t\t\tfor (i = len - 1; i >= 0; i -= 1) {\r\n\t\t        props = sequence.transforms[i].transform.mProps.v.props;\r\n\t\t        sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsequence._mdf = _mdf;\r\n\t\t\r\n\t},\r\n\tprocessSequences: function(isFirstFrame) {\r\n\t\tvar i, len = this.sequenceList.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tthis.processSequence(this.sequenceList[i], isFirstFrame);\r\n\t\t}\r\n\r\n\t},\r\n\tgetNewKey: function() {\r\n\t\treturn '_' + this.transform_key_count++;\r\n\t}\r\n}\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0,0,0,0,0,0];\r\n    var ty = 4;\r\n    if(data.ty == 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty == 'el'){\r\n        ty = 6;\r\n    }else if(data.ty == 'sr'){\r\n        ty = 7;\r\n    }\r\n    this.sh = ShapePropertyFactory.getShapeProp(element,data,ty,element);\r\n    var i , len = styles.length,styledShape;\r\n    for (i = 0; i < len; i += 1) {\r\n        if (!styles[i].closed) {\r\n            styledShape = {\r\n                transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n                trNodes: []\r\n            }\r\n            this.styledShapes.push(styledShape);\r\n            styles[i].elements.push(styledShape);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\nfunction BaseElement(){\r\n}\r\n\r\nBaseElement.prototype = {\r\n    checkMasks: function(){\r\n        if(!this.data.hasMask){\r\n            return false;\r\n        }\r\n        var i = 0, len = this.data.masksProperties.length;\r\n        while(i<len) {\r\n            if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n                return true;\r\n            }\r\n            i += 1;\r\n        }\r\n        return false;\r\n    },\r\n    initExpressions: function(){\r\n        this.layerInterface = LayerExpressionInterface(this);\r\n        if(this.data.hasMask && this.maskManager) {\r\n            this.layerInterface.registerMaskInterface(this.maskManager);\r\n        }\r\n        var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\r\n        this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n        if(this.data.ty === 0 || this.data.xt){\r\n            this.compInterface = CompExpressionInterface(this);\r\n        } else if(this.data.ty === 4){\r\n            this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);\r\n            this.layerInterface.content = this.layerInterface.shapeInterface;\r\n        } else if(this.data.ty === 5){\r\n            this.layerInterface.textInterface = TextExpressionInterface(this);\r\n            this.layerInterface.text = this.layerInterface.textInterface;\r\n        }\r\n    },\r\n    setBlendMode: function(){\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        var elem = this.baseElement || this.layerElement;\r\n\r\n        elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function(data, globalData, comp){\r\n        this.globalData = globalData;\r\n        this.comp = comp;\r\n        this.data = data;\r\n        this.layerId = createElementID();\r\n        \r\n        //Stretch factor for old animations missing this property.\r\n        if(!this.data.sr){\r\n            this.data.sr = 1;\r\n        }\r\n        // effects manager\r\n        this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties);\r\n        \r\n    },\r\n    getType: function(){\r\n        return this.type;\r\n    }\r\n    ,sourceRectAtTime: function(){}\r\n}\r\nfunction NullElement(data,globalData,comp){\r\n    this.initFrame();\r\n\tthis.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function() {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nNullElement.prototype.destroy = function() {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nNullElement.prototype.hide = function() {\r\n};\r\n\r\nextendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement], NullElement);\r\n\r\nfunction SVGBaseElement(){\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n    initRendererElement: function() {\r\n        this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function(){\r\n        this.matteElement = createNS('g');\r\n        this.transformedElement = this.layerElement;\r\n        this.maskedElement = this.layerElement;\r\n        this._sizeChanged = false;\r\n        var layerElementParent = null;\r\n        //If this layer acts as a mask for the following layer\r\n        var filId, fil, gg;\r\n        if (this.data.td) {\r\n            if (this.data.td == 3 || this.data.td == 1) {\r\n                var masker = createNS('mask');\r\n                masker.setAttribute('id', this.layerId);\r\n                masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\r\n                masker.appendChild(this.layerElement);\r\n                layerElementParent = masker;\r\n                this.globalData.defs.appendChild(masker);\r\n                // This is only for IE and Edge when mask if of type alpha\r\n                if (!featureSupport.maskType && this.data.td == 1) {\r\n                    masker.setAttribute('mask-type', 'luminance');\r\n                    filId = createElementID();\r\n                    fil = filtersFactory.createFilter(filId);\r\n                    this.globalData.defs.appendChild(fil);\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    masker.appendChild(gg);\r\n                    gg.setAttribute('filter','url(' + locationHref + '#' + filId + ')');\r\n                }\r\n            } else if(this.data.td == 2) {\r\n                var maskGroup = createNS('mask');\r\n                maskGroup.setAttribute('id', this.layerId);\r\n                maskGroup.setAttribute('mask-type','alpha');\r\n                var maskGrouper = createNS('g');\r\n                maskGroup.appendChild(maskGrouper);\r\n                filId = createElementID();\r\n                fil = filtersFactory.createFilter(filId);\r\n                ////\r\n\r\n                // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n                /*var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix);*/\r\n                ////\r\n                var feCTr = createNS('feComponentTransfer');\r\n                feCTr.setAttribute('in','SourceGraphic');\r\n                fil.appendChild(feCTr);\r\n                var feFunc = createNS('feFuncA');\r\n                feFunc.setAttribute('type','table');\r\n                feFunc.setAttribute('tableValues','1.0 0.0');\r\n                feCTr.appendChild(feFunc);\r\n                ////\r\n                this.globalData.defs.appendChild(fil);\r\n                var alphaRect = createNS('rect');\r\n                alphaRect.setAttribute('width',  this.comp.data.w);\r\n                alphaRect.setAttribute('height', this.comp.data.h);\r\n                alphaRect.setAttribute('x','0');\r\n                alphaRect.setAttribute('y','0');\r\n                alphaRect.setAttribute('fill','#ffffff');\r\n                alphaRect.setAttribute('opacity','0');\r\n                maskGrouper.setAttribute('filter', 'url(' + locationHref + '#'+filId+')');\r\n                maskGrouper.appendChild(alphaRect);\r\n                maskGrouper.appendChild(this.layerElement);\r\n                layerElementParent = maskGrouper;\r\n                if (!featureSupport.maskType) {\r\n                    maskGroup.setAttribute('mask-type', 'luminance');\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    maskGrouper.appendChild(alphaRect);\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    maskGrouper.appendChild(gg);\r\n                }\r\n                this.globalData.defs.appendChild(maskGroup);\r\n            }\r\n        } else if (this.data.tt) {\r\n            this.matteElement.appendChild(this.layerElement);\r\n            layerElementParent = this.matteElement;\r\n            this.baseElement = this.matteElement;\r\n        } else {\r\n            this.baseElement = this.layerElement;\r\n        }\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id', this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n        if (this.data.ty === 0 && !this.data.hd) {\r\n            var cp = createNS( 'clipPath');\r\n            var pt = createNS('path');\r\n            pt.setAttribute('d','M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n            var clipId = createElementID();\r\n            cp.setAttribute('id',clipId);\r\n            cp.appendChild(pt);\r\n            this.globalData.defs.appendChild(cp);\r\n\r\n            if (this.checkMasks()) {\r\n                var cpGroup = createNS('g');\r\n                cpGroup.setAttribute('clip-path','url(' + locationHref + '#'+clipId + ')');\r\n                cpGroup.appendChild(this.layerElement);\r\n                this.transformedElement = cpGroup;\r\n                if (layerElementParent) {\r\n                    layerElementParent.appendChild(this.transformedElement);\r\n                } else {\r\n                    this.baseElement = this.transformedElement;\r\n                }\r\n            } else {\r\n                this.layerElement.setAttribute('clip-path','url(' + locationHref + '#'+clipId+')');\r\n            }\r\n            \r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n\r\n    },\r\n    renderElement: function() {\r\n        if (this.finalTransform._matMdf) {\r\n            this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n        }\r\n        if (this.finalTransform._opMdf) {\r\n            this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n        }\r\n    },\r\n    destroyBaseElement: function() {\r\n        this.layerElement = null;\r\n        this.matteElement = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function() {\r\n        if (this.data.hd) {\r\n            return null;\r\n        }\r\n        return this.baseElement;\r\n    },\r\n    createRenderableComponents: function() {\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n        this.renderableEffectsManager = new SVGEffects(this);\r\n    },\r\n    setMatte: function(id) {\r\n        if (!this.matteElement) {\r\n            return;\r\n        }\r\n        this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\r\n    }\r\n};\r\nfunction IShapeElement(){\r\n}\r\n\r\nIShapeElement.prototype = {\r\n    addShapeToModifiers: function(data) {\r\n        var i, len = this.shapeModifiers.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapeModifiers[i].addShape(data);\r\n        }\r\n    },\r\n    isShapeInAnimatedModifiers: function(data) {\r\n        var i = 0, len = this.shapeModifiers.length;\r\n        while(i < len) {\r\n            if(this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    renderModifiers: function() {\r\n        if(!this.shapeModifiers.length){\r\n            return;\r\n        }\r\n        var i, len = this.shapes.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapes[i].sh.reset();\r\n        }\r\n\r\n        len = this.shapeModifiers.length;\r\n        for(i=len-1;i>=0;i-=1){\r\n            this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n        }\r\n    },\r\n    lcEnum: {\r\n        '1': 'butt',\r\n        '2': 'round',\r\n        '3': 'square'\r\n    },\r\n    ljEnum: {\r\n        '1': 'miter',\r\n        '2': 'round',\r\n        '3': 'bevel'\r\n    },\r\n    searchProcessedElement: function(elem){\r\n        var elements = this.processedElements;\r\n        var i = 0, len = elements.length;\r\n        while (i < len) {\r\n            if (elements[i].elem === elem) {\r\n                return elements[i].pos;\r\n            }\r\n            i += 1;\r\n        }\r\n        return 0;\r\n    },\r\n    addProcessedElement: function(elem, pos){\r\n        var elements = this.processedElements;\r\n        var i = elements.length;\r\n        while(i) {\r\n            i -= 1;\r\n            if (elements[i].elem === elem) {\r\n                elements[i].pos = pos;\r\n                return;\r\n            }\r\n        }\r\n        elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function(num) {\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n    }\r\n};\r\nfunction ITextElement(){\r\n}\r\n\r\nITextElement.prototype.initElement = function(data,globalData,comp){\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function(num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n        this.buildNewText();\r\n        this.textProperty._isFirstFrame = false;\r\n        this.textProperty._mdf = false;\r\n    }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\r\n    var j,jLen = shapes.length;\r\n    var k, kLen, pathNodes;\r\n    var shapeStr = '';\r\n    for(j=0;j<jLen;j+=1){\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n    }\r\n    return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function(newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function(_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function(_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if(documentData.ps){\r\n        matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n    }\r\n    matrixHelper.translate(0,-documentData.ls,0);\r\n    switch(documentData.j){\r\n        case 1:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]),0,0);\r\n            break;\r\n        case 2:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber] )/2,0,0);\r\n            break;\r\n    }\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\n\r\nITextElement.prototype.buildColor = function(colorData) {\r\n    return 'rgb(' + Math.round(colorData[0]*255) + ',' + Math.round(colorData[1]*255) + ',' + Math.round(colorData[2]*255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function(){\r\n    \r\n};\r\nfunction ICompElement(){}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function(data,globalData,comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    if(this.data.xt || !globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n    this.hide();\r\n};\r\n\r\n/*ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n};*/\r\n\r\nICompElement.prototype.prepareFrame = function(num){\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(!this.isInRange && !this.data.xt){\r\n        return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        if(timeRemapped === this.data.op){\r\n            timeRemapped = this.data.op - 1;\r\n        }\r\n        this.renderedFrame = timeRemapped;\r\n    } else {\r\n        this.renderedFrame = num/this.data.sr;\r\n    }\r\n    var i,len = this.elements.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(this.renderedFrame);\r\n    }\r\n    //This iteration needs to be backwards because of how expressions connect between each other\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n            if(this.elements[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i += 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.setElements = function(elems){\r\n    this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function(){\r\n    return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.destroy = function(){\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n};\r\n\r\nfunction IImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n    this.sourceRect = {top:0,left:0,width:this.assetData.w,height:this.assetData.h};\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function(){\r\n\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\r\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\r\n    this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n    \r\n    this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function() {\r\n\treturn this.sourceRect;\r\n}\r\nfunction ISolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function(){\r\n\r\n    var rect = createNS('rect');\r\n    ////rect.style.width = this.data.sw;\r\n    ////rect.style.height = this.data.sh;\r\n    ////rect.style.fill = this.data.sc;\r\n    rect.setAttribute('width',this.data.sw);\r\n    rect.setAttribute('height',this.data.sh);\r\n    rect.setAttribute('fill',this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n};\r\nfunction AudioElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n\tthis.initBaseData(data, globalData, comp);\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n\tvar assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.audio = this.globalData.audioController.createAudio(assetPath);\r\n    this._currentTime = 0;\r\n    this.globalData.audioController.addAudio(this);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function(num) {\r\n    this.prepareRenderableFrame(num, true);\r\n    this.prepareProperties(num, true);\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        this._currentTime = timeRemapped;\r\n    } else {\r\n        this._currentTime = num / this.data.sr;\r\n    }\r\n};\r\n\r\nextendPrototype([RenderableElement,BaseElement,FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function() {\r\n\tif (this.isInRange && this._canPlay) {\r\n\t\tif (!this._isPlaying) {\r\n\t\t\tthis.audio.play();\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate);\r\n\t\t\tthis._isPlaying = true;\r\n\t\t} else if (!this.audio.playing()\r\n\t\t\t|| Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n\t\t) {\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate)\r\n\t\t}\r\n\t}\r\n};\r\n\r\nAudioElement.prototype.show = function() {\r\n\t// this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function() {\r\n\tthis._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function(rateValue) {\r\n\tthis.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function(volumeValue) {\r\n\tthis.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function() {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function() {\r\n};\r\n\r\n\r\nfunction SVGShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function() {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function(){};\r\n\r\nSVGShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function(){\r\n    var i, len = this.shapes.length, shape;\r\n    var j, jLen = this.stylesList.length;\r\n    var style, count = 0;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n    for(j = 0; j < jLen; j += 1) {\r\n        style = this.stylesList[j];\r\n        areAnimated = false;\r\n        tempShapes.length = 0;\r\n        for(i = 0; i < len; i += 1) {\r\n            shape = this.shapes[i];\r\n            if(shape.styles.indexOf(style) !== -1) {\r\n                tempShapes.push(shape);\r\n                areAnimated = shape._isAnimated || areAnimated;\r\n            }\r\n        }\r\n        if(tempShapes.length > 1 && areAnimated) {\r\n            this.setShapesAsAnimated(tempShapes);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function(shapes){\r\n    var i, len = shapes.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        shapes[i].setAsAnimated();\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.createStyleElement = function(data, level){\r\n    //TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n\r\n    var pathElement = styleOb.pElem;\r\n    if(data.ty === 'st') {\r\n        elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'fl') {\r\n        elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'gf' || data.ty === 'gs') {\r\n        var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n        elementData = new gradientConstructor(this, data, styleOb);\r\n        this.globalData.defs.appendChild(elementData.gf);\r\n        if (elementData.maskId) {\r\n            this.globalData.defs.appendChild(elementData.ms);\r\n            this.globalData.defs.appendChild(elementData.of);\r\n            pathElement.setAttribute('mask','url(' + locationHref + '#' + elementData.maskId + ')');\r\n        }\r\n    }\r\n    \r\n    if(data.ty === 'st' || data.ty === 'gs') {\r\n        pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n        pathElement.setAttribute('stroke-linejoin',this.ljEnum[data.lj] || 'round');\r\n        pathElement.setAttribute('fill-opacity','0');\r\n        if(data.lj === 1) {\r\n            pathElement.setAttribute('stroke-miterlimit',data.ml);\r\n        }\r\n    }\r\n\r\n    if(data.r === 2) {\r\n        pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if(data.ln){\r\n        pathElement.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        pathElement.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = new ShapeGroupData();\r\n    if(data.ln){\r\n        elementData.gr.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        elementData.gr.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function(data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this,data,this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function(data, ownTransformers, level) {\r\n    var ty = 4;\r\n    if(data.ty === 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty === 'el'){\r\n        ty = 6;\r\n    }else if(data.ty === 'sr'){\r\n        ty = 7;\r\n    }\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this,data,ty,this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function(data, element) {\r\n    var i = 0, len = this.animatedContents.length;\r\n    while(i < len) {\r\n        if(this.animatedContents[i].element === element) {\r\n            return;\r\n        }\r\n        i += 1;\r\n    }\r\n    this.animatedContents.push({\r\n        fn: SVGElementsRenderer.createRenderFunction(data),\r\n        element: element,\r\n        data: data\r\n    });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function(elementData){\r\n    var arr = elementData.styles;\r\n    var j, jLen = this.stylesList.length;\r\n    for (j = 0; j < jLen; j += 1) {\r\n        if (!this.stylesList[j].closed) {\r\n            arr.push(this.stylesList[j]);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for( i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function(arr,itemsData,prevViewData,container, level, transformers, render){\r\n    var ownTransformers = [].concat(transformers);\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], styleOb, currentTransform, modifier, processedPos;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], level);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].style.pElem);\r\n            }\r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr, level + 1, ownTransformers, render);\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].gr);\r\n            }\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], container);\r\n            }\r\n            currentTransform = itemsData[i].transform;\r\n            ownTransformers.push(currentTransform);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n            }\r\n            this.setElementStyles(itemsData[i]);\r\n\r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownStyles.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownStyles[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function() {\r\n    this.renderModifiers();\r\n    var i, len = this.stylesList.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.stylesList[i].reset();\r\n    }\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n        if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n            if(this.stylesList[i].msElem){\r\n                this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n                //Adding M0 0 fixes same mask bug on all browsers\r\n                this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n            }\r\n            this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function() {\r\n    var i, len = this.animatedContents.length;\r\n    var animatedContent;\r\n    for(i = 0; i < len; i += 1) {\r\n        animatedContent = this.animatedContents[i];\r\n        if((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.destroy = function(){\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n};\r\n\r\nfunction CVContextData() {\r\n\tthis.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i, len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n    for(i=0;i<len;i+=1){\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function() {\r\n\tvar newLength = this._length * 2;\r\n\tvar currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n    for(i = this._length; i < newLength; i += 1) {\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function() {\r\n\tthis.cArrPos = 0;\r\n\tthis.cTr.reset();\r\n    this.cO = 1;\r\n};\r\nfunction CVBaseElement(){\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n    createElements: function(){},\r\n    initRendererElement: function(){},\r\n    createContainerElements: function(){\r\n        this.canvasContext = this.globalData.canvasContext;\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function(){},\r\n    setBlendMode: function(){\r\n        var globalData = this.globalData;\r\n        if(globalData.blendMode !== this.data.bm) {\r\n            globalData.blendMode = this.data.bm;\r\n            var blendModeValue = getBlendMode(this.data.bm);\r\n            globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new CVMaskElement(this.data, this);\r\n    },\r\n    hideElement: function(){\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n            this.hidden = true;\r\n        }\r\n    },\r\n    showElement: function(){\r\n        if (this.isInRange && !this.isTransparent){\r\n            this.hidden = false;\r\n            this._isFirstFrame = true;\r\n            this.maskManager._isFirstFrame = true;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        if (this.hidden || this.data.hd) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.setBlendMode();\r\n        var forceRealStack = this.data.ty === 0;\r\n        this.globalData.renderer.save(forceRealStack);\r\n        this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n        this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n        this.renderInnerContent();\r\n        this.globalData.renderer.restore(forceRealStack);\r\n        if(this.maskManager.hasMasks) {\r\n            this.globalData.renderer.restore(true);\r\n        }\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.canvasContext = null;\r\n        this.data = null;\r\n        this.globalData = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\nfunction CVImageElement(data, globalData, comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getImage(this.assetData);\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function(){\r\n\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n        var canvas = createTag('canvas');\r\n        canvas.width = this.assetData.w;\r\n        canvas.height = this.assetData.h;\r\n        var ctx = canvas.getContext('2d');\r\n\r\n        var imgW = this.img.width;\r\n        var imgH = this.img.height;\r\n        var imgRel = imgW / imgH;\r\n        var canvasRel = this.assetData.w/this.assetData.h;\r\n        var widthCrop, heightCrop;\r\n        var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n        if((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n            heightCrop = imgH;\r\n            widthCrop = heightCrop*canvasRel;\r\n        } else {\r\n            widthCrop = imgW;\r\n            heightCrop = widthCrop/canvasRel;\r\n        }\r\n        ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);\r\n        this.img = canvas;\r\n    }\r\n\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function(parentMatrix){\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function(){\r\n    this.img = null;\r\n};\r\nfunction CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate, this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.layers = null;\r\n    this.elements = null;\r\n};\r\n\r\nfunction CVMaskElement(data,element){\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i, len = this.masksProperties.length, hasMasks = false;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            hasMasks = true;\r\n        }\r\n        this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);\r\n    }\r\n    this.hasMasks = hasMasks;\r\n    if(hasMasks) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n    if(!this.hasMasks){\r\n        return;\r\n    }\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i, len = this.masksProperties.length;\r\n    var pt,pts,data;\r\n    ctx.beginPath();\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if (this.masksProperties[i].inv) {\r\n                ctx.moveTo(0, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, 0);\r\n            }\r\n            data = this.viewData[i].v;\r\n            pt = transform.applyToPointArray(data.v[0][0],data.v[0][1],0);\r\n            ctx.moveTo(pt[0], pt[1]);\r\n            var j, jLen = data._length;\r\n            for (j = 1; j < jLen; j++) {\r\n                pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n                ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n            }\r\n            pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n    }\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n};\r\nfunction CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = {opacity:1,_opMdf:false};\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function(data, transforms) {\r\n    var styleElem = {\r\n        data: data,\r\n        type: data.ty,\r\n        preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n        transforms: [],\r\n        elements: [],\r\n        closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n    if(data.ty == 'fl' || data.ty == 'st'){\r\n        elementData.c = PropertyFactory.getProp(this,data.c,1,255,this);\r\n        if(!elementData.c.k){\r\n            styleElem.co = 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\r\n        }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n        elementData.s = PropertyFactory.getProp(this,data.s,1,null,this);\r\n        elementData.e = PropertyFactory.getProp(this,data.e,1,null,this);\r\n        elementData.h = PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);\r\n        elementData.a = PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);\r\n        elementData.g = new GradientProperty(this,data.g,this);\r\n    }\r\n    elementData.o = PropertyFactory.getProp(this,data.o,0,0.01,this);\r\n    if(data.ty == 'st' || data.ty == 'gs') {\r\n        styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n        styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n        if(data.lj == 1) {\r\n            styleElem.ml = data.ml;\r\n        }\r\n        elementData.w = PropertyFactory.getProp(this,data.w,0,null,this);\r\n        if(!elementData.w.k){\r\n            styleElem.wi = elementData.w.v;\r\n        }\r\n        if(data.d){\r\n            var d = new DashProperty(this,data.d,'canvas', this);\r\n            elementData.d = d;\r\n            if(!elementData.d.k){\r\n                styleElem.da = elementData.d.dashArray;\r\n                styleElem.do = elementData.d.dashoffset[0];\r\n            }\r\n        }\r\n    } else {\r\n        styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = {\r\n        it: [],\r\n        prevViewData: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function(data) {\r\n    var elementData = {\r\n        transform : {\r\n            opacity: 1,\r\n            _opMdf:false,\r\n            key: this.transformsManager.getNewKey(),\r\n            op: PropertyFactory.getProp(this,data.o,0,0.01,this),\r\n            mProps: TransformPropertyFactory.getTransformProperty(this,data,this)\r\n        }\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function(data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    \r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function() {\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function(transform) {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.push(transform);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function() {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.pop();\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.closeStyles = function(styles) {\r\n    var i, len = styles.length, j, jLen;\r\n    for (i = 0; i < len; i += 1) {\r\n        styles[i].closed = true;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.searchShapes = function(arr,itemsData, prevViewData, shouldRender, transforms){\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], processedPos, modifier, currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._shouldRender = shouldRender;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            \r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                currentTransform = this.createTransformElement(arr[i]);\r\n                itemsData[i] = currentTransform;\r\n            }\r\n            ownTransforms.push(itemsData[i]);\r\n            this.addTransformToStyleList(itemsData[i]);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i]);\r\n            }\r\n            \r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        } else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                shouldRender = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function() {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {\r\n    var props, groupMatrix;\r\n    if(parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n        groupTransform.opacity = parentTransform.opacity;\r\n        groupTransform.opacity *= groupTransform.op.v;\r\n        groupTransform._opMdf = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function() {\r\n    var i, len = this.stylesList.length;\r\n    var j, jLen, k, kLen,elems,nodes, renderer = this.globalData.renderer, ctx = this.globalData.canvasContext, type, currentStyle;\r\n    for(i=0;i<len;i+=1){\r\n        currentStyle = this.stylesList[i];\r\n        type = currentStyle.type;\r\n\r\n        //Skipping style when\r\n        //Stroke width equals 0\r\n        //style should not be rendered (extra unused repeaters)\r\n        //current opacity equals 0\r\n        //global opacity equals 0\r\n        if(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0){\r\n            continue;\r\n        }\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n        if(type === 'st' || type === 'gs'){\r\n            ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n            ctx.lineWidth = currentStyle.wi;\r\n            ctx.lineCap = currentStyle.lc;\r\n            ctx.lineJoin = currentStyle.lj;\r\n            ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n            ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.beginPath();\r\n        }\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n        for(j=0;j<jLen;j+=1){\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.beginPath();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(currentStyle.da);\r\n                    ctx.lineDashOffset = currentStyle.do;\r\n                }\r\n            }\r\n            nodes = elems[j].trNodes;\r\n            kLen = nodes.length;\r\n\r\n            for(k=0;k<kLen;k+=1){\r\n                if(nodes[k].t == 'm'){\r\n                    ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);\r\n                }else if(nodes[k].t == 'c'){\r\n                    ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);\r\n                }else{\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.stroke();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(this.dashResetter);\r\n                }\r\n            }\r\n        }\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.fill(currentStyle.r);\r\n        }\r\n        renderer.restore();\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function(parentTransform,items,data,isMain){\r\n    var i, len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n    for(i=len;i>=0;i-=1){\r\n        if(items[i].ty == 'tr'){\r\n            groupTransform = data[i].transform;\r\n            this.renderShapeTransform(parentTransform, groupTransform);\r\n        }else if(items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr'){\r\n            this.renderPath(items[i],data[i]);\r\n        }else if(items[i].ty == 'fl'){\r\n            this.renderFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'st'){\r\n            this.renderStroke(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gf' || items[i].ty == 'gs'){\r\n            this.renderGradientFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gr'){\r\n            this.renderShape(groupTransform,items[i].it,data[i].it);\r\n        }else if(items[i].ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n    if(isMain){\r\n        this.drawLayer();\r\n    }\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function(styledShape, shape){\r\n    if(this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n        var shapeNodes = styledShape.trNodes;\r\n        var paths = shape.paths;\r\n        var i, len, j, jLen = paths._length;\r\n        shapeNodes.length = 0;\r\n        var groupTransformMat = styledShape.transforms.finalTransform;\r\n        for (j = 0; j < jLen; j += 1) {\r\n            var pathNodes = paths.shapes[j];\r\n            if(pathNodes && pathNodes.v){\r\n                len = pathNodes._length;\r\n                for (i = 1; i < len; i += 1) {\r\n                    if (i === 1) {\r\n                        shapeNodes.push({\r\n                            t: 'm',\r\n                            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                        });\r\n                    }\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n                    });\r\n                }\r\n                if (len === 1) {\r\n                    shapeNodes.push({\r\n                        t: 'm',\r\n                        p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                    });\r\n                }\r\n                if (pathNodes.c && len) {\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n                    });\r\n                    shapeNodes.push({\r\n                        t: 'z'\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        styledShape.trNodes = shapeNodes;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.renderPath = function(pathData,itemData){\r\n    if(pathData.hd !== true && pathData._shouldRender) {\r\n        var i, len = itemData.styledShapes.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n        }\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n        styleElem.co = 'rgb(' \r\n        + bm_floor(itemData.c.v[0]) + ',' \r\n        + bm_floor(itemData.c.v[1]) + ',' \r\n        + bm_floor(itemData.c.v[2]) + ')';\r\n    }\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n        styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    if(!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n        var ctx = this.globalData.canvasContext;\r\n        var grd;\r\n        var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n        if (styleData.t === 1) {\r\n            grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n        } else {\r\n            var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n            var dist = rad * percent;\r\n            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n            var grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n        }\r\n\r\n        var i, len = styleData.g.p;\r\n        var cValues = itemData.g.c;\r\n        var opacity = 1;\r\n\r\n        for (i = 0; i < len; i += 1){\r\n            if(itemData.g._hasOpacity && itemData.g._collapsable) {\r\n                opacity = itemData.g.o[i*2 + 1];\r\n            }\r\n            grd.addColorStop(cValues[i * 4] / 100,'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\r\n        }\r\n        styleElem.grd = grd;\r\n    }\r\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if(d && (d._mdf  || this._isFirstFrame)){\r\n        styleElem.da = d.dashArray;\r\n        styleElem.do = d.dashoffset[0];\r\n    }\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.wi = itemData.w.v;\r\n    }\r\n};\r\n\r\n\r\nCVShapeElement.prototype.destroy = function(){\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n};\r\n\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n};\r\nfunction CVTextElement(data, globalData, comp){\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n        fill: 'rgba(0,0,0,0)',\r\n        stroke: 'rgba(0,0,0,0)',\r\n        sWidth: 0,\r\n        fValue: ''\r\n    };\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n    var hasFill = false;\r\n    if(documentData.fc) {\r\n        hasFill = true;\r\n        this.values.fill = this.buildColor(documentData.fc);\r\n    }else{\r\n        this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n    if(documentData.sc){\r\n        hasStroke = true;\r\n        this.values.stroke = this.buildColor(documentData.sc);\r\n        this.values.sWidth = documentData.sw;\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i, len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px '+ this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length;\r\n    //this.tHelper.font = this.values.fValue;\r\n    var charData, shapeData, k, kLen, shapes, j, jLen, pathNodes, commands, pathArr, singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var cnt = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = charData && charData.data || {};\r\n        matrixHelper.reset();\r\n        if(singleShape && letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n        }\r\n\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        jLen = shapes.length;\r\n        matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n        if(singleShape){\r\n            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        }\r\n        commands = createSizedArray(jLen);\r\n        for(j=0;j<jLen;j+=1){\r\n            kLen = shapes[j].ks.k.i.length;\r\n            pathNodes = shapes[j].ks.k;\r\n            pathArr = [];\r\n            for(k=1;k<kLen;k+=1){\r\n                if(k==1){\r\n                    pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n                }\r\n                pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));\r\n            }\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n            commands[j] = pathArr;\r\n        }\r\n        if(singleShape){\r\n            xPos += letters[i].l;\r\n            xPos += trackingOffset;\r\n        }\r\n        if(this.textSpans[cnt]){\r\n            this.textSpans[cnt].elem = commands;\r\n        } else {\r\n            this.textSpans[cnt] = {elem: commands};\r\n        }\r\n        cnt +=1;\r\n    }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function(){\r\n    var ctx = this.canvasContext;\r\n    var finalMat = this.finalTransform.mat.props;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var  i,len, j, jLen, k, kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null, lastStroke = null, lastStrokeW = null, commands, pathArr;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            continue;\r\n        }\r\n        renderedLetter = renderedLetters[i];\r\n        if(renderedLetter){\r\n            this.globalData.renderer.save();\r\n            this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n            this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n        if(this.fill){\r\n            if(renderedLetter && renderedLetter.fc){\r\n                if(lastFill !== renderedLetter.fc){\r\n                    lastFill = renderedLetter.fc;\r\n                    ctx.fillStyle = renderedLetter.fc;\r\n                }\r\n            }else if(lastFill !== this.values.fill){\r\n                lastFill = this.values.fill;\r\n                ctx.fillStyle = this.values.fill;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.fill();\r\n            ///ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n        if(this.stroke){\r\n            if(renderedLetter && renderedLetter.sw){\r\n                if(lastStrokeW !== renderedLetter.sw){\r\n                    lastStrokeW = renderedLetter.sw;\r\n                    ctx.lineWidth = renderedLetter.sw;\r\n                }\r\n            }else if(lastStrokeW !== this.values.sWidth){\r\n                lastStrokeW = this.values.sWidth;\r\n                ctx.lineWidth = this.values.sWidth;\r\n            }\r\n            if(renderedLetter && renderedLetter.sc){\r\n                if(lastStroke !== renderedLetter.sc){\r\n                    lastStroke = renderedLetter.sc;\r\n                    ctx.strokeStyle = renderedLetter.sc;\r\n                }\r\n            }else if(lastStroke !== this.values.stroke){\r\n                lastStroke = this.values.stroke;\r\n                ctx.strokeStyle = this.values.stroke;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.stroke();\r\n            ///ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n        if(renderedLetter) {\r\n            this.globalData.renderer.restore();\r\n        }\r\n    }\r\n};\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function(){};\r\nvar animationManager = (function(){\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev){\r\n        var i = 0;\r\n        var animItem = ev.target;\r\n        while(i<len) {\r\n            if (registeredAnimations[i].animation === animItem) {\r\n                registeredAnimations.splice(i, 1);\r\n                i -= 1;\r\n                len -= 1;\r\n                if(!animItem.isPaused){\r\n                    subtractPlayingCount();\r\n                }\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function registerAnimation(element, animationData){\r\n        if(!element){\r\n            return null;\r\n        }\r\n        var i=0;\r\n        while(i<len){\r\n            if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\r\n                return registeredAnimations[i].animation;\r\n            }\r\n            i+=1;\r\n        }\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, element);\r\n        animItem.setData(element, animationData);\r\n        return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n        var i, len = registeredAnimations.length;\r\n        var animations = [];\r\n        for(i = 0; i < len; i += 1) {\r\n            animations.push(registeredAnimations[i].animation);\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    function addPlayingCount(){\r\n        playingAnimationsNum += 1;\r\n        activate();\r\n    }\r\n\r\n    function subtractPlayingCount(){\r\n        playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element){\r\n        animItem.addEventListener('destroy',removeElement);\r\n        animItem.addEventListener('_active',addPlayingCount);\r\n        animItem.addEventListener('_idle',subtractPlayingCount);\r\n        registeredAnimations.push({elem: element,animation:animItem});\r\n        len += 1;\r\n    }\r\n\r\n    function loadAnimation(params){\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, null);\r\n        animItem.setParams(params);\r\n        return animItem;\r\n    }\r\n\r\n\r\n    function setSpeed(val,animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setSpeed(val, animation);\r\n        }\r\n    }\r\n\r\n    function setDirection(val, animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setDirection(val, animation);\r\n        }\r\n    }\r\n\r\n    function play(animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.play(animation);\r\n        }\r\n    }\r\n    function resume(nowTime) {\r\n        var elapsedTime = nowTime - initTime;\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n        }\r\n        initTime = nowTime;\r\n        if(playingAnimationsNum && !_isFrozen) {\r\n            window.requestAnimationFrame(resume);\r\n        } else {\r\n            _stopped = true;\r\n        }\r\n    }\r\n\r\n    function first(nowTime){\r\n        initTime = nowTime;\r\n        window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.pause(animation);\r\n        }\r\n    }\r\n\r\n    function goToAndStop(value,isFrame,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\r\n        }\r\n    }\r\n\r\n    function stop(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.stop(animation);\r\n        }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.togglePause(animation);\r\n        }\r\n    }\r\n\r\n    function destroy(animation) {\r\n        var i;\r\n        for(i=(len-1);i>=0;i-=1){\r\n            registeredAnimations[i].animation.destroy(animation);\r\n        }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer){\r\n        var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n                  [].slice.call(document.getElementsByClassName('bodymovin')));\r\n        var i, len = animElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(renderer){\r\n                animElements[i].setAttribute('data-bm-type',renderer);\r\n            }\r\n            registerAnimation(animElements[i], animationData);\r\n        }\r\n        if(standalone && len === 0){\r\n            if(!renderer){\r\n                renderer = 'svg';\r\n            }\r\n            var body = document.getElementsByTagName('body')[0];\r\n            body.innerText = '';\r\n            var div = createTag('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.setAttribute('data-bm-type',renderer);\r\n            body.appendChild(div);\r\n            registerAnimation(div, animationData);\r\n        }\r\n    }\r\n\r\n    function resize(){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.resize();\r\n        }\r\n    }\r\n\r\n    function activate(){\r\n        if(!_isFrozen && playingAnimationsNum){\r\n            if(_stopped) {\r\n                window.requestAnimationFrame(first);\r\n                _stopped = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function freeze() {\r\n        _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n        _isFrozen = false;\r\n        activate();\r\n    }\r\n\r\n    function setVolume(val,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setVolume(val, animation);\r\n        }\r\n    }\r\n\r\n    function mute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.mute(animation);\r\n        }\r\n    }\r\n\r\n    function unmute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.unmute(animation);\r\n        }\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize;\r\n    //moduleOb.start = start;\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.setVolume = setVolume;\r\n    moduleOb.mute = mute;\r\n    moduleOb.unmute = unmute;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n}());\r\n\r\nvar AnimationItem = function () {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = subframeEnabled;\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.audioController = audioControllerFactory();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function(params) {\r\n    if(params.wrapper || params.container){\r\n        this.wrapper = params.wrapper || params.container;\r\n    }\r\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\r\n    switch(animType){\r\n        case 'canvas':\r\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n            break;\r\n        case 'svg':\r\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n            break;\r\n        default:\r\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n            break;\r\n    }\r\n    this.imagePreloader.setCacheType(animType);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n    if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true)\r\n    {\r\n        this.loop = true;\r\n    } else if (params.loop === false) {\r\n        this.loop = false;\r\n    } else {\r\n        this.loop = parseInt(params.loop);\r\n    }\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name :  '';\r\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n    if (params.audioFactory) {\r\n        this.audioController.setAudioFactory(params.audioFactory);\r\n    }\r\n    if (params.animationData) {\r\n        this.configAnimation(params.animationData);\r\n    } else if(params.path){\r\n\r\n        if( params.path.lastIndexOf('\\\\') !== -1){\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\r\n        } else {\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\r\n        }\r\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\r\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\r\n\r\n        assetLoader.load(params.path, this.configAnimation.bind(this), function() {\r\n            this.trigger('data_failed');\r\n        }.bind(this));\r\n    }\r\n\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    var params = {\r\n        wrapper: wrapper,\r\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n    if(loop === ''){\r\n    }else if(loop === 'false'){\r\n        params.loop = false;\r\n    }else if(loop === 'true'){\r\n        params.loop = true;\r\n    }else{\r\n        params.loop = parseInt(loop);\r\n    }\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== \"false\";\r\n\r\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if(prerender === 'false'){\r\n        params.prerender = false;\r\n    }\r\n    this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function(data) {\r\n    if(data.op > this.animationData.op){\r\n        this.animationData.op = data.op;\r\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n    var layers = this.animationData.layers;\r\n    var i, len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j, jLen = newLayers.length;\r\n    for(j=0;j<jLen;j+=1){\r\n        i = 0;\r\n        while(i<len){\r\n            if(layers[i].id == newLayers[j].id){\r\n                layers[i] = newLayers[j];\r\n                break;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n    if(data.chars || data.fonts){\r\n        this.renderer.globalData.fontManager.addChars(data.chars);\r\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n    if(data.assets){\r\n        len = data.assets.length;\r\n        for(i = 0; i < len; i += 1){\r\n            this.animationData.assets.push(data.assets[i]);\r\n        }\r\n    }\r\n    this.animationData.__complete = false;\r\n    dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n    this.renderer.includeLayers(data.layers);\r\n    if(expressionsPlugin){\r\n        expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\r\n        this.trigger('data_ready');\r\n        this.timeCompleted = this.totalFrames;\r\n        return;\r\n    }\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    assetLoader.load(segmentPath, this.includeLayers.bind(this), function() {\r\n        this.trigger('data_failed');\r\n    }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments) {\r\n        this.timeCompleted = this.totalFrames;\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function() {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded()\r\n}\r\n\r\nAnimationItem.prototype.preloadImages = function() {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n}\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n    if(!this.renderer){\r\n        return;\r\n    }\r\n    try {\r\n        this.animationData = animData;\r\n\r\n        if (this.initialSegment) {\r\n            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n            this.firstFrame = Math.round(this.initialSegment[0]);\r\n        } else {\r\n            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n            this.firstFrame = Math.round(this.animationData.ip);\r\n        }\r\n        this.renderer.configAnimation(animData);\r\n        if(!animData.assets){\r\n            animData.assets = [];\r\n        }\r\n\r\n        this.assets = this.animationData.assets;\r\n        this.frameRate = this.animationData.fr;\r\n        this.frameMult = this.animationData.fr / 1000;\r\n        this.renderer.searchExtraCompositions(animData.assets);\r\n        this.trigger('config_ready');\r\n        this.preloadImages();\r\n        this.loadSegments();\r\n        this.updaFrameModifier();\r\n        this.waitForFontsLoaded();\r\n        if (this.isPaused) {\r\n            this.audioController.pause();\r\n        }\r\n    } catch(error) {\r\n        this.triggerConfigError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function(){\r\n    if(!this.renderer) {\r\n        return;\r\n    }\r\n    if(this.renderer.globalData.fontManager.isLoaded){\r\n        this.checkLoaded();\r\n    }else{\r\n        setTimeout(this.waitForFontsLoaded.bind(this),20);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded \r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')\r\n    ) {\r\n        this.isLoaded = true;\r\n        dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n        if(expressionsPlugin){\r\n            expressionsPlugin.initExpressions(this);\r\n        }\r\n        this.renderer.initItems();\r\n        setTimeout(function() {\r\n            this.trigger('DOMLoaded');\r\n        }.bind(this), 0);\r\n        this.gotoFrame();\r\n        if(this.autoplay){\r\n            this.play();\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n    this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function(flag){\r\n    this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\r\n\r\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\r\n        this.currentFrame = this.timeCompleted;\r\n    }\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n    if(this.isLoaded === false){\r\n        return;\r\n    }\r\n    try {\r\n        this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch(error) {\r\n        this.triggerRenderFrameError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if (this.isPaused === true) {\r\n        this.isPaused = false;\r\n        this.audioController.resume();\r\n        if(this._idle){\r\n            this._idle = false;\r\n            this.trigger('_active');\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === false){\r\n        this.isPaused = true;\r\n        this._idle = true;\r\n        this.trigger('_idle');\r\n        this.audioController.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.play();\r\n    }else{\r\n        this.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(isFrame){\r\n        this.setCurrentRawFrameValue(value);\r\n    }else{\r\n        this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n    this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    this.goToAndStop(value, isFrame, name);\r\n    this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n        return;\r\n    }\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false;\r\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n        if (!this.loop || this.playCount === this.loop) {\r\n            if (!this.checkSegments(nextValue >  this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n                _isComplete = true;\r\n                nextValue = this.totalFrames - 1;\r\n            }\r\n        } else if (nextValue >= this.totalFrames) {\r\n            this.playCount += 1;\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n                this._completedLoop = true;\r\n                this.trigger('loopComplete');\r\n            }\r\n        } else {\r\n            this.setCurrentRawFrameValue(nextValue);\r\n        }\r\n    } else if(nextValue < 0) {\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n                this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n                if(!this._completedLoop) {\r\n                    this._completedLoop = true;\r\n                } else {\r\n                    this.trigger('loopComplete');\r\n                }\r\n            } else {\r\n                _isComplete = true;\r\n                nextValue = 0;\r\n            }\r\n        }\r\n    } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n    if (_isComplete) {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n        this.pause();\r\n        this.trigger('complete');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function(arr, offset){\r\n    this.playCount = 0;\r\n    if(arr[1] < arr[0]){\r\n        if(this.frameModifier > 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(-1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[0] - arr[1];\r\n        this.firstFrame = arr[1];\r\n        this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if(arr[1] > arr[0]){\r\n        if(this.frameModifier < 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[1] - arr[0];\r\n        this.firstFrame = arr[0];\r\n        this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n    this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init,end) {\r\n    var pendingFrame = -1;\r\n    if(this.isPaused) {\r\n        if (this.currentRawFrame + this.firstFrame < init) {\r\n            pendingFrame = init;\r\n        } else if (this.currentRawFrame + this.firstFrame > end) {\r\n            pendingFrame = end - init;\r\n        }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.timeCompleted = this.totalFrames = end - init;\r\n    if(pendingFrame !== -1) {\r\n        this.goToAndStop(pendingFrame,true);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n        this.segments.length = 0;\r\n    }\r\n    if (typeof arr[0] === 'object') {\r\n        var i, len = arr.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.segments.push(arr[i]);\r\n        }\r\n    } else {\r\n        this.segments.push(arr);\r\n    }\r\n    if (this.segments.length && forceFlag) {\r\n        this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n    if (this.isPaused) {\r\n        this.play();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip,this.animationData.op]);\r\n    //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n    if (forceFlag) {\r\n        this.checkSegments(0);\r\n    }\r\n};\r\nAnimationItem.prototype.checkSegments = function(offset) {\r\n    if (this.segments.length) {\r\n        this.adjustSegment(this.segments.shift(), offset);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n    if ((name && this.name != name) || !this.renderer) {\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\r\n    this.renderer = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n    return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n    if(name && this.name !== name){\r\n        return;\r\n    }\r\n    this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n    this.audioController.setRate(this.playSpeed * this.playDirection)\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n    if(assetData.e) {\r\n        path = assetData.p;\r\n    } else if(this.assetsPath){\r\n        var imagePath = assetData.p;\r\n        if(imagePath.indexOf('images/') !== -1){\r\n            imagePath = imagePath.split('/')[1];\r\n        }\r\n        path = this.assetsPath + imagePath;\r\n    } else {\r\n        path = this.path;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n    }\r\n    return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0, len = this.assets.length;\r\n    while (i < len) {\r\n        if(id == this.assets[i].id){\r\n            return this.assets[i];\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function(name){\r\n    if(this._cbs && this._cbs[name]){\r\n        switch(name){\r\n            case 'enterFrame':\r\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));\r\n                break;\r\n            case 'loopComplete':\r\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n                break;\r\n            case 'complete':\r\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\r\n                break;\r\n            case 'segmentStart':\r\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n                break;\r\n            case 'destroy':\r\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\r\n                break;\r\n            default:\r\n                this.triggerEvent(name);\r\n        }\r\n    }\r\n    if(name === 'enterFrame' && this.onEnterFrame){\r\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n    }\r\n    if(name === 'loopComplete' && this.onLoopComplete){\r\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n    }\r\n    if(name === 'complete' && this.onComplete){\r\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\r\n    }\r\n    if(name === 'segmentStart' && this.onSegmentStart){\r\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n    }\r\n    if(name === 'destroy' && this.onDestroy){\r\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function(nativeError) {\r\n\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.triggerConfigError = function(nativeError) {\r\n\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\nvar Expressions = (function(){\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n\r\n    function initExpressions(animation){\r\n\r\n    \tvar stackCount = 0;\r\n    \tvar registers = [];\r\n\r\n    \tfunction pushExpression() {\r\n\t\t\tstackCount += 1;\r\n    \t}\r\n\r\n    \tfunction popExpression() {\r\n\t\t\tstackCount -= 1;\r\n\t\t\tif (stackCount === 0) {\r\n\t\t\t\treleaseInstances();\r\n\t\t\t}\r\n    \t}\r\n\r\n    \tfunction registerExpressionProperty(expression) {\r\n    \t\tif (registers.indexOf(expression) === -1) {\r\n\t\t\t\tregisters.push(expression)\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfunction releaseInstances() {\r\n    \t\tvar i, len = registers.length;\r\n    \t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\t\tregisters[i].release();\r\n    \t\t}\r\n    \t\tregisters.length = 0;\r\n    \t}\r\n\r\n        animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n        animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n        animation.renderer.globalData.pushExpression = pushExpression;\r\n        animation.renderer.globalData.popExpression = popExpression;\r\n        animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n   return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\nvar ExpressionManager = (function(){\r\n    'use strict';\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n        return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n        return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n    }\r\n\r\n    function $bm_neg(a){\r\n        var tOfA = typeof a;\r\n        if(tOfA === 'number' || tOfA === 'boolean'  || a instanceof Number ){\r\n            return -a;\r\n        }\r\n        if($bm_isInstanceOfArray(a)){\r\n            var i, lenA = a.length;\r\n            var retArr = [];\r\n            for(i=0;i<lenA;i+=1){\r\n                retArr[i] = -a[i];\r\n            }\r\n            return retArr;\r\n        }\r\n        if (a.propType) {\r\n            return a.v;\r\n        }\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333,0,.833,.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167,0.167,.667,1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(.33,0,.667,1, 'easeInOut').get;\r\n\r\n    function sum(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(tOfA === 'string' || tOfB === 'string'){\r\n            return a + b;\r\n        }\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a + b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] + b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a + b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            \r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] + b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n    var add = sum;\r\n\r\n    function sub(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            if(tOfA === 'string') {\r\n                a = parseInt(a);\r\n            }\r\n            if(tOfB === 'string') {\r\n                b = parseInt(b);\r\n            }\r\n            return a - b;\r\n        }\r\n        if( $bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] - b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) &&  $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a - b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] - b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function mul(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a * b;\r\n        }\r\n\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] * b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a * b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function div(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a / b;\r\n        }\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] / b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a / b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n    function mod(a,b) {\r\n        if(typeof a === 'string') {\r\n            a = parseInt(a);\r\n        }\r\n        if(typeof b === 'string') {\r\n            b = parseInt(b);\r\n        }\r\n        return a % b;\r\n    }\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n        if(min > max){\r\n            var mm = max;\r\n            max = min;\r\n            min = mm;\r\n        }\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n        return val/degToRads;\r\n    }\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n        return val*degToRads;\r\n    }\r\n    var degrees_to_radians = radiansToDegrees;\r\n\r\n    var helperLengthArray = [0,0,0,0,0,0];\r\n\r\n    function length(arr1, arr2) {\r\n        if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n            arr2 = arr2 || 0;\r\n            return Math.abs(arr1 - arr2);\r\n        }\r\n        if(!arr2) {\r\n            arr2 = helperLengthArray;\r\n        }\r\n        var i, len = Math.min(arr1.length, arr2.length);\r\n        var addedLength = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n            addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n        }\r\n        return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n        return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n        var r = val[0]; var g = val[1]; var b = val[2];\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min){\r\n            h = s = 0; // achromatic\r\n        }else{\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max){\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n\r\n        return [h, s, l,val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    function hslToRgb(val){\r\n        var h = val[0];\r\n        var s = val[1];\r\n        var l = val[2];\r\n\r\n        var r, g, b;\r\n\r\n        if(s === 0){\r\n            r = g = b = l; // achromatic\r\n        }else{\r\n\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return [r, g , b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2){\r\n        if(value1 === undefined || value2 === undefined){\r\n            value1 = tMin;\r\n            value2 = tMax;\r\n            tMin = 0;\r\n            tMax = 1;\r\n        }\r\n        if(tMax < tMin) {\r\n            var _tMin = tMax;\r\n            tMax = tMin;\r\n            tMin = _tMin;\r\n        }\r\n        if(t <= tMin) {\r\n            return value1;\r\n        }else if(t >= tMax){\r\n            return value2;\r\n        }\r\n        var perc = tMax === tMin ? 0 : (t-tMin)/(tMax-tMin);\r\n        if(!value1.length){\r\n            return value1 + (value2-value1)*perc;\r\n        }\r\n        var i, len = value1.length;\r\n        var arr = createTypedArray('float32', len);\r\n        for(i=0;i<len;i+=1){\r\n            arr[i] = value1[i] + (value2[i]-value1[i])*perc;\r\n        }\r\n        return arr;\r\n    }\r\n    function random(min,max){\r\n        if(max === undefined){\r\n            if(min === undefined){\r\n                min = 0;\r\n                max = 1;\r\n            } else {\r\n                max = min;\r\n                min = undefined;\r\n            }\r\n        }\r\n        if(max.length){\r\n            var i, len = max.length;\r\n            if(!min){\r\n                min = createTypedArray('float32', len);\r\n            }\r\n            var arr = createTypedArray('float32', len);\r\n            var rnd = BMMath.random();\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = min[i] + rnd*(max[i]-min[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        if(min === undefined){\r\n            min = 0;\r\n        }\r\n        var rndm = BMMath.random();\r\n        return min + rndm*(max-min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n        var i, len = points.length;\r\n        var path = shape_pool.newElement();\r\n        path.setPathData(!!closed, len);\r\n        var arrPlaceholder = [0,0], inVertexPoint, outVertexPoint;\r\n        for(i = 0; i < len; i += 1) {\r\n            inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n            outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n            path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0] + points[i][0],outVertexPoint[1] + points[i][1],inVertexPoint[0] + points[i][0],inVertexPoint[1] + points[i][1],i,true);\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function initiateExpression(elem,data,property){\r\n        var val = data.x;\r\n        var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n        var _needsRandom = val.indexOf('random') !== -1;\r\n        var elemType = elem.data.ty;\r\n        var transform,$bm_transform,content,effect;\r\n        var thisProperty = property;\r\n        thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n        Object.defineProperty(thisProperty, 'value', {\r\n            get: function() {\r\n                return thisProperty.v\r\n            }\r\n        })\r\n        elem.comp.frameDuration = 1/elem.comp.globalData.frameRate;\r\n        elem.comp.displayStartTime = 0;\r\n        var inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        var outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        var width = elem.data.sw ? elem.data.sw : 0;\r\n        var height = elem.data.sh ? elem.data.sh : 0;\r\n        var name = elem.data.nm;\r\n        var loopIn, loop_in, loopOut, loop_out, smooth;\r\n        var toWorld,fromWorld,fromComp,toComp,fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp,mask,valueAtTime,velocityAtTime;\r\n        var __expression_functions = [];\r\n        if(data.xf) {\r\n            var i, len = data.xf.length;\r\n            for(i = 0; i < len; i += 1) {\r\n                __expression_functions[i] = eval('(function(){ return ' + data.xf[i] + '}())');\r\n            }\r\n        }\r\n\r\n        var scoped_bm_rt;\r\n        var expression_function = eval('[function _expression_function(){' + val+';scoped_bm_rt=$bm_rt}' + ']')[0];\r\n        var numKeys = property.kf ? data.k.length : 0;\r\n\r\n        var active = !this.data || this.data.hd !== true;\r\n\r\n        var wiggle = function wiggle(freq,amp){\r\n            var i,j, len = this.pv.length ? this.pv.length : 1;\r\n            var addedAmps = createTypedArray('float32', len);\r\n            freq = 5;\r\n            var iterations = Math.floor(time*freq);\r\n            i = 0;\r\n            j = 0;\r\n            while(i<iterations){\r\n                //var rnd = BMMath.random();\r\n                for(j=0;j<len;j+=1){\r\n                    addedAmps[j] += -amp + amp*2*BMMath.random();\r\n                    //addedAmps[j] += -amp + amp*2*rnd;\r\n                }\r\n                i += 1;\r\n            }\r\n            //var rnd2 = BMMath.random();\r\n            var periods = time*freq;\r\n            var perc = periods - Math.floor(periods);\r\n            var arr = createTypedArray('float32', len);\r\n            if(len>1){\r\n                for(j=0;j<len;j+=1){\r\n                    arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*BMMath.random())*perc;\r\n                    //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n                    //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n                }\r\n                return arr;\r\n            } else {\r\n                return this.pv + addedAmps[0] + (-amp + amp*2*BMMath.random())*perc;\r\n            }\r\n        }.bind(this);\r\n\r\n        if(thisProperty.loopIn) {\r\n            loopIn = thisProperty.loopIn.bind(thisProperty);\r\n            loop_in = loopIn;\r\n        }\r\n\r\n        if(thisProperty.loopOut) {\r\n            loopOut = thisProperty.loopOut.bind(thisProperty);\r\n            loop_out = loopOut;\r\n        }\r\n\r\n        if(thisProperty.smooth) {\r\n            smooth = thisProperty.smooth.bind(thisProperty);\r\n        }\r\n\r\n        function loopInDuration(type,duration){\r\n            return loopIn(type,duration,true);\r\n        }\r\n\r\n        function loopOutDuration(type,duration){\r\n            return loopOut(type,duration,true);\r\n        }\r\n\r\n        if(this.getValueAtTime) {\r\n            valueAtTime = this.getValueAtTime.bind(this);\r\n        }\r\n\r\n        if(this.getVelocityAtTime) {\r\n            velocityAtTime = this.getVelocityAtTime.bind(this);\r\n        }\r\n\r\n        var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n        function lookAt(elem1,elem2){\r\n            var fVec = [elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];\r\n            var pitch = Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;\r\n            var yaw = -Math.atan2(fVec[1],fVec[2])/degToRads;\r\n            return [yaw,pitch,0];\r\n        }\r\n\r\n        function easeOut(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function easeIn(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function ease(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            t = t > 1 ? 1 : t < 0 ? 0 : t;\r\n            var mult = fn(t);\r\n            if($bm_isInstanceOfArray(val1)) {\r\n                var i, len = val1.length;\r\n                var arr = createTypedArray('float32', len);\r\n                for (i = 0; i < len; i += 1) {\r\n                    arr[i] = (val2[i] - val1[i]) * mult + val1[i];\r\n                }\r\n                return arr;\r\n            } else {\r\n                return (val2 - val1) * mult + val1;\r\n            }\r\n        }\r\n\r\n        function nearestKey(time){\r\n            var i, len = data.k.length,index,keyTime;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                index = 0;\r\n                keyTime = 0;\r\n            } else {\r\n                index = -1;\r\n                time *= elem.comp.globalData.frameRate;\r\n                if (time < data.k[0].t) {\r\n                    index = 1;\r\n                    keyTime = data.k[0].t;\r\n                } else {\r\n                    for(i=0;i<len-1;i+=1){\r\n                        if(time === data.k[i].t){\r\n                            index = i + 1;\r\n                            keyTime = data.k[i].t;\r\n                            break;\r\n                        }else if(time>data.k[i].t && time<data.k[i+1].t){\r\n                            if(time-data.k[i].t > data.k[i+1].t - time){\r\n                                index = i + 2;\r\n                                keyTime = data.k[i+1].t;\r\n                            } else {\r\n                                index = i + 1;\r\n                                keyTime = data.k[i].t;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(index === -1){\r\n                        index = i + 1;\r\n                        keyTime = data.k[i].t;\r\n                    }\r\n                }\r\n                \r\n            }\r\n            var ob = {};\r\n            ob.index = index;\r\n            ob.time = keyTime/elem.comp.globalData.frameRate;\r\n            return ob;\r\n        }\r\n\r\n        function key(ind){\r\n            var ob, i, len;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                throw new Error('The property has no keyframe at index ' + ind);\r\n            }\r\n            ind -= 1;\r\n            ob = {\r\n                time: data.k[ind].t/elem.comp.globalData.frameRate,\r\n                value: []\r\n            };\r\n            var arr = data.k[ind].hasOwnProperty('s') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n            len = arr.length;\r\n            for(i=0;i<len;i+=1){\r\n                ob[i] = arr[i];\r\n                ob.value[i] = arr[i]\r\n            }\r\n            return ob;\r\n        }\r\n\r\n        function framesToTime(frames, fps) { \r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return frames / fps;\r\n        }\r\n\r\n        function timeToFrames(t, fps) {\r\n            if (!t && t !== 0) {\r\n                t = time;\r\n            }\r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return t * fps;\r\n        }\r\n\r\n        function seedRandom(seed){\r\n            BMMath.seedrandom(randSeed + seed);\r\n        }\r\n\r\n        function sourceRectAtTime() {\r\n            return elem.sourceRectAtTime();\r\n        }\r\n\r\n        function substring(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substring(init)\r\n                }\r\n                return value.substring(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function substr(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substr(init)\r\n                }\r\n                return value.substr(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function posterizeTime(framesPerSecond) {\r\n            time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond\r\n            value = valueAtTime(time)\r\n        }\r\n\r\n        var time, velocity, value, text, textIndex, textTotal, selectorValue;\r\n        var index = elem.data.ind;\r\n        var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n        var parent;\r\n        var randSeed = Math.floor(Math.random()*1000000);\r\n        var globalData = elem.globalData;\r\n        function executeExpression(_value) {\r\n            // globalData.pushExpression();\r\n            value = _value;\r\n            if (_needsRandom) {\r\n                seedRandom(randSeed);\r\n            }\r\n            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n                return value;\r\n            }\r\n            if(this.propType === 'textSelector'){\r\n                textIndex = this.textIndex;\r\n                textTotal = this.textTotal;\r\n                selectorValue = this.selectorValue;\r\n            }\r\n            if (!thisLayer) {\r\n                text = elem.layerInterface.text;\r\n                thisLayer = elem.layerInterface;\r\n                thisComp = elem.comp.compInterface;\r\n                toWorld = thisLayer.toWorld.bind(thisLayer);\r\n                fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n                fromComp = thisLayer.fromComp.bind(thisLayer);\r\n                toComp = thisLayer.toComp.bind(thisLayer);\r\n                mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n                fromCompToSurface = fromComp;\r\n            }\r\n            if (!transform) {\r\n                transform = elem.layerInterface(\"ADBE Transform Group\");\r\n                $bm_transform = transform;\r\n                if(transform) {\r\n                    anchorPoint = transform.anchorPoint;\r\n                    /*position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale;*/\r\n                }\r\n            }\r\n            \r\n            if (elemType === 4 && !content) {\r\n                content = thisLayer(\"ADBE Root Vectors Group\");\r\n            }\r\n            if (!effect) {\r\n                effect = thisLayer(4);\r\n            }\r\n            hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n            if (hasParent && !parent) {\r\n                parent = elem.hierarchy[0].layerInterface;\r\n            }\r\n            time = this.comp.renderedFrame/this.comp.globalData.frameRate;\r\n            if (needsVelocity) {\r\n                velocity = velocityAtTime(time);\r\n            }\r\n            expression_function();\r\n            this.frameExpressionId = elem.globalData.frameId;\r\n\r\n            //TODO: Check if it's possible to return on ShapeInterface the .v value\r\n            if (scoped_bm_rt.propType === \"shape\") {\r\n                scoped_bm_rt = scoped_bm_rt.v;\r\n            }\r\n            // globalData.popExpression();\r\n            return scoped_bm_rt;\r\n        }\r\n        return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    return ob;\r\n}());\r\nvar expressionHelpers = (function(){\r\n\r\n    function searchExpressions(elem,data,prop){\r\n        if(data.x){\r\n            prop.k = true;\r\n            prop.x = true;\r\n            prop.initiateExpression = ExpressionManager.initiateExpression;\r\n            prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));\r\n        }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n        var delta = -0.01;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var speed = 0;\r\n        if(v1.length){\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                speed += Math.pow(v2[i] - v1[i], 2);\r\n            }\r\n            speed = Math.sqrt(speed) * 100;\r\n        } else {\r\n            speed = 0;\r\n        }\r\n        return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n        if(this.vel !== undefined){\r\n            return this.vel;\r\n        }\r\n        var delta = -0.001;\r\n        //frameNum += this.elem.data.st;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var velocity;\r\n        if(v1.length){\r\n            velocity = createTypedArray('float32', v1.length);\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                //removing frameRate\r\n                //if needed, don't add it here\r\n                //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n                velocity[i] = (v2[i] - v1[i])/delta;\r\n            }\r\n        } else {\r\n            velocity = (v2 - v1)/delta;\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n        return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup){\r\n        this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n\treturn {\r\n\t\tsearchExpressions: searchExpressions,\r\n\t\tgetSpeedAtTime: getSpeedAtTime,\r\n\t\tgetVelocityAtTime: getVelocityAtTime,\r\n\t\tgetValueAtTime: getValueAtTime,\r\n\t\tgetStaticValueAtTime: getStaticValueAtTime,\r\n\t\tsetGroupProperty: setGroupProperty,\r\n\t}\r\n}());\r\n(function addPropertyDecorator() {\r\n\r\n    function loopOut(type,duration,durationFlag){\r\n        if(!this.k || !this.keyframes){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n        if(currentFrame<=lastKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, firstKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,lastKeyFrame - this.elem.data.ip);\r\n                } else {\r\n                    cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate*duration);\r\n                }\r\n                firstKeyFrame = lastKeyFrame - cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(iterations % 2 !== 0){\r\n                    return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = (endV[i]-initV[i])*repeats + current[i];\r\n                    }\r\n                    return ret;\r\n                }\r\n                return (endV-initV)*repeats + current;\r\n            } else if(type === 'continue'){\r\n                var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(lastValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = lastValue[i] + (lastValue[i]-nextLastValue[i])*((currentFrame - lastKeyFrame)/ this.comp.globalData.frameRate)/0.0005;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return lastValue + (lastValue-nextLastValue)*(((currentFrame - lastKeyFrame))/0.001);\r\n            }\r\n            return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function loopIn(type,duration, durationFlag) {\r\n        if(!this.k){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var firstKeyFrame = keyframes[0].t;\r\n        if(currentFrame>=firstKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, lastKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                lastKeyFrame = keyframes[duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,this.elem.data.op - firstKeyFrame);\r\n                } else {\r\n                    cycleDuration = Math.abs(elem.comp.globalData.frameRate*duration);\r\n                }\r\n                lastKeyFrame = firstKeyFrame + cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((firstKeyFrame - currentFrame)/cycleDuration);\r\n                if(iterations % 2 === 0){\r\n                    return this.getValueAtTime((((firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((firstKeyFrame - currentFrame)/cycleDuration)+1;\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = current[i]-(endV[i]-initV[i])*repeats;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return current-(endV-initV)*repeats;\r\n            } else if(type === 'continue'){\r\n                var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(firstValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = firstValue[i] + (firstValue[i]-nextFirstValue[i])*(firstKeyFrame - currentFrame)/0.001;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return firstValue + (firstValue-nextFirstValue)*(firstKeyFrame - currentFrame)/0.001;\r\n            }\r\n            return this.getValueAtTime(((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n        if (!this.k){\r\n            return this.pv;\r\n        }\r\n        width = (width || 0.4) * 0.5;\r\n        samples = Math.floor(samples || 5);\r\n        if (samples <= 1) {\r\n            return this.pv;\r\n        }\r\n        var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n        var initFrame = currentTime - width;\r\n        var endFrame = currentTime + width;\r\n        var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n        var i = 0, j = 0;\r\n        var value;\r\n        if (this.pv.length) {\r\n            value = createTypedArray('float32', this.pv.length);\r\n        } else {\r\n            value = 0;\r\n        }\r\n        var sampleValue;\r\n        while (i < samples) {\r\n            sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n            if(this.pv.length) {\r\n                for (j = 0; j < this.pv.length; j += 1) {\r\n                    value[j] += sampleValue[j];\r\n                }\r\n            } else {\r\n                value += sampleValue;\r\n            }\r\n            i += 1;\r\n        }\r\n        if(this.pv.length) {\r\n            for (j = 0; j < this.pv.length; j += 1) {\r\n                value[j] /= samples;\r\n            }\r\n        } else {\r\n            value /= samples;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n        if (!this._transformCachingAtTime) {\r\n            this._transformCachingAtTime = {\r\n                v: new Matrix(),\r\n            };\r\n        }\r\n        ////\r\n        var matrix = this._transformCachingAtTime.v;\r\n        matrix.cloneFromProps(this.pre.props);\r\n        if (this.appliedTransformations < 1) {\r\n            var anchor = this.a.getValueAtTime(time);\r\n            matrix.translate(-anchor[0], -anchor[1], anchor[2]);\r\n        }\r\n        if (this.appliedTransformations < 2) {\r\n            var scale = this.s.getValueAtTime(time);\r\n            matrix.scale(scale[0], scale[1], scale[2]);\r\n        }\r\n        if (this.sk && this.appliedTransformations < 3) {\r\n            var skew = this.sk.getValueAtTime(time);\r\n            var skewAxis = this.sa.getValueAtTime(time);\r\n            matrix.skewFromAxis(-skew, skewAxis);\r\n        }\r\n        if (this.r && this.appliedTransformations < 4) {\r\n            var rotation = this.r.getValueAtTime(time);\r\n            matrix.rotate(-rotation);\r\n        } else if (!this.r && this.appliedTransformations < 4){\r\n            var rotationZ = this.rz.getValueAtTime(time);\r\n            var rotationY = this.ry.getValueAtTime(time);\r\n            var rotationX = this.rx.getValueAtTime(time);\r\n            var orientation = this.or.getValueAtTime(time);\r\n            matrix.rotateZ(-rotationZ.v)\r\n            .rotateY(rotationY.v)\r\n            .rotateX(rotationX.v)\r\n            .rotateZ(-orientation[2])\r\n            .rotateY(orientation[1])\r\n            .rotateX(orientation[0]);\r\n        }\r\n        if (this.data.p && this.data.p.s) {\r\n            var positionX = this.px.getValueAtTime(time);\r\n            var positionY = this.py.getValueAtTime(time);\r\n            if (this.data.p.z) {\r\n                var positionZ = this.pz.getValueAtTime(time);\r\n                matrix.translate(positionX, positionY, -positionZ);\r\n            } else {\r\n                matrix.translate(positionX, positionY, 0);\r\n            }\r\n        } else {\r\n            var position = this.p.getValueAtTime(time);\r\n            matrix.translate(position[0], position[1], -position[2]);\r\n        }\r\n        return matrix;\r\n        ////\r\n    }\r\n\r\n    function getTransformStaticValueAtTime(time) {\r\n\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n    TransformPropertyFactory.getTransformProperty = function(elem, data, container) {\r\n        var prop = getTransformProperty(elem, data, container);\r\n        if(prop.dynamicProperties.length) {\r\n            prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n    PropertyFactory.getProp = function(elem,data,type, mult, container){\r\n        var prop = propertyGetProp(elem,data,type, mult, container);\r\n        //prop.getVelocityAtTime = getVelocityAtTime;\r\n        //prop.loopOut = loopOut;\r\n        //prop.loopIn = loopIn;\r\n        if(prop.kf){\r\n            prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        prop.loopOut = loopOut;\r\n        prop.loopIn = loopIn;\r\n        prop.smooth = smooth;\r\n        prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n        prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n        prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n        prop.propertyIndex = data.ix;\r\n        var value = 0;\r\n        if(type !== 0) {\r\n            value = createTypedArray('float32', data.a === 1 ?  data.k[0].s.length : data.k.length);\r\n        }\r\n        prop._cachingAtTime = {\r\n            lastFrame: initialDefaultFrame,\r\n            lastIndex: 0,\r\n            value: value\r\n        };\r\n        expressionHelpers.searchExpressions(elem,data,prop);\r\n        if(prop.k){\r\n            container.addDynamicProperty(prop);\r\n        }\r\n\r\n        return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n        //For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n        if (!this._cachingAtTime) {\r\n            this._cachingAtTime = {\r\n                shapeValue: shape_pool.clone(this.pv),\r\n                lastIndex: 0,\r\n                lastTime: initialDefaultFrame\r\n            };\r\n        }\r\n        \r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastTime) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n            this._cachingAtTime.lastTime = frameNum;\r\n            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n        }\r\n        return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions(){}\r\n    ShapeExpressions.prototype = {\r\n        vertices: function(prop, time){\r\n            if (this.k) {\r\n                this.getValue();\r\n            }\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            var i, len = shapePath._length;\r\n            var vertices = shapePath[prop];\r\n            var points = shapePath.v;\r\n            var arr = createSizedArray(len);\r\n            for(i = 0; i < len; i += 1) {\r\n                if(prop === 'i' || prop === 'o') {\r\n                    arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n                } else {\r\n                    arr[i] = [vertices[i][0], vertices[i][1]];\r\n                }\r\n                \r\n            }\r\n            return arr;\r\n        },\r\n        points: function(time){\r\n            return this.vertices('v', time);\r\n        },\r\n        inTangents: function(time){\r\n            return this.vertices('i', time);\r\n        },\r\n        outTangents: function(time){\r\n            return this.vertices('o', time);\r\n        },\r\n        isClosed: function(){\r\n            return this.v.c;\r\n        },\r\n        pointOnPath: function(perc, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            if(!this._segmentsLength) {\r\n                this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n            }\r\n\r\n            var segmentsLength = this._segmentsLength;\r\n            var lengths = segmentsLength.lengths;\r\n            var lengthPos = segmentsLength.totalLength * perc;\r\n            var i = 0, len = lengths.length;\r\n            var j = 0, jLen;\r\n            var accumulatedLength = 0, pt;\r\n            while(i < len) {\r\n                if(accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n                    var initIndex = i;\r\n                    var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n                    var segmentPerc = (lengthPos - accumulatedLength)/lengths[i].addedLength;\r\n                    pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n                    break;\r\n                } else {\r\n                    accumulatedLength += lengths[i].addedLength;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(!pt){\r\n                pt = shapePath.c ? [shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];\r\n            }\r\n            return pt;\r\n        },\r\n        vectorOnPath: function(perc, time, vectorType){\r\n            //perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n            perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\r\n            var pt1 = this.pointOnPath(perc, time);\r\n            var pt2 = this.pointOnPath(perc + 0.001, time);\r\n            var xLength = pt2[0] - pt1[0];\r\n            var yLength = pt2[1] - pt1[1];\r\n            var magnitude = Math.sqrt(Math.pow(xLength,2) + Math.pow(yLength,2));\r\n            if (magnitude === 0) {\r\n                return [0,0];\r\n            }\r\n            var unitVector = vectorType === 'tangent' ? [xLength/magnitude, yLength/magnitude] : [-yLength/magnitude, xLength/magnitude];\r\n            return unitVector;\r\n        },\r\n        tangentOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'tangent');\r\n        },\r\n        normalOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'normal');\r\n        },\r\n        setGroupProperty: expressionHelpers.setGroupProperty,\r\n        getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n    ShapePropertyFactory.getShapeProp = function(elem,data,type, arr, trims){\r\n        var prop = propertyGetShapeProp(elem,data,type, arr, trims);\r\n        prop.propertyIndex = data.ix;\r\n        prop.lock = false;\r\n        if(type === 3){\r\n            expressionHelpers.searchExpressions(elem,data.pt,prop);\r\n        } else if(type === 4){\r\n            expressionHelpers.searchExpressions(elem,data.ks,prop);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    };\r\n}());\r\n(function addDecorator() {\r\n\r\n    function searchExpressions(){\r\n        if(this.data.d.x){\r\n            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);\r\n            this.addEffect(this.getExpressionValue.bind(this));\r\n            return true;\r\n        }\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function(currentValue, text) {\r\n        var newValue = this.calculateExpression(text);\r\n        if(currentValue.t !== newValue) {\r\n            var newData = {};\r\n            this.copyData(newData, currentValue);\r\n            newData.t = newValue.toString();\r\n            newData.__complete = false;\r\n            return newData;\r\n        }\r\n        return currentValue;\r\n    }\r\n\r\n    TextProperty.prototype.searchProperty = function(){\r\n\r\n        var isKeyframed = this.searchKeyframes();\r\n        var hasExpressions = this.searchExpressions();\r\n        this.kf = isKeyframed || hasExpressions;\r\n        return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n    \r\n}());\r\nvar ShapePathInterface = (\r\n\r\n\tfunction() {\r\n\r\n\t\treturn function pathInterfaceFactory(shape,view,propertyGroup){\r\n\t\t    var prop = view.sh;\r\n\r\n\t\t    function interfaceFunction(val){\r\n\t\t        if(val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2){\r\n\t\t            return interfaceFunction.path;\r\n\t\t        }\r\n\t\t    }\r\n\r\n\t\t    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\t\t    prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n\t\t    Object.defineProperties(interfaceFunction, {\r\n\t\t        'path': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        'shape': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        '_name': { value: shape.nm },\r\n\t\t        'ix': { value: shape.ix },\r\n\t\t        'propertyIndex': { value: shape.ix },\r\n\t\t        'mn': { value: shape.mn },\r\n\t\t        'propertyGroup': {value: propertyGroup},\r\n\t\t    });\r\n\t\t    return interfaceFunction;\r\n\t\t}\r\n\t}()\r\n)\r\nvar propertyGroupFactory = (function() {\r\n\treturn function(interfaceFunction, parentPropertyGroup) {\r\n\t\treturn function(val) {\r\n\t\t\tval = val === undefined ? 1 : val\r\n\t\t\tif(val <= 0){\r\n\t\t\t    return interfaceFunction;\r\n\t\t\t} else{\r\n\t\t\t    return parentPropertyGroup(val-1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}())\r\nvar PropertyInterface = (function() {\r\n\treturn function(propertyName, propertyGroup) {\r\n\r\n\t\tvar interfaceFunction = {\r\n\t\t\t_name: propertyName\r\n\t\t}\r\n\r\n\t\tfunction _propertyGroup(val){\r\n\t\t    val = val === undefined ? 1 : val\r\n\t\t    if(val <= 0){\r\n\t\t        return interfaceFunction;\r\n\t\t    } else {\r\n\t\t        return propertyGroup(--val);\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\treturn _propertyGroup;\r\n\t}\r\n}())\r\nvar ShapeExpressionInterface = (function(){\r\n\r\n    function iterateElements(shapes,view, propertyGroup){\r\n        var arr = [];\r\n        var i, len = shapes ? shapes.length : 0;\r\n        for(i=0;i<len;i+=1){\r\n            if(shapes[i].ty == 'gr'){\r\n                arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'fl'){\r\n                arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'st'){\r\n                arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tm'){\r\n                arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tr'){\r\n                //arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'el'){\r\n                arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'sr'){\r\n                arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'sh'){\r\n                arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rc'){\r\n                arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rd'){\r\n                arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rp'){\r\n                arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape,view, propertyGroup){\r\n       var interfaces;\r\n       var interfaceFunction = function _interfaceFunction(value){\r\n           var i = 0, len = interfaces.length;\r\n            while(i<len){\r\n                if(interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value){\r\n                   return interfaces[i];\r\n                }\r\n                i+=1;\r\n            }\r\n            if(typeof value === 'number'){\r\n               return interfaces[value-1];\r\n            }\r\n       };\r\n\r\n       interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n       interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n       interfaceFunction.numProperties = interfaces.length;\r\n       var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n       interfaceFunction.transform = transformInterface;\r\n       interfaceFunction.propertyIndex = shape.cix;\r\n       interfaceFunction._name = shape.nm;\r\n\r\n       return interfaceFunction;\r\n   }\r\n\r\n    function groupInterfaceFactory(shape,view, propertyGroup){\r\n        var interfaceFunction = function _interfaceFunction(value){\r\n            switch(value){\r\n                case 'ADBE Vectors Group':\r\n                case 'Contents':\r\n                case 2:\r\n                    return interfaceFunction.content;\r\n                //Not necessary for now. Keeping them here in case a new case appears\r\n                //case 'ADBE Vector Transform Group':\r\n                //case 3:\r\n                default:\r\n                    return interfaceFunction.transform;\r\n            }\r\n        };\r\n        interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var content = contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);\r\n        var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n        interfaceFunction.content = content;\r\n        interfaceFunction.transform = transformInterface;\r\n        Object.defineProperty(interfaceFunction, '_name', {\r\n            get: function(){\r\n                return shape.nm;\r\n            }\r\n        });\r\n        //interfaceFunction.content = interfaceFunction;\r\n        interfaceFunction.numProperties = shape.np;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.nm = shape.nm;\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape,view,propertyGroup){\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape,view,propertyGroup){\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n        function addPropertyToDashOb(i) {\r\n            Object.defineProperty(dashOb, shape.d[i].nm, {\r\n                get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n            });\r\n        }\r\n        var i, len = shape.d ? shape.d.length : 0;\r\n        var dashOb = {};\r\n        for (i = 0; i < len; i += 1) {\r\n            addPropertyToDashOb(i);\r\n            view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            } else if(val === 'Stroke Width' || val === 'stroke width'){\r\n                return interfaceFunction.strokeWidth;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            'strokeWidth': {\r\n                get: ExpressionPropertyInterface(view.w)\r\n            },\r\n            'dash': {\r\n                get: function() {\r\n                    return dashOb;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(val){\r\n            if(val === shape.e.ix || val === 'End' || val === 'end'){\r\n                return interfaceFunction.end;\r\n            }\r\n            if(val === shape.s.ix){\r\n                return interfaceFunction.start;\r\n            }\r\n            if(val === shape.o.ix){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n        view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'start': {\r\n                get: ExpressionPropertyInterface(view.s)\r\n            },\r\n            'end': {\r\n                get: ExpressionPropertyInterface(view.e)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.a.ix === value || value === 'Anchor Point'){\r\n                return interfaceFunction.anchorPoint;\r\n            }\r\n            if(shape.o.ix === value || value === 'Opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n            if(shape.p.ix === value || value === 'Position'){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation'){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.s.ix === value || value === 'Scale'){\r\n                return interfaceFunction.scale;\r\n            }\r\n            if(shape.sk && shape.sk.ix === value || value === 'Skew'){\r\n                return interfaceFunction.skew;\r\n            }\r\n            if(shape.sa && shape.sa.ix === value || value === 'Skew Axis'){\r\n                return interfaceFunction.skewAxis;\r\n            }\r\n        }\r\n        \r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n        view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n        view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(view.transform.mProps.sk){\r\n            view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n            view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n        }\r\n        view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n            },\r\n            'anchorPoint': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n            },\r\n            'scale': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n            },\r\n            'skew': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n            },\r\n            'skewAxis': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.ty = 'tr';\r\n        interfaceFunction.mn = shape.mn;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.s.ix === value){\r\n                return interfaceFunction.size;\r\n            }\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.pt.ix === value){\r\n                return interfaceFunction.points;\r\n            }\r\n            if(shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value){\r\n                return interfaceFunction.outerRadius;\r\n            }\r\n            if(shape.os.ix === value){\r\n                return interfaceFunction.outerRoundness;\r\n            }\r\n            if(shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)){\r\n                return interfaceFunction.innerRadius;\r\n            }\r\n            if(shape.is && shape.is.ix === value){\r\n                return interfaceFunction.innerRoundness;\r\n            }\r\n\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n        prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n        prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(shape.ir){\r\n            prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n            prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n        }\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'points': {\r\n                get: ExpressionPropertyInterface(prop.pt)\r\n            },\r\n            'outerRadius': {\r\n                get: ExpressionPropertyInterface(prop.or)\r\n            },\r\n            'outerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.os)\r\n            },\r\n            'innerRadius': {\r\n                get: ExpressionPropertyInterface(prop.ir)\r\n            },\r\n            'innerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.is)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.roundness;\r\n            }\r\n            if(shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size'){\r\n                return interfaceFunction.size;\r\n            }\r\n\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'roundness': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape,view,propertyGroup){\r\n       \r\n        function interfaceFunction(value){\r\n            if(shape.r.ix === value || 'Round Corners 1' === value){\r\n                return interfaceFunction.radius;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'radius': {\r\n                get: ExpressionPropertyInterface(prop.rd)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.c.ix === value || 'Copies' === value){\r\n                return interfaceFunction.copies;\r\n            } else if(shape.o.ix === value || 'Offset' === value){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n        prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'copies': {\r\n                get: ExpressionPropertyInterface(prop.c)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(prop.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return function(shapes,view,propertyGroup) {\r\n        var interfaces;\r\n        function _interfaceFunction(value){\r\n            if(typeof value === 'number'){\r\n                value = value === undefined ? 1 : value\r\n                if (value === 0) {\r\n                    return propertyGroup\r\n                } else {\r\n                    return interfaces[value-1];\r\n                }\r\n            } else {\r\n                var i = 0, len = interfaces.length;\r\n                while(i<len){\r\n                    if(interfaces[i]._name === value){\r\n                        return interfaces[i];\r\n                    }\r\n                    i+=1;\r\n                }\r\n            }\r\n        }\r\n        _interfaceFunction.propertyGroup = propertyGroup;\r\n        interfaces = iterateElements(shapes, view, _interfaceFunction);\r\n        _interfaceFunction.numProperties = interfaces.length;\r\n        return _interfaceFunction;\r\n    };\r\n}());\r\n\r\nvar TextExpressionInterface = (function(){\r\n\treturn function(elem){\r\n        var _prevValue, _sourceText;\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Text Document\":\r\n                    return _thisLayerFunction.sourceText;\r\n            }\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"sourceText\", {\r\n            get: function(){\r\n                elem.textProperty.getValue()\r\n                var stringValue = elem.textProperty.currentData.t;\r\n                if(stringValue !== _prevValue) {\r\n                    elem.textProperty.currentData.t = _prevValue;\r\n                    _sourceText = new String(stringValue);\r\n                    //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n                    _sourceText.value = stringValue ? stringValue : new String(stringValue);\r\n                }\r\n                return _sourceText;\r\n            }\r\n        });\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar LayerExpressionInterface = (function (){\r\n    function toWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if (time !== undefined) {\r\n            toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n        }\r\n        return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n    }\r\n    function fromWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if (time !== undefined) {\r\n            toWorldMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        if (this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n    function fromComp(arr){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n        return [1,1,1,1];\r\n    }\r\n\r\n\r\n    return function(elem){\r\n\r\n        var transformInterface;\r\n\r\n        function _registerMaskInterface(maskManager){\r\n            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n        }\r\n        function _registerEffectsInterface(effects){\r\n            _thisLayerFunction.effect = effects;\r\n        }\r\n\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Root Vectors Group\":\r\n                case \"Contents\":\r\n                case 2:\r\n                    return _thisLayerFunction.shapeInterface;\r\n                case 1:\r\n                case 6:\r\n                case \"Transform\":\r\n                case \"transform\":\r\n                case \"ADBE Transform Group\":\r\n                    return transformInterface;\r\n                case 4:\r\n                case \"ADBE Effect Parade\":\r\n                case \"effects\":\r\n                case \"Effects\":\r\n                    return _thisLayerFunction.effect;\r\n                case \"ADBE Text Properties\":\r\n                    return _thisLayerFunction.textInterface;\r\n            }\r\n        }\r\n        _thisLayerFunction.toWorld = toWorld;\r\n        _thisLayerFunction.fromWorld = fromWorld;\r\n        _thisLayerFunction.toComp = toWorld;\r\n        _thisLayerFunction.fromComp = fromComp;\r\n        _thisLayerFunction.sampleImage = sampleImage;\r\n        _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n        _thisLayerFunction._elem = elem;\r\n        transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n        var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n        Object.defineProperties(_thisLayerFunction,{\r\n            hasParent: {\r\n                get: function(){\r\n                    return elem.hierarchy.length;\r\n                }\r\n            },\r\n            parent: {\r\n                get: function(){\r\n                    return elem.hierarchy[0].layerInterface;\r\n                }\r\n            },\r\n            rotation: getDescriptor(transformInterface, 'rotation'),\r\n            scale: getDescriptor(transformInterface, 'scale'),\r\n            position: getDescriptor(transformInterface, 'position'),\r\n            opacity: getDescriptor(transformInterface, 'opacity'),\r\n            anchorPoint: anchorPointDescriptor,\r\n            anchor_point: anchorPointDescriptor,\r\n            transform: {\r\n                get: function () {\r\n                    return transformInterface;\r\n                }\r\n            },\r\n            active: {\r\n                get: function(){\r\n                    return elem.isInRange;\r\n                }\r\n            }\r\n        });\r\n\r\n        _thisLayerFunction.startTime = elem.data.st;\r\n        _thisLayerFunction.index = elem.data.ind;\r\n        _thisLayerFunction.source = elem.data.refId;\r\n        _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n        _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n        _thisLayerFunction.inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction.outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction._name = elem.data.nm;\r\n\r\n        _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n        _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\n\r\nvar CompExpressionInterface = (function () {\r\n    return function(comp) {\r\n        function _thisLayerFunction(name) {\r\n            var i = 0, len = comp.layers.length;\r\n            while ( i < len) {\r\n                if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n                    return comp.elements[i].layerInterface;\r\n                }\r\n                i += 1;\r\n            }\r\n            return null;\r\n            //return {active:false};\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"_name\", { value: comp.data.nm });\r\n        _thisLayerFunction.layer = _thisLayerFunction;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n        _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n        _thisLayerFunction.displayStartTime = 0;\r\n        _thisLayerFunction.numLayers = comp.layers.length;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar TransformExpressionInterface = (function (){\r\n    return function(transform){\r\n        function _thisFunction(name){\r\n            switch(name){\r\n                case \"scale\":\r\n                case \"Scale\":\r\n                case \"ADBE Scale\":\r\n                case 6:\r\n                    return _thisFunction.scale;\r\n                case \"rotation\":\r\n                case \"Rotation\":\r\n                case \"ADBE Rotation\":\r\n                case \"ADBE Rotate Z\":\r\n                case 10:\r\n                    return _thisFunction.rotation;\r\n                case \"ADBE Rotate X\":\r\n                    return _thisFunction.xRotation;\r\n                case \"ADBE Rotate Y\":\r\n                    return _thisFunction.yRotation;\r\n                case \"position\":\r\n                case \"Position\":\r\n                case \"ADBE Position\":\r\n                case 2:\r\n                    return _thisFunction.position;\r\n                case 'ADBE Position_0':\r\n                    return _thisFunction.xPosition;\r\n                case 'ADBE Position_1':\r\n                    return _thisFunction.yPosition;\r\n                case 'ADBE Position_2':\r\n                    return _thisFunction.zPosition;\r\n                case \"anchorPoint\":\r\n                case \"AnchorPoint\":\r\n                case \"Anchor Point\":\r\n                case \"ADBE AnchorPoint\":\r\n                case 1:\r\n                    return _thisFunction.anchorPoint;\r\n                case \"opacity\":\r\n                case \"Opacity\":\r\n                case 11:\r\n                    return _thisFunction.opacity;\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(_thisFunction, \"rotation\", {\r\n            get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rx)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yRotation\", {\r\n            get: ExpressionPropertyInterface(transform.ry)\r\n        });\r\n        Object.defineProperty(_thisFunction, \"scale\", {\r\n            get: ExpressionPropertyInterface(transform.s)\r\n        });\r\n\r\n        if(transform.p) {\r\n            var _transformFactory = ExpressionPropertyInterface(transform.p);\r\n        } else {\r\n            var _px = ExpressionPropertyInterface(transform.px);\r\n            var _py = ExpressionPropertyInterface(transform.py);\r\n            var _pz;\r\n            if (transform.pz) {\r\n                _pz = ExpressionPropertyInterface(transform.pz);\r\n            }\r\n        }\r\n        Object.defineProperty(_thisFunction, \"position\", {\r\n            get: function () {\r\n                if(transform.p) {\r\n                    return _transformFactory();\r\n                } else {\r\n                    return [\r\n                        _px(),\r\n                        _py(),\r\n                        _pz ? _pz() : 0];\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xPosition\", {\r\n            get: ExpressionPropertyInterface(transform.px)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yPosition\", {\r\n            get: ExpressionPropertyInterface(transform.py)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zPosition\", {\r\n            get: ExpressionPropertyInterface(transform.pz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"anchorPoint\", {\r\n            get: ExpressionPropertyInterface(transform.a)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"opacity\", {\r\n            get: ExpressionPropertyInterface(transform.o)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skew\", {\r\n            get: ExpressionPropertyInterface(transform.sk)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skewAxis\", {\r\n            get: ExpressionPropertyInterface(transform.sa)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"orientation\", {\r\n            get: ExpressionPropertyInterface(transform.or)\r\n        });\r\n\r\n        return _thisFunction;\r\n    };\r\n}());\r\nvar ProjectInterface = (function (){\r\n\r\n    function registerComposition(comp){\r\n        this.compositions.push(comp);\r\n    }\r\n\r\n    return function(){\r\n        function _thisProjectFunction(name){\r\n            var i = 0, len = this.compositions.length;\r\n            while(i<len){\r\n                if(this.compositions[i].data && this.compositions[i].data.nm === name){\r\n                    if(this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n                        this.compositions[i].prepareFrame(this.currentFrame);\r\n                    }\r\n                    return this.compositions[i].compInterface;\r\n                }\r\n                i+=1;\r\n            }\r\n        }\r\n\r\n        _thisProjectFunction.compositions = [];\r\n        _thisProjectFunction.currentFrame = 0;\r\n\r\n        _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n\r\n\r\n        return _thisProjectFunction;\r\n    };\r\n}());\r\nvar EffectsExpressionInterface = (function (){\r\n    var ob = {\r\n        createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup){\r\n        if(elem.effectsManager){\r\n\r\n            var effectElements = [];\r\n            var effectsData = elem.data.ef;\r\n            var i, len = elem.effectsManager.effectElements.length;\r\n            for(i=0;i<len;i+=1){\r\n                effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));\r\n            }\r\n\r\n            var effects = elem.data.ef || [];\r\n            var groupInterface = function(name){\r\n                i = 0, len = effects.length;\r\n                while(i<len) {\r\n                    if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                        return effectElements[i];\r\n                    }\r\n                    i += 1;\r\n                }\r\n            };\r\n            Object.defineProperty(groupInterface, 'numProperties', {\r\n                get: function(){\r\n                    return effects.length;\r\n                }\r\n            });\r\n            return groupInterface\r\n        }\r\n    }\r\n\r\n    function createGroupInterface(data,elements, propertyGroup, elem){\r\n\r\n        function groupInterface(name){\r\n            var effects = data.ef, i = 0, len = effects.length;\r\n            while(i<len) {\r\n                if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                    if(effects[i].ty === 5){\r\n                        return effectElements[i];\r\n                    } else {\r\n                        return effectElements[i]();\r\n                    }\r\n                }\r\n                i += 1;\r\n            }\r\n            throw new Error();\r\n        };\r\n        var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n        var effectElements = [];\r\n        var i, len = data.ef.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(data.ef[i].ty === 5){\r\n                effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup, elem));\r\n            } else {\r\n                effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty, elem, _propertyGroup));\r\n            }\r\n        }\r\n\r\n        if(data.mn === 'ADBE Color Control'){\r\n            Object.defineProperty(groupInterface, 'color', {\r\n                get: function(){\r\n                    return effectElements[0]();\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperties(groupInterface, {\r\n            numProperties: {\r\n                get: function(){\r\n                    return data.np;\r\n                }\r\n            },\r\n            _name: { value: data.nm },\r\n            propertyGroup: {value: _propertyGroup},\r\n        });\r\n        groupInterface.active = groupInterface.enabled = data.en !== 0;\r\n        return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup){\r\n        var expressionProperty = ExpressionPropertyInterface(element.p);\r\n        function interfaceFunction(){\r\n            if(type === 10){\r\n                return elem.comp.compInterface(element.p.v);\r\n            }\r\n            return expressionProperty();\r\n        }\r\n\r\n        if(element.p.setGroupProperty) {\r\n            element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n        }\r\n\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n\r\n}());\r\nvar MaskManagerInterface = (function(){\r\n\r\n\tfunction MaskInterface(mask, data){\r\n\t\tthis._mask = mask;\r\n\t\tthis._data = data;\r\n\t}\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n        get: function(){\r\n            if(this._mask.prop.k){\r\n                this._mask.prop.getValue();\r\n            }\r\n            return this._mask.prop;\r\n        }\r\n    });\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n        get: function(){\r\n            if(this._mask.op.k){\r\n                this._mask.op.getValue();\r\n            }\r\n            return this._mask.op.v * 100;\r\n        }\r\n    });\r\n\r\n\tvar MaskManager = function(maskManager, elem){\r\n\t\tvar _maskManager = maskManager;\r\n\t\tvar _elem = elem;\r\n\t\tvar _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\t\tvar i, len = maskManager.viewData.length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t_masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n\t\t}\r\n\r\n\t\tvar maskFunction = function(name){\r\n\t\t\ti = 0;\r\n\t\t    while(i<len){\r\n\t\t        if(maskManager.masksProperties[i].nm === name){\r\n\t\t            return _masksInterfaces[i];\r\n\t\t        }\r\n\t\t        i += 1;\r\n\t\t    }\r\n\t\t};\r\n\t\treturn maskFunction;\r\n\t};\r\n\treturn MaskManager;\r\n}());\r\n\r\nvar ExpressionPropertyInterface = (function() {\r\n\r\n    var defaultUnidimensionalValue = {pv:0, v:0, mult: 1}\r\n    var defaultMultidimensionalValue = {pv:[0,0,0], v:[0,0,0], mult: 1}\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n        Object.defineProperty(expressionValue, 'velocity', {\r\n            get: function(){\r\n                return property.getVelocityAtTime(property.comp.currentFrame);\r\n            }\r\n        });\r\n        expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n        expressionValue.key = function(pos) {\r\n            if (!expressionValue.numKeys) {\r\n                return 0;\r\n            } else {\r\n                var value = '';\r\n                if ('s' in property.keyframes[pos-1]) {\r\n                    value = property.keyframes[pos-1].s;\r\n                } else if ('e' in property.keyframes[pos-2]) {\r\n                    value = property.keyframes[pos-2].e;\r\n                } else {\r\n                    value = property.keyframes[pos-2].s;\r\n                }\r\n                var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value);\r\n                valueProp.time = property.keyframes[pos-1].t / property.elem.comp.globalData.frameRate;\r\n                valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n                return valueProp;\r\n            }\r\n        };\r\n        expressionValue.valueAtTime = property.getValueAtTime;\r\n        expressionValue.speedAtTime = property.getSpeedAtTime;\r\n        expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n        expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultUnidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var val = property.pv * mult;\r\n        var expressionValue = new Number(val);\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            val = property.v * mult;\r\n            if(expressionValue.value !== val) {\r\n                expressionValue = new Number(val);\r\n                expressionValue.value = val;\r\n                completeProperty(expressionValue, property, 'unidimensional');\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultMultidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var len = property.pv.length;\r\n        var expressionValue = createTypedArray('float32', len);\r\n        var arrValue = createTypedArray('float32', len);\r\n        expressionValue.value = arrValue;\r\n        completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            for (var i = 0; i < len; i += 1) {\r\n                expressionValue[i] = arrValue[i] = property.v[i] * mult;\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    //TODO: try to avoid using this getter\r\n    function defaultGetter() {\r\n        return defaultUnidimensionalValue;\r\n    }\r\n    \r\n    return function(property) {\r\n        if(!property) {\r\n            return defaultGetter;\r\n        } else if (property.propType === 'unidimensional') {\r\n            return UnidimensionalPropertyInterface(property);\r\n        } else {\r\n            return MultidimensionalPropertyInterface(property);\r\n        }\r\n    }\r\n}());\r\n\r\n(function(){\r\n\r\n    var TextExpressionSelectorProp = (function(){\r\n\r\n        function getValueProxy(index,total){\r\n            this.textIndex = index+1;\r\n            this.textTotal = total;\r\n            this.v = this.getValue() * this.mult;\r\n            return this.v;\r\n        }\r\n\r\n        return function TextExpressionSelectorProp(elem,data){\r\n            this.pv = 1;\r\n            this.comp = elem.comp;\r\n            this.elem = elem;\r\n            this.mult = 0.01;\r\n            this.propType = 'textSelector';\r\n            this.textTotal = data.totalChars;\r\n            this.selectorValue = 100;\r\n            this.lastValue = [1,1,1];\r\n            this.k = true;\r\n            this.x = true;\r\n            this.getValue = ExpressionManager.initiateExpression.bind(this)(elem,data,this);\r\n            this.getMult = getValueProxy;\r\n            this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n            if(this.kf){\r\n                this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n            } else {\r\n                this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n            }\r\n            this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        };\r\n    }());\r\n\r\n\tvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n\tTextSelectorProp.getTextSelectorProp = function(elem, data,arr){\r\n\t    if(data.t === 1){\r\n\t        return new TextExpressionSelectorProp(elem, data,arr);\r\n\t    } else {\r\n\t        return propertyGetTextProp(elem,data,arr);\r\n\t    }\r\n\t};\r\n}());\r\nfunction SliderEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction AngleEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction ColorEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction PointEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction LayerIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction MaskIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction CheckboxEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction NoValueEffect(){\r\n    this.p = {};\r\n}\r\nfunction EffectsManager(){}\r\nfunction EffectsManager(data,element){\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i,len = effects.length;\r\n    var effectItem;\r\n    for(i=0;i<len;i++) {\r\n        effectItem = new GroupEffect(effects[i],element);\r\n        this.effectElements.push(effectItem);\r\n    }\r\n}\r\n\r\nfunction GroupEffect(data,element){\r\n    this.init(data,element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function(data,element){\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i, len = this.data.ef.length;\r\n    var eff, effects = this.data.ef;\r\n    for(i=0;i<len;i+=1){\r\n        eff = null;\r\n        switch(effects[i].ty){\r\n            case 0:\r\n                eff = new SliderEffect(effects[i],element,this);\r\n                break;\r\n            case 1:\r\n                eff = new AngleEffect(effects[i],element,this);\r\n                break;\r\n            case 2:\r\n                eff = new ColorEffect(effects[i],element,this);\r\n                break;\r\n            case 3:\r\n                eff = new PointEffect(effects[i],element,this);\r\n                break;\r\n            case 4:\r\n            case 7:\r\n                eff = new CheckboxEffect(effects[i],element,this);\r\n                break;\r\n            case 10:\r\n                eff = new LayerIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 11:\r\n                eff = new MaskIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 5:\r\n                eff = new EffectsManager(effects[i],element,this);\r\n                break;\r\n            //case 6:\r\n            default:\r\n                eff = new NoValueEffect(effects[i],element,this);\r\n                break;\r\n        }\r\n        if(eff) {\r\n            this.effectElements.push(eff);\r\n        }\r\n    }\r\n};\r\n\r\nvar lottie = {};\r\n\r\nvar _isFrozen = false;\r\n\r\nfunction setLocationHref (href) {\r\n    locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n    if (standalone === true) {\r\n        animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n        animationManager.searchAnimations();\r\n    }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n    subframeEnabled = flag;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n    if (standalone === true) {\r\n        params.animationData = JSON.parse(animationData);\r\n    }\r\n    return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n    if (typeof value === 'string') {\r\n        switch (value) {\r\n            case 'high':\r\n                defaultCurveSegments = 200;\r\n                break;\r\n            case 'medium':\r\n                defaultCurveSegments = 50;\r\n                break;\r\n            case 'low':\r\n                defaultCurveSegments = 10;\r\n                break;\r\n        }\r\n    } else if (!isNaN(value) && value > 1) {\r\n        defaultCurveSegments = value;\r\n    }\r\n    if (defaultCurveSegments >= 50) {\r\n        roundValues(false);\r\n    } else {\r\n        roundValues(true);\r\n    }\r\n}\r\n\r\nfunction inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n        expressionsPlugin = plugin;\r\n    }\r\n}\r\n\r\nfunction getFactory(name) {\r\n    switch (name) {\r\n        case \"propertyFactory\":\r\n            return PropertyFactory;\r\n        case \"shapePropertyFactory\":\r\n            return ShapePropertyFactory;\r\n        case \"matrix\":\r\n            return Matrix;\r\n    }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n//lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.3';\r\n\r\nfunction checkReady() {\r\n    if (document.readyState === \"complete\") {\r\n        clearInterval(readyStateCheckInterval);\r\n        searchAnimations();\r\n    }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n    for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split('=');\r\n        if (decodeURIComponent(pair[0]) == variable) {\r\n            return decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nif (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n        src: ''\r\n    };\r\n    var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\r\n    renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","import { CoreAnimator } from '../core.animator.js';\r\nimport { $ } from '../../utilities/$.utility.js';\r\nexport class AnimationFactory {\r\n    constructor(thisArg) {\r\n        this.ctx = thisArg;\r\n    }\r\n    create(options) {\r\n        const baseObject = {\r\n            type: undefined,\r\n            index: undefined,\r\n            data: undefined,\r\n            ...options,\r\n        };\r\n        const baseItemsObject = {\r\n            __caller: this.ctx.constructor,\r\n            __container: options.type === 'null' || options.type === 'meta' ? null : this.createAndReturnNewContainerDom(options),\r\n            __framesBeforeCurrent: this.ctx.getTotalFramesBeforeIndex(options.index || 0),\r\n            uid: Math.round(performance.now()).toString(),\r\n            domContent: null,\r\n            offset: 0,\r\n            disabled: false,\r\n            object: {},\r\n            respectDevicePixelRatio: true,\r\n            totalFrames: null,\r\n            bezier: [0, 0, 1, 1],\r\n            height: {\r\n                maximum: null,\r\n                minimum: null,\r\n            },\r\n            width: {\r\n                maximum: null,\r\n                minimum: null,\r\n            },\r\n            onFrame: () => { },\r\n            onVisible: () => { },\r\n            onHidden: () => { },\r\n            onRedraw: () => { },\r\n            ...options.items,\r\n        };\r\n        return {\r\n            ...baseObject,\r\n            items: baseItemsObject,\r\n        };\r\n    }\r\n    createAndReturnNewContainerDom(animationObject) {\r\n        const animatorContainer = $(document.createElement('div'));\r\n        animatorContainer.addClass([\r\n            CoreAnimator.PREFIX,\r\n            'container',\r\n            Math.round(performance.now()).toString(),\r\n        ]);\r\n        if (animationObject\r\n            .items\r\n            .invert === true) {\r\n            animatorContainer.addClass('invert');\r\n        }\r\n        this.ctx.activate(animatorContainer);\r\n        this.ctx.animatorContainersWrapper.appendChild(animatorContainer);\r\n        this.ctx.animatorContainers.push(animatorContainer);\r\n        return animatorContainer;\r\n    }\r\n}\r\n//# sourceMappingURL=animation.factory.js.map","import lottie from 'lottie-web/build/player/lottie_canvas';\r\nimport { CoreAnimator } from '../../animators.js';\r\nimport { $ } from '../../utilities/$.utility.js';\r\nexport class LottieFactory {\r\n    constructor(thisArg) {\r\n        this.ctx = thisArg;\r\n    }\r\n    async create(animationObject) {\r\n        const className = animationObject.items.uid;\r\n        const animation = lottie.loadAnimation({\r\n            container: animationObject.items.__container,\r\n            renderer: 'canvas',\r\n            loop: true,\r\n            autoplay: true,\r\n            animationData: animationObject.data,\r\n            rendererSettings: {\r\n                dpr: animationObject.items.respectDevicePixelRatio === false\r\n                    ? 1\r\n                    : this.ctx.dpr * this.ctx.resolutionMultiplier,\r\n                preserveAspectRatio: 'xMidYMid slice',\r\n                className: `${CoreAnimator.PREFIX} ${className} hidden`,\r\n            },\r\n        });\r\n        if (!animation) {\r\n            await new Promise((resolve) => $(animation).on('DOMLoaded', () => resolve));\r\n        }\r\n        const domContent = $(`.${className}`);\r\n        const totalFrames = (animationObject.items.totalFrames\r\n            || animation.getDuration(true));\r\n        const onFrame = (animationItem, frame) => {\r\n            animationItem\r\n                .items\r\n                .object\r\n                .lottie\r\n                .animation\r\n                .goToAndStop(frame, true);\r\n        };\r\n        const lottieObject = {\r\n            animation,\r\n            totalFrames,\r\n            domContent,\r\n            onFrame,\r\n        };\r\n        lottieObject.animation.goToAndStop(-1, true);\r\n        this.onLottieObjectCreated(lottieObject);\r\n        return lottieObject;\r\n    }\r\n    onLottieObjectCreated(lottieObject) {\r\n        const lottieObjectDom = lottieObject.domContent;\r\n        lottieObjectDom.css({\r\n            width: '',\r\n            height: '',\r\n            position: 'absolute',\r\n        });\r\n        lottieObjectDom.width = 1;\r\n        lottieObjectDom.height = 1;\r\n    }\r\n}\r\n//# sourceMappingURL=lottie.factory.js.map","import { CoreAnimator } from '../../animators.js';\r\nimport { $ } from '../../utilities.js';\r\nexport class SolidFactory {\r\n    constructor(thisArg) {\r\n        this.ctx = thisArg;\r\n    }\r\n    async create(animationObject) {\r\n        const { uid, __container, } = animationObject.items;\r\n        const className = uid;\r\n        const domContent = this.createAndReturnDomContent(className);\r\n        __container.appendChild(domContent);\r\n        const solidObject = {\r\n            domContent,\r\n        };\r\n        return solidObject;\r\n    }\r\n    createAndReturnDomContent(className) {\r\n        const domContent = $(document.createElement('div'));\r\n        domContent.css({\r\n            width: '100vw',\r\n            height: '100vh',\r\n            background: 'white',\r\n            position: 'absolute',\r\n        });\r\n        domContent.addClass([\r\n            CoreAnimator.PREFIX,\r\n            'solid',\r\n            className,\r\n            'hidden',\r\n        ]);\r\n        return domContent;\r\n    }\r\n}\r\n//# sourceMappingURL=solid.factory.js.map","import lottie from 'lottie-web/build/player/lottie_canvas';\r\nimport { LottieFactory, SolidFactory, AnimationFactory, } from '../animators.factories';\r\nimport { WindowUtility } from '../utilities/window.utility';\r\nimport { $ } from '../utilities/$.utility';\r\nimport { BezierUtility } from '../utilities/bezier.utility';\r\nexport class CoreAnimator {\r\n    constructor() {\r\n        this.mWindowUtility = new WindowUtility();\r\n        this.uid = Math.round(performance.now()).toString();\r\n        this.currentFrame = 0;\r\n        this.totalFrames = 0;\r\n        this.animations = [];\r\n        this.metaAnimations = [];\r\n        this.animatorContainers = [];\r\n        this.__animatorContainersWrapper = null;\r\n        this.visibleAnimations = [];\r\n        this.dpr = Math.max(window.devicePixelRatio / 2, 1);\r\n        this.resolutionMultiplier = 1;\r\n        this.rafId = null;\r\n        this.maxAttributeCache = {};\r\n        this.minAttributeCache = {};\r\n        $(window).on('load resize', () => window.requestAnimationFrame(() => {\r\n            this.onWindowResize.call(this);\r\n            if (this.visibleAnimations !== null) {\r\n                this.visibleAnimations.forEach((animation) => {\r\n                    animation.items.onRedraw.call(this, animation);\r\n                });\r\n            }\r\n        }));\r\n    }\r\n    get animatorContainersWrapper() {\r\n        if (this.__animatorContainersWrapper) {\r\n            return this.__animatorContainersWrapper;\r\n        }\r\n        this.__animatorContainersWrapper = $(document.createElement('div'));\r\n        this.__animatorContainersWrapper.addClass([\r\n            CoreAnimator.PREFIX,\r\n            'containersWrapper',\r\n            this.uid,\r\n            'height',\r\n        ]);\r\n        this.activate(this.__animatorContainersWrapper);\r\n        $('.painting').appendChild(this.__animatorContainersWrapper);\r\n        return this.__animatorContainersWrapper;\r\n    }\r\n    async add(animationToBeConstructed) {\r\n        const mAnimationFactory = new AnimationFactory(this);\r\n        const animationObject = mAnimationFactory.create(animationToBeConstructed);\r\n        const { type, index, items, } = animationObject;\r\n        let lottieObject = null;\r\n        let solidObject = null;\r\n        switch (type) {\r\n            case 'null':\r\n                break;\r\n            case 'meta':\r\n                break;\r\n            case 'solid':\r\n                solidObject = await (new SolidFactory(this)).create(animationObject);\r\n                animationObject.items = {\r\n                    ...items,\r\n                    domContent: solidObject.domContent,\r\n                };\r\n                break;\r\n            case 'lottie':\r\n                lottieObject = await (new LottieFactory(this)).create(animationObject);\r\n                animationObject.items = {\r\n                    ...items,\r\n                    totalFrames: lottieObject.totalFrames,\r\n                    domContent: lottieObject.domContent,\r\n                    onFrame: (animationItem, frame) => {\r\n                        lottieObject.onFrame(animationItem, frame);\r\n                        items.onFrame(animationItem, frame);\r\n                    },\r\n                    onRedraw: (animationItem) => {\r\n                        this.onRedraw(animationItem);\r\n                        items.onRedraw(animationItem);\r\n                    },\r\n                    object: {\r\n                        lottie: lottieObject,\r\n                    },\r\n                };\r\n                break;\r\n            default:\r\n        }\r\n        switch (true) {\r\n            case type === 'meta':\r\n                this.metaAnimations.push(animationObject);\r\n                break;\r\n            case index === null:\r\n                // add to the end of the array\r\n                this.animations.push([animationObject]);\r\n                break;\r\n            case this.animations[index] === undefined:\r\n                // add a nested array to the index\r\n                this.animations[index] = [animationObject];\r\n                break;\r\n            case this.animations[index].constructor === Array:\r\n                // add to the nested array at the index\r\n                this.animations[index].push(animationObject);\r\n                break;\r\n            default:\r\n        }\r\n        // add up the 'totalFrames' of every animation\r\n        this.totalFrames = this.getMaxAttributeFromAnimationsItems('totalFrames', this.animations)\r\n            .reduce((accumulator, currentValue) => currentValue + accumulator, 0);\r\n        this.onAdd(animationObject);\r\n        return animationObject;\r\n    }\r\n    onAdd(animation) {\r\n        this.onNewAnimation(animation);\r\n        // to be overriden\r\n    }\r\n    getRelativeFrame(frame) {\r\n        return frame * this.totalFrames;\r\n    }\r\n    async rawAnimate(items, callback) {\r\n        const { from, to, options: { fps = 120, speed = 1, } = {}, } = items;\r\n        const inverted = to < from;\r\n        const processedFrom = inverted ? to : from;\r\n        const processedTo = inverted ? from : to;\r\n        if (items.options === undefined) {\r\n            return this.rawAnimate({\r\n                from: processedFrom,\r\n                to: processedTo,\r\n                options: {},\r\n            }, callback);\r\n        }\r\n        if (processedFrom === processedTo) {\r\n            callback(processedTo);\r\n            return new Promise((resolve) => resolve());\r\n        }\r\n        if (this.rafId !== null) {\r\n            cancelAnimationFrame(this.rafId);\r\n        }\r\n        return new Promise((resolve) => {\r\n            let i = processedFrom;\r\n            const step = () => {\r\n                callback(inverted ? processedTo - i : i);\r\n                if (i >= processedTo) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n                i += (1 * speed) * (fps / 60);\r\n                this.rafId = window.requestAnimationFrame(step);\r\n            };\r\n            this.rafId = window.requestAnimationFrame(step);\r\n        });\r\n    }\r\n    onNewAnimation(animation) {\r\n        const { onRedraw, domContent, } = animation.items;\r\n        if (domContent !== null) {\r\n            this.hide(domContent);\r\n        }\r\n        onRedraw(animation);\r\n        this.onWindowResize();\r\n        this.visibleAnimations = null;\r\n        this.onFrame(this.currentFrame);\r\n    }\r\n    onWindowResize() {\r\n        if (this.animatorContainers.length < 1) {\r\n            return;\r\n        }\r\n        const viewportHeight = WindowUtility.viewport.height;\r\n        const innerHeight = WindowUtility.inner.height;\r\n        if (viewportHeight === innerHeight) {\r\n            this.animatorContainersWrapper.removeClass('innerCenter');\r\n        }\r\n        else {\r\n            this.animatorContainersWrapper.addClass('innerCenter');\r\n        }\r\n        this.animatorContainers.fastEach((animatorContainer, i) => {\r\n            if (!(this.animations\r\n                && this.animations[i])) {\r\n                return;\r\n            }\r\n            this.animations.fastEach((workingAnimations) => {\r\n                workingAnimations.fastEach((workingAnimation) => {\r\n                    const { __container, width, height, } = workingAnimation.items;\r\n                    if (!__container) {\r\n                        return;\r\n                    }\r\n                    let workingWidth = null;\r\n                    let workingHeight = null;\r\n                    workingWidth = getValueWithinRange({\r\n                        minimum: width.minimum,\r\n                        maximum: width.maximum,\r\n                        value: WindowUtility.inner.width,\r\n                    });\r\n                    workingHeight = getValueWithinRange({\r\n                        minimum: height.minimum,\r\n                        maximum: height.maximum,\r\n                        value: WindowUtility.inner.height,\r\n                    });\r\n                    __container.css('width', workingWidth == null\r\n                        ? ''\r\n                        : workingWidth);\r\n                    __container.css('height', workingHeight === null\r\n                        ? ''\r\n                        : workingHeight);\r\n                });\r\n            });\r\n        });\r\n        // lottie.resize might throw reference error\r\n        try {\r\n            lottie.resize();\r\n        }\r\n        catch (err) {\r\n            //\r\n        }\r\n        function getValueWithinRange({ minimum, maximum, value, }) {\r\n            if (minimum === null\r\n                || maximum === null) {\r\n                return null;\r\n            }\r\n            let workingAttributeValue = null;\r\n            if (maximum) {\r\n                workingAttributeValue = Math.min(value, maximum);\r\n            }\r\n            if (minimum) {\r\n                workingAttributeValue = Math.max(value, minimum);\r\n            }\r\n            return workingAttributeValue;\r\n        }\r\n    }\r\n    onRedraw(animation) {\r\n        const { respectDevicePixelRatio, object, domContent, } = animation.items;\r\n        if (!object.lottie) {\r\n            return;\r\n        }\r\n        const lottieObjectDom = domContent;\r\n        if (respectDevicePixelRatio !== false) {\r\n            const lottieObjectContainersWrapperWidth = this.animatorContainersWrapper.clientWidth;\r\n            const lottieObjectContainersWrapperHeight = this.animatorContainersWrapper.clientHeight;\r\n            const lottieObjectWidth = parseFloat(lottieObjectDom.css('width', { computed: true })) / this.resolutionMultiplier;\r\n            const lottieObjectHeight = parseFloat(lottieObjectDom.css('height', { computed: true })) / this.resolutionMultiplier;\r\n            const offsetWidth = -(lottieObjectWidth - lottieObjectContainersWrapperWidth) / 2;\r\n            const offsetHeight = -(lottieObjectHeight - lottieObjectContainersWrapperHeight) / 2;\r\n            lottieObjectDom.css({\r\n                transform: `translate(${offsetWidth}px, ${offsetHeight}px) scale(${1 / this.resolutionMultiplier})`,\r\n            });\r\n        }\r\n    }\r\n    onFrame(frame) {\r\n        if (!(this.animations.length > 0)) {\r\n            return;\r\n        }\r\n        let animationIndex = null;\r\n        let currentAnimationsTotalFrames = null;\r\n        let workingAnimations = [];\r\n        const uids = [];\r\n        // TODO: optimize below code, use caching or something\r\n        if (frame <= 0) {\r\n            animationIndex = -1;\r\n            currentAnimationsTotalFrames = 0;\r\n            workingAnimations = this.animations[-1];\r\n        }\r\n        else {\r\n            // get an array of the 'totalFrames' of every animation,\r\n            // and then find the total frames and the index of the current animation\r\n            const animationTotalFrames = this.getMaxAttributeFromAnimationsItems('totalFrames', this.animations);\r\n            animationTotalFrames.reduce((accumulated, currentValue, i) => {\r\n                const accumulating = currentValue + accumulated;\r\n                // if the current accumulated value is more than the frame,\r\n                // it means that we've overshot and the previous index is the current animation\r\n                if (accumulating > frame\r\n                    // if i is the last index in the array,\r\n                    // we cut straight to it so it won't overshoot again and surpass this.animations\r\n                    // because the accumulating amount won't exeed the frame\r\n                    || i === animationTotalFrames.length - 1) {\r\n                    if (animationIndex === null) {\r\n                        animationIndex = i;\r\n                        currentAnimationsTotalFrames = currentValue + accumulated;\r\n                    }\r\n                    return 0;\r\n                }\r\n                // not there yet, continue accumulating\r\n                return accumulating;\r\n            }, 0);\r\n            workingAnimations = this.animations[animationIndex];\r\n        }\r\n        if (!workingAnimations) {\r\n            return;\r\n        }\r\n        const maxOffset = Math.max(...this.getMaxAttributeFromAnimationsItems('offset', [workingAnimations]));\r\n        const minOffset = Math.min(...this.getMinAttributeFromAnimationsItems('offset', [workingAnimations]));\r\n        workingAnimations.fastEach((workingAnimation) => {\r\n            const { __caller, __framesBeforeCurrent, uid, totalFrames, onFrame, offset, bezier, } = workingAnimation.items;\r\n            // slightly faster sometimes than Array.push() https://jsben.ch/gO5B7\r\n            uids[uids.length] = uid;\r\n            const mBezierUtility = new BezierUtility(bezier[0], bezier[1], bezier[2], bezier[3]);\r\n            const globalFrame = frame;\r\n            // todo: add support for mixing -ve and +ve offsets in one instance\r\n            let localFrame = mBezierUtility.getValue(Math.max(Math.min((((globalFrame\r\n                - __framesBeforeCurrent) + offset)\r\n                / ((currentAnimationsTotalFrames\r\n                    - __framesBeforeCurrent\r\n                // conditions below are for support of negative offsets\r\n                ) - (maxOffset || Math.abs(minOffset)) + (maxOffset && offset))), 1), 0))\r\n                * totalFrames;\r\n            localFrame = Number.isNaN(localFrame) ? totalFrames : localFrame;\r\n            if (window.DEBUG === true\r\n                && __caller.name !== 'FrameAnimator') {\r\n                console.log('frame', frame);\r\n                console.log('__caller', __caller.name);\r\n                console.log('workingAnimation', workingAnimation);\r\n                console.log('globalFrame', globalFrame);\r\n                console.log('animationIndex', animationIndex);\r\n                console.log('localFrame', localFrame);\r\n                console.log('currentAnimationsTotalFrames', currentAnimationsTotalFrames);\r\n                console.log('this.visibleAnimations', this.visibleAnimations);\r\n                console.log('this.animations', this.animations);\r\n                console.log('this.totalFrames', this.totalFrames);\r\n                console.log('');\r\n            }\r\n            this.currentFrame = frame;\r\n            this.onVisibleAnimationsChange(workingAnimations);\r\n            onFrame(workingAnimation, localFrame);\r\n        });\r\n        this.metaAnimations.fastEach((metaAnimation) => {\r\n            const { onFrame, } = metaAnimation.items;\r\n            const __framesBeforeCurrent = this.getTotalFramesBeforeIndex(animationIndex);\r\n            const mAnimationFactory = new AnimationFactory(this);\r\n            const animation = mAnimationFactory.create({\r\n                type: 'meta',\r\n                index: animationIndex,\r\n                items: {\r\n                    uid: uids.join(' '),\r\n                    totalFrames: currentAnimationsTotalFrames\r\n                        - __framesBeforeCurrent,\r\n                },\r\n            });\r\n            onFrame(animation, frame - __framesBeforeCurrent);\r\n        });\r\n    }\r\n    getMaxAttributeFromAnimationsItems(attributeKey, animations) {\r\n        if (this.maxAttributeCache[attributeKey]) {\r\n            return this.maxAttributeCache[attributeKey];\r\n        }\r\n        return animations.map((animation) => Math.max(...animation.map((workingAnimation) => (workingAnimation.items[attributeKey]))));\r\n    }\r\n    getMinAttributeFromAnimationsItems(attributeKey, animations) {\r\n        if (this.minAttributeCache[attributeKey]) {\r\n            return this.minAttributeCache[attributeKey];\r\n        }\r\n        return animations.map((animation) => Math.min(...animation.map((workingAnimation) => (workingAnimation.items[attributeKey]))));\r\n    }\r\n    getTotalFramesBeforeIndex(index) {\r\n        const totalFrames = this.getMaxAttributeFromAnimationsItems('totalFrames', this.animations);\r\n        let previousFrames = null;\r\n        totalFrames.reduce((accumulator, currentValue, i) => {\r\n            if (i >= index) {\r\n                if (previousFrames === null) {\r\n                    previousFrames = accumulator;\r\n                }\r\n                return 0;\r\n            }\r\n            if (i + 1 === index) {\r\n                previousFrames = currentValue + accumulator;\r\n            }\r\n            // not there yet, continue accumulating\r\n            return currentValue + accumulator;\r\n        }, 0);\r\n        return previousFrames;\r\n    }\r\n    onVisibleAnimationsChange(animations) {\r\n        if (this.visibleAnimations === animations) {\r\n            return;\r\n        }\r\n        animations.forEach((animation) => {\r\n            const { onVisible, onRedraw, domContent, } = animation.items;\r\n            onVisible(animation);\r\n            onRedraw(animation);\r\n            if (domContent === null) {\r\n                return;\r\n            }\r\n            this.unhide(domContent);\r\n        });\r\n        if (this.visibleAnimations === null) {\r\n            this.visibleAnimations = animations;\r\n            return;\r\n        }\r\n        if (this.visibleAnimations === animations) {\r\n            return;\r\n        }\r\n        this.visibleAnimations.forEach((visibleAnimation) => {\r\n            const { onHidden, domContent, } = visibleAnimation.items;\r\n            onHidden(visibleAnimation);\r\n            if (domContent === null) {\r\n                return;\r\n            }\r\n            this.hide(domContent);\r\n        });\r\n        this.visibleAnimations = animations;\r\n    }\r\n    seekToUid(targetUid) {\r\n        const handler = (workingAnimations, i) => {\r\n            workingAnimations.fastEach((workingAnimation) => {\r\n                const { uid, } = workingAnimation.items;\r\n                if (uid !== targetUid) {\r\n                    return;\r\n                }\r\n                const frame = this.getTotalFramesBeforeIndex(i + 1);\r\n                this.onSeek(Math.max(frame - 1, 0));\r\n            });\r\n        };\r\n        if (this.animations[-1]) {\r\n            handler(this.animations[-1], -1);\r\n        }\r\n        this.animations.fastEach(handler);\r\n    }\r\n    seekTo(frame) {\r\n        this.onSeek(frame);\r\n        this.onFrame(frame);\r\n    }\r\n    onSeek(frame) {\r\n        this.onFrame(frame);\r\n        // to be overriden\r\n    }\r\n    hide(domElement) {\r\n        return $(domElement).addClass('hidden');\r\n    }\r\n    unhide(domElement) {\r\n        return $(domElement).removeClass('hidden');\r\n    }\r\n    activate(domElement) {\r\n        return $(domElement).addClass('active');\r\n    }\r\n    deactivate(domElement) {\r\n        return $(domElement).removeClass('active');\r\n    }\r\n}\r\nCoreAnimator.PREFIX = '__animate';\r\n//# sourceMappingURL=core.animator.js.map","import { CoreAnimator } from './core.animator';\r\nexport class FrameAnimator extends CoreAnimator {\r\n    async animate(from, to, options = {}) {\r\n        return this.rawAnimate({\r\n            from,\r\n            to,\r\n            options,\r\n        }, (frame) => {\r\n            super.onFrame(frame);\r\n        });\r\n    }\r\n    async repeat(from, to, options = {}) {\r\n        for (;;) {\r\n            await this.animate(from, to, options);\r\n        }\r\n    }\r\n    cancelNextFrame() {\r\n        cancelAnimationFrame(this.rafId);\r\n    }\r\n}\r\n//# sourceMappingURL=frame.animator.js.map","import SmoothScroll from 'smoothscroll-for-websites';\r\nimport Darkmode from 'darkmode-js';\r\nimport { OhHiMark } from './core/ohHiMark.js';\r\nimport { $, $$ } from '../../../assets/js/resources/utilities.js';\r\nimport { FrameAnimator } from '../../../assets/js/resources/animators.js';\r\nimport '../css/main.css';\r\nclass Main {\r\n    constructor() {\r\n        this.skinDom = $('.skin');\r\n        this.cachedScroll = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.clickFrameAnimator = new FrameAnimator();\r\n        this.currentOnClickDom = null;\r\n        this.darkMode = new Darkmode();\r\n        this.isHorizontallyScrolling = null;\r\n    }\r\n    async create() {\r\n        this.skinDom.innerHTML = await OhHiMark.createFromUrl(this.uri);\r\n        SmoothScroll({\r\n            animationTime: 500,\r\n            touchpadSupport: false,\r\n            pulseScale: 6,\r\n        });\r\n        window.removeEventListener(SmoothScroll.wheelEvent, SmoothScroll.wheel);\r\n        $(window)\r\n            .on(SmoothScroll.wheelEvent, (event) => this.onVerticalScroll.call(this, event), { passive: false });\r\n        $(window)\r\n            .on('scroll', () => {\r\n            this.onScroll.call(this);\r\n        });\r\n        $(window)\r\n            .on('load resize', () => this.onResize.call(this));\r\n        this.updateIsHorizontallyScrolling();\r\n        this.clickFrameAnimator.add({\r\n            index: 0,\r\n            type: 'null',\r\n            items: {\r\n                totalFrames: 30,\r\n                onFrame: (animation, frame) => {\r\n                    const domContent = this.currentOnClickDom;\r\n                    const { totalFrames, } = animation.items;\r\n                    domContent.css({\r\n                        opacity: Math.ceil((totalFrames - frame) / 3) % 4 ? 0 : 1,\r\n                    });\r\n                },\r\n            },\r\n        });\r\n        $('.header.container.logo').on('click', async (event) => {\r\n            await this.onClick(event);\r\n            const origin = this.getSLD(location.href);\r\n            const referrerOrigin = this.getSLD(document.referrer);\r\n            // if is on domain or access through an ip\r\n            if (referrerOrigin !== origin) {\r\n                window.location.href = '/';\r\n                return;\r\n            }\r\n            window.history.back();\r\n        });\r\n        $('.header.container.night').on('click', async (event) => {\r\n            this.onClick(event);\r\n            this.darkMode.toggle();\r\n        });\r\n    }\r\n    getSLD(string) {\r\n        const withoutProtocol = string.substr(string.indexOf('//') + 2);\r\n        return withoutProtocol.substr(0, withoutProtocol.indexOf('/'));\r\n    }\r\n    get uri() {\r\n        let uri = String(window.location.href);\r\n        uri = uri.substr(uri.indexOf('#') + 1);\r\n        uri = !uri.includes('_') ? uri : uri.replace(/_/g, '/');\r\n        uri = !uri.includes('//') ? uri : uri.replace(/\\/\\//g, '_');\r\n        uri += uri.substr(-3) === '.md' ? '' : '.md';\r\n        uri = decodeURIComponent(uri);\r\n        return uri;\r\n    }\r\n    onResize() {\r\n        this.updateIsHorizontallyScrolling();\r\n    }\r\n    updateIsHorizontallyScrolling() {\r\n        this.isHorizontallyScrolling = getComputedStyle(document.body).overflowY === 'hidden';\r\n    }\r\n    async onClick(event) {\r\n        this.currentOnClickDom = $(event.currentTarget);\r\n        await this.clickFrameAnimator.animate(0, 30);\r\n    }\r\n    onScroll() {\r\n        const { scrollY, scrollX, } = window;\r\n        const { x, y, } = this.cachedScroll;\r\n        this.cachedScroll = {\r\n            x: scrollX,\r\n            y: scrollY,\r\n        };\r\n        if (scrollX - x > 0\r\n            || scrollY - y > 0) {\r\n            $$('.header.container.logo, .header.container.night').fastEach((node) => node.removeClass('active'));\r\n            return;\r\n        }\r\n        $$('.header.container.logo, .header.container.night').fastEach((node) => node.addClass('active'));\r\n    }\r\n    onVerticalScroll(event) {\r\n        const deltaY = -event.wheelDeltaY;\r\n        // invert deltas when the page is horizonal\r\n        if (this.isHorizontallyScrolling) {\r\n            // @dependent: 11052020/1, 11052020/2, 11052020/3\r\n            SmoothScroll.wheel(event, deltaY, -0);\r\n            return;\r\n        }\r\n        // @dependent: 11052020/1, 11052020/2, 11052020/3\r\n        SmoothScroll.wheel(event, -0, deltaY);\r\n    }\r\n}\r\n(async () => {\r\n    (new Main()).create();\r\n})();\r\n//# sourceMappingURL=main.js.map"],"names":["activeElement","observer","refreshSize","deltaBufferTimer","defaultOptions","frameRate","animationTime","stepSize","pulseAlgorithm","pulseScale","pulseNormalize","accelerationDelta","accelerationMax","keyboardSupport","arrowScroll","fixedBackground","excluded","options","isFrame","direction","x","y","initDone","root","document","documentElement","deltaBuffer","isMac","test","navigator","platform","key","arrowKeys","37","38","39","40","init","body","html","windowHeight","window","innerHeight","scrollHeight","compatMode","indexOf","addEvent","keydown","top","self","isOldSafari","offsetHeight","pendingRefresh","fullPageElem","createElement","style","cssText","appendChild","setTimeout","height","MutationObserver","observe","attributes","childList","characterData","clearfix","clear","backgroundAttachment","que","pending","lastScroll","Date","now","scrollArray","elem","left","elapsed","factor","Math","min","push","lastX","lastY","start","scrollRoot","getScrollRoot","isWindowScroll","$scrollBehavior","el","id","uniqueID","smoothBehaviorForElement","scrollBehavior","getComputedStyle","isScrollBehaviorSmooth","requestFrame","step","time","scrollX","scrollY","i","length","item","finished","position","pulse","splice","scrollBy","scrollLeft","scrollTop","wheel","event","overrideX","overrideY","target","defaultPrevented","ctrlKey","isNodeName","src","shadowRoot","deltaX","undefined","wheelDeltaX","deltaY","wheelDeltaY","isDivisible","abs","wheelDelta","deltaMode","overflowing","overflowingAncestor","shift","clearTimeout","localStorage","SS_deltaBuffer","join","e","dpiScaledWheelDelta","allDeltasDivisableBy","tp","isTouchpad","preventDefault","scheduleClearCache","isChrome","Object","defineProperty","value","frameElement","parent","modifier","altKey","metaKey","shiftKey","keyCode","contains","buttonTypes","nodeName","type","isControl","URL","classList","parentNode","isInsideYoutubeVideo","isContentEditable","clientHeight","scrollingElement","scrollRemaining","mousedown","clearCacheTimer","cacheX","cacheY","setInterval","setCache","elems","cache","getCache","rootScrollHeight","cached","isContentOverflowing","overflowAutoOrScroll","parentElement","overflow","getPropertyValue","fn","arg","addEventListener","removeEvent","removeEventListener","tag","toLowerCase","split","n","divisor","floor","SCROLL_ROOT","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","element","delay","WebKitMutationObserver","MozMutationObserver","dummy","bodyScrollTop","removeChild","pulse_","val","exp","userAgent","isEdge","isSafari","isMobile","isIEWin7","isEnabledForBrowser","supportsPassive","get","wheelOpt","passive","wheelEvent","SmoothScroll","optionsToSet","hasOwnProperty","destroy","disconnect","SmoothScrollOptions","module","factory","modules","installedModules","__webpack_require__","moduleId","exports","l","call","m","c","d","name","getter","o","enumerable","r","Symbol","toStringTag","t","mode","__esModule","ns","create","bind","object","property","prototype","p","s","./src/darkmode.js","_defineProperties","props","descriptor","configurable","writable","default","IS_BROWSER","Darkmode","instance","Constructor","TypeError","_classCallCheck","this","assign","bottom","right","mixColor","backgroundColor","buttonColorDark","buttonColorLight","label","saveInCookies","autoMatchOsTheme","css","concat","layer","button","background","innerHTML","add","darkmodeActivated","getItem","preferedThemeOs","matchMedia","matches","darkmodeNeverActivatedByAction","insertBefore","firstChild","addStyle","protoProps","staticProps","linkElement","setAttribute","encodeURIComponent","head","_this","parseFloat","remove","isDarkmode","isActivated","removeAttribute","toggle","setItem","./src/index.js","_darkmode","obj","newObj","desc","getOwnPropertyDescriptor","set","_interopRequireWildcard","_default","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelperLoose","allowArrayLike","it","iterator","isArray","minLen","toString","slice","constructor","from","_unsupportedIterableToArray","done","next","defaults","createCommonjsModule","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","&","<",">","\"","'","getEscapeReplacement","ch","unescapeTest","unescape","replace","_","charAt","String","fromCharCode","parseInt","substring","caret","nonWordAndColonTest","originIndependentUrl","baseUrls","justDomain","protocol","domain","resolveUrl","base","href","rtrim","relativeBase","str","invert","suffLen","currChar","substr","helpers","encode","regex","opt","source","getRegex","RegExp","prot","decodeURIComponent","encodeURI","exec","arguments","tableRow","count","cells","match","offset","escaped","curr","trim","b","level","console","warn","defaults$1","rtrim$1","splitCells$1","_escape","findClosingBracket$1","outputLink","cap","link","raw","title","text","Tokenizer_1","Tokenizer","_proto","space","rules","block","newline","code","tokens","lastToken","trimRight","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentCodeCompensation","lang","heading","depth","nptable","header","align","hr","blockquote","list","addBack","loose","istask","ischecked","bull","isordered","isparen","ordered","items","itemMatch","bullet","task","checked","pre","def","table","lheading","paragraph","escape","inline","inLink","inRawBlock","lastParenIndex","linkLen","_escapes","reflink","links","nolink","strong","maskedSrc","prevChar","punctuation","endReg","endAst","endUnd","lastIndex","middle","index","em","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","startsWith","endsWith","br","del","autolink","url","prevCapZero","_backpedal","inlineText","noopTest$1","edit$1","merge$1","_paragraph","_label","_title","_tag","_comment","normal","reflinkSearch","_punctuation","_blockSkip","_overlapSkip","blockSkip","overlapSkip","_scheme","_email","_attribute","_href","_extended_email","defaults$2","block$1","inline$1","out","charCodeAt","random","Lexer_1","Lexer","lex","blockTokens","token","errMsg","error","Error","j","k","l2","row","inlineTokens","keys","includes","lastIndexOf","repeat","defaults$3","cleanUrl$1","escape$1","Renderer_1","Renderer","_code","infostring","quote","_html","slugger","slug","listitem","checkbox","tablerow","content","tablecell","flags","image","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","originalSlug","defaults$4","unescape$1","Parser_1","Parser","textRenderer","parse","l3","cell","itemBody","parseInline","unshift","merge$2","checkSanitizeDeprecation$1","escape$2","defaults$5","marked","err","_tokens","message","setOptions","use","extension","opts","_loop","prop","prevRenderer","_len","args","_key","ret","apply","_loop2","prevTokenizer","_len2","_key2","_step","_iterator","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","parser","lexer","OhHiMark","[object Object]","md","processedMd","PREPROCESSORS","forEach","preprocessor","preprocess","fetched","fetch","ok","parts","processedParts","getAll","part","parsed","fastEach","processedTag","processedPart","classes","$Factory","objectToCreateFrom","ForUtility","addToArrayPrototype","evaluate","functionToEvaluate","addClass","classNames","className","removeClass","toggleClass","processedValue","returnedValues","propertyHasParentheses","stackable","hasParentheses","computed","valueWithUnit","getValueWithoutUnit","returnAsObject","getAttributesFromValueString","valueWithoutUnit","Number","isNaN","getValueWithUnit","oldAttributes","newAttributes","processedAttributes","valueArray","valueString","attributeKey","getValueStringFromAttributes","returnedValue","formatValueString","valueStringWithAttributes","valueArrayWithAttributes","attributeKeys","attributeValues","attribute","search","attributeObject","on","eventsStr","events","selector","handler","eventOptions","option","eventStr","processedEvent","off","Function","getJSON","response","json","$","$$","NotJQuery","m$Factory","values","find","queryResult","querySelector","querySelectorAll","mNotJQuery","__forUtilitySingletonExecuted","methods","ctx","forAwait","workingArray","_this2","returnValues","getSome","WindowUtility","invalidateCache","inner","viewport","client","amount","width","devicePixelRatio","_this$cache2","_this$cache2$client","clientWidth","_this$cache4","_this$cache4$inner","innerWidth","_this$cache6","_this$cache6$viewport","viewportCalibrator","offsetWidth","_this$cache7","refresh","BezierUtility","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","sampleValues","Float32Array","calcBezier","getValue","getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","getSlope","newtonRaphsonIterate","binarySubdivide","A","aA1","aA2","B","C","aT","aA","aB","currentX","currentT","aGuessT","currentSlope","lottie","bodymovin","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","bm_pow","pow","bm_sqrt","sqrt","bm_floor","bm_min","BMMath","ProjectInterface","propertyNames","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","createElementID","_count","HSVtoRGB","h","v","g","f","q","RGBtoHSV","max","addSaturationToRGB","color","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","eventName","_cbs","createTypedArray","Uint8ClampedArray","Int16Array","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","container","_isAnimated","iterateDynamicProperties","_mdf","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","round","reset","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","a","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","global","startdenom","significance","ARC4","keylen","me","S","copy","mixkey","seed","smear","stringseed","tostring","shortseed","flatten","result","typ","entropy","nodecrypto","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","state","BezierFactory","ob","nm","beziers","bezEasing","BezierEasing","float32ArraySupported","points","_mSampleValues","_precomputed","_precompute","_getTForX","_calcSampleValues","mSampleValues","extendPrototype","sources","destination","sourcePrototype","attr","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","flag","bezier_segment_points","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","cancelAnimationFrame","currTime","getTime","timeToCall","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","JSON","stringify","ks","path","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","pathData","paths","data","__converted","checkColors","iterateShapes","checkShapes","cl","singleShape","moduleOb","__complete","dataManager","FontManager","emptyChar","w","size","combinedCharacters","setUpNode","font","family","fontFamily","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","familyArray","enabledFamilies","trimFontOptions","createHelper","fontData","tHelper","createNS","fFamily","fStyle","fWeight","textContent","fClass","getContext","Font","fonts","typekitLoaded","isLoaded","initTime","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","getCombinedCharacterCodes","addChars","found","addFonts","defs","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","origin","rel","sc","helper","getCharData","char","getFontByName","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","PropertyFactory","initFrame","math_abs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","keyframes","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","atan2","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","appliedTransformations","px","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shape_pool","releaseShapes","addShape","ShapeProperty","shapeCollection_pool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","_cw","_v","StarShapeProperty","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","convertRectToPath","v0","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","distance","newPosPerc","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","itemsTransform","cont","copies","ceil","group","ix","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","op","comparePoints","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","original_path","imagePath","u","_imageLoaded","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","getImage","img","createImgData","crossOrigin","createImageData","setAttributeNS","setCacheType","featureSupport","maskType","filtersFactory","createFilter","filId","fil","createAlphaToLuminanceFilter","feColorMatrix","assetLoader","formatResponse","xhr","responseText","load","errorCallback","XMLHttpRequest","open","responseType","send","onreadystatechange","readyState","status","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimator_animatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","mask","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","rot","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","styles","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","pool_factory","initialLength","_create","_release","_clone","pooling","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","wrapper","currentGlobalAlpha","contextData","CVContextData","transformMat","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","filterID","expan","lastPath","lastOperator","filterId","lastRadius","createLayerSolidPath","getShapeProp","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGShapeData","transformers","caches","lStr","lvl","ShapeGroupData","prevViewData","gr","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","transforms","addTransformSequence","trNodes","BaseElement","NullElement","initBaseData","initTransform","initHierarchy","SVGBaseElement","IShapeElement","ITextElement","ICompElement","IImageElement","getAssetData","initElement","sourceRect","ISolidElement","AudioElement","initRenderable","_isPlaying","_canPlay","audioController","_currentTime","tm","_placeholder","SVGShapeElement","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","saved","cArrPos","cTr","cO","savedOp","CVBaseElement","CVImageElement","imageLoader","CVCompElement","CVMaskElement","hasMasks","CVShapeElement","CVSolidElement","CVTextElement","textSpans","stroke","fill","currentRender","sWidth","fValue","CVEffects","checkLayers","num","ip","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","imagePreloader","fr","compSize","SVGTextElement","SVGCompElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","hide","display","show","ctxTransform","cProps","trProps","canvasContext","ctxOpacity","globalAlpha","restore","save","actionFlag","duplicate","blendMode","popped","transformOrigin","mozTransformOrigin","webkitTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","par","fillType","beginPath","closePath","clip","clearRect","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","_isParent","prepareProperties","isVisible","_matMdf","_opMdf","ao","renderTransform","globalToLocal","ptNew","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","hd","renderElement","renderInnerContent","innerElem","destroyBaseElement","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","styleOb","SVGStyleData","pathElement","pElem","SVGStrokeStyleData","SVGFillStyleData","SVGGradientFillStyleData","SVGGradientStrokeStyleData","gf","ms","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","SVGTransformData","createShapeElement","ownTransformers","SVGElementsRenderer","createRenderFunction","setElementStyles","render","currentTransform","processedPos","ownStyles","ownModifiers","renderShape","msElem","animatedContent","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","opacity","dashResetter","styleElem","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderPath","renderFill","renderStroke","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","itemData","styleData","createLinearGradient","ang","dist","createRadialGradient","cValues","addColorStop","hasFill","hasStroke","commands","pathArr","renderedLetter","lastFill","lastStroke","lastStrokeW","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","first","loadAnimation","params","setParams","setSpeed","setDirection","stop","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","getElementsByTagName","div","resize","goToAndStop","freeze","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","rendererSettings","HybridRenderer","autoloadSegments","initialSegment","fileName","trigger","wrapperAttributes","getNamedItem","prerender","completeData","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","playSegments","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","easeInBez","easeOutBez","easeInOutBez","initiateExpression","needsVelocity","_needsRandom","elemType","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loopOut","smooth","toWorld","fromWorld","fromComp","toComp","anchorPoint","thisLayer","thisComp","velocityAtTime","__expression_functions","scoped_bm_rt","xf","eval","expression_function","numKeys","active","wiggle","freq","amp","addedAmps","iterations","periods","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","seedRandom","seedrandom","randSeed","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","speed","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","duration","durationFlag","cycleDuration","firstKeyFrame","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotation","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","inTangents","outTangents","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","defineProperties","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","_dashPropertyGroup","dashOb","addPropertyToDashOb","strokeWidth","dash","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_sourceText","_thisLayerFunction","sourceText","stringValue","_prevValue","toWorldMat","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_transformFactory","_pz","_px","_py","compositions","_thisProjectFunction","createGroupInterface","groupInterface","ef","effectElements","createValueInterface","enabled","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TextExpressionSelectorProp","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","getValueProxy","total","eff","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","clearInterval","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","__getFactory","version","scripts","myScript","AnimationFactory","thisArg","baseObject","baseItemsObject","__caller","__container","createAndReturnNewContainerDom","__framesBeforeCurrent","getTotalFramesBeforeIndex","uid","performance","domContent","disabled","respectDevicePixelRatio","bezier","maximum","onFrame","onVisible","onHidden","onRedraw","animationObject","animatorContainer","CoreAnimator","PREFIX","animatorContainersWrapper","animatorContainers","LottieFactory","_this3","resolutionMultiplier","Promise","resolve","lottieObject","frame","onLottieObjectCreated","lottieObjectDom","SolidFactory","_this4","createAndReturnDomContent","mWindowUtility","metaAnimations","__animatorContainersWrapper","visibleAnimations","rafId","maxAttributeCache","minAttributeCache","onWindowResize","animationToBeConstructed","_this5","solidObject","getMaxAttributeFromAnimationsItems","reduce","accumulator","onAdd","onNewAnimation","getRelativeFrame","rawAnimate","fps","inverted","processedFrom","processedTo","_this6","workingAnimations","workingAnimation","workingWidth","workingHeight","getValueWithinRange","workingAttributeValue","lottieObjectContainersWrapperWidth","lottieObjectContainersWrapperHeight","animationIndex","currentAnimationsTotalFrames","uids","animationTotalFrames","accumulated","accumulating","maxOffset","minOffset","getMinAttributeFromAnimationsItems","mBezierUtility","globalFrame","localFrame","DEBUG","log","onVisibleAnimationsChange","metaAnimation","previousFrames","unhide","visibleAnimation","seekToUid","targetUid","onSeek","seekTo","domElement","deactivate","FrameAnimator","animate","_this7","_superprop_getOnFrame","_this8","cancelNextFrame","Main","skinDom","cachedScroll","clickFrameAnimator","currentOnClickDom","darkMode","isHorizontallyScrolling","_this9","createFromUrl","uri","touchpadSupport","onVerticalScroll","onScroll","onResize","updateIsHorizontallyScrolling","onClick","getSLD","location","referrer","history","back","string","withoutProtocol","overflowY","_this10","currentTarget","_asyncToGenerator"],"mappings":"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"}